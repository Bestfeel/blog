<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">

  <title>Feel&#39;s blog</title>
  <meta name="author" content="feel">

  <meta name="description" content="feel&#39;s blog | java | scala | python | javascript| linux | nodejs| Machine Learning|go">


  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">


  <meta property="og:site_name" content="Feel&#39;s blog">


  <meta property="og:image" content="undefined">

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="alternate" href="/atom.xml" title="Feel&#39;s blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <a href="https://github.com/Bestfeel" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

</head>

</html>

<body>
  <header id="header" class="inner">
    <div class="alignleft">
      <h1><a href="/">Feel&#39;s blog</a></h1>
      <h2><a href="/">知识从未如此性感</a></h2>
    </div>
    <nav id="main-nav" class="alignright">
      <ul>

        <li><a href="/">首页</a></li>

        <li><a href="/archives">归档</a></li>

        <li><a href="/site">下载</a></li>

        <li><a href="/about">联系我</a></li>

        <li><a href="http://download.feel88.cn">新版下载中心</a></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>



      <div class="clearfix"></div>
    </nav>
    <div class="clearfix"></div>
  </header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft">
      <div id="wrapper">
        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2017-01-04T08:46:48.000Z"><a href="/2017/01/04/python下安装MySQLdb/">2017-01-04</a></time>

              <h1 class="title"><a href="/2017/01/04/python下安装MySQLdb/">python 下安装 MySQLdb 填坑</a></h1>
            </header>
            <div class="entry">

              <p> &#x5728;&#x65B0;&#x7248;&#x7684; mac &#x4E0B;&#x5B89;&#x88C5;&#x4E00;&#x4E9B;&#x5E93;&#x7684;&#x65F6;&#x5019;&#x51FA;&#x73B0; <code>ld: library not found for -lssl</code> &#x7B49;&#x7C7B;&#x4F3C;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;
                &#x8BF4;&#x5E93;&#x91CC;&#x7F3A;&#x5C11;&#x94FE;&#x63A5;&#xFF0C;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x7B49;&#x7B49;&#x3002;&#x5176;&#x5B9E;&#x90FD;&#x548C; xcode &#x6709;&#x5173;&#x7CFB;
                <a href="http://railsapps.github.io/xcode-command-line-tools.html" target="_blank" rel="external"> &#x53C2;&#x8003; </a></p>
              <p>&lt;!--more--&gt;</p>
              <p>
                <figure class="highlight crystal">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td>
                      <td class="code"><pre><span class="line">cc -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -<span class="constant">Wl</span>,-<span class="constant">F</span>. build/temp.macosx-<span class="number">10.12</span>-intel-<span class="number">2.7</span>/_mysql.o -<span class="constant">L</span>/usr/local/<span class="constant">Cellar</span>/mysql/<span class="number">5.7</span>.<span class="number">17</span>/<span class="class"><span class="keyword">lib</span> -<span class="title">lmysqlclient</span> -<span class="title">lssl</span> -<span class="title">lcrypto</span> -<span class="title">o</span> <span class="title">build</span>/<span class="title">lib</span>.<span class="title">macosx</span>-10.12-<span class="title">intel</span>-2.7/<span class="title">_mysql</span>.<span class="title">so</span></span></span><br><span class="line">   <span class="symbol">ld:</span> library not found <span class="keyword">for</span> -lssl</span><br><span class="line">   <span class="symbol">clang:</span> <span class="symbol">error:</span> linker command failed <span class="keyword">with</span> exit code <span class="number">1</span> (use -v to see invocation)</span><br><span class="line">   <span class="symbol">error:</span> command <span class="string">&apos;cc&apos;</span> failed <span class="keyword">with</span> exit status <span class="number">1</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A; &#x5728; cmd &#x4E0B;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x547D;&#x4EE4; </p>
              <p>
                <figure class="highlight lua">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line">xcode-<span class="built_in">select</span> <span class="comment">--install</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x67E5;&#x770B;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F; </p>
              <p>
                <figure class="highlight sql">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line">xcode-<span class="operator"><span class="keyword">select</span> -<span class="keyword">p</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x6B64;&#x65F6;&#x518D;&#x5B89;&#x88C5; </p>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td>
                      <td class="code"><pre><span class="line">sudo  pip install mysql-python </span><br><span class="line"></span><br><span class="line">Collecting mysql-python</span><br><span class="line">  Downloading MySQL-python-<span class="number">1.2</span><span class="number">.5</span>.zip (<span class="number">108</span>kB)</span><br><span class="line">    <span class="number">100</span>% |&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;| <span class="number">112</span>kB <span class="number">427</span>kB/s </span><br><span class="line">Installing collected packages: mysql-python</span><br><span class="line">  Running setup.py install <span class="keyword">for</span> mysql-python ... done</span><br><span class="line">Successfully installed mysql-python-<span class="number">1.2</span><span class="number">.5</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-12-23T13:56:15.000Z"><a href="/2016/12/23/scala元编程/">2016-12-23</a></time>

              <h1 class="title"><a href="/2016/12/23/scala元编程/">scala 元编程</a></h1>
            </header>
            <div class="entry">

              <p>Ruby &#x7ECF;&#x9A8C;&#x7684;&#x670B;&#x53CB;&#x90FD;&#x77E5;&#x9053; Ruby &#x7684;&#x5143;&#x7F16;&#x7A0B;&#x5A01;&#x529B;&#x5341;&#x5206;&#x5F3A;&#x5927;. &#x5143;&#x7F16;&#x7A0B;&#x53EF;&#x4EE5;&#x5728;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x5B57;&#x6BB5;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x8FDB;&#x884C;&#x52A8;&#x6001;&#x4F7F;&#x7528;&#x3002;
                &#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x4F7F;&#x7528; scala &#x600E;&#x4E48;&#x8FDB;&#x884C;&#x5143;&#x7F16;&#x7A0B;&#x5462;? &lt;!--more--&gt; &#x5728; scala &#x4E2D;&#x6211;&#x4EEC;&#x9700;&#x8981; Dynamic &#x8FD9;&#x4E2A;&#x7279;&#x8D28;&#xFF0C;&#x6211;&#x4EEC;&#x67E5;&#x770B;&#x6E90;&#x7801;&#x53D1;&#x73B0;&#xFF0C;&#x5B83;&#x5E76;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x548C;&#x5B9E;&#x73B0;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#x548C;&#x5B57;&#x6BB5;&#x3002;
                Dynamic &#x7279;&#x8D28;&#x53EA;&#x8D77;&#x5230;&#x6807;&#x793A;&#x4F5C;&#x7528;, &#x8BE5;&#x7279;&#x8D28;&#x5E76;&#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;. &#x5047;&#x5982;&#x7F16;&#x8BD1;&#x5668;&#x67E5;&#x770B;&#x5230;&#x8BE5;&#x7279;&#x8D28;,
                &#x5728;&#x5904;&#x7406;&#x8BE5;&#x7279;&#x8D28;&#x65F6;&#x4F1A;&#x9075;&#x5FAA;&#x67D0;&#x4E00;&#x7279;&#x6B8A;&#x534F;&#x8BAE;.
              </p>
              <p>
                <figure class="highlight scala">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Dynamic</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Any</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x5728;&#x6211;&#x4EEC;&#x7684;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x4E2D;&#x5B9E;&#x73B0; Dynamic&#x3002;&#x5E76;&#x4E14;&#x5BFC;&#x5165; import scala.language.dynamics&#x3002; &#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6848;&#x4F8B;&#xFF1A;</p>
              <p>
                <figure class="highlight scala">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">package</span> com.gizwits.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.language.dynamics</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Dynamic</span> {</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span>(</span>) = println(<span class="string">&quot;hell  world&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">selectDynamic</span>(</span>field: <span class="type">String</span>) = field <span class="keyword">match</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;name&quot;</span> =&gt; <span class="string">&quot;feel&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;age&quot;</span> =&gt; <span class="number">100</span></span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">RuntimeException</span>(<span class="string">&quot;new field&quot;</span>)</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DynamicsMethod</span> {</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span>(</span>args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">val</span> <span class="title">person</span> =</span> <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">    person.show</span><br><span class="line">    println(person.name)</span><br><span class="line">    println(person.age)</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x5982;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x52A8;&#x6001;&#x4F7F;&#x7528;&#x5B57;&#x6BB5;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5B9E;&#x73B0; selectDynamic &#x65B9;&#x6CD5;&#x3002; &#x7C7B;&#x4F3C;&#x7684;&#x5176;&#x4ED6;&#x4F7F;&#x7528;
              </p>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td>
                      <td class="code"><pre><span class="line">foo.<span class="function"><span class="title">method</span><span class="params">(&#x201C;blah&#x201D;)</span></span> &#x2013;&gt; foo.<span class="function"><span class="title">applyDynamic</span><span class="params">(&#x201C;method&#x201D;)</span><span class="params">(&#x201C;blah&#x201D;)</span></span></span><br><span class="line">foo.<span class="function"><span class="title">method</span><span class="params">(x = &#x201C;blah&#x201D;)</span></span> &#x2013;&gt; foo.<span class="function"><span class="title">applyDynamic</span><span class="params">(&#x201C;method&#x201D;)</span><span class="params">((&#x201C;x&#x201D;,&#x201D;blah&#x201D;)</span></span>)</span><br><span class="line">foo<span class="class">.field</span> &#x2013;&gt; foo.<span class="function"><span class="title">selectDynamic</span><span class="params">(&#x201C;field&#x201D;)</span></span></span><br><span class="line">foo<span class="class">.varia</span> = <span class="number">10</span> &#x2013;&gt; foo.<span class="function"><span class="title">updateDynamic</span><span class="params">(&#x201C;field&#x201D;)</span><span class="params">(<span class="number">10</span>)</span></span></span><br><span class="line">foo.<span class="function"><span class="title">arr</span><span class="params">(<span class="number">10</span>)</span></span>=<span class="number">13</span> &#x2013;&gt; foo.<span class="function"><span class="title">selectDynamic</span><span class="params">(&#x201C;arr&#x201D;)</span></span>.<span class="function"><span class="title">update</span><span class="params">(<span class="number">10</span>,<span class="number">13</span>)</span></span></span><br><span class="line">foo.<span class="function"><span class="title">arr</span><span class="params">(<span class="number">10</span>)</span></span> &#x2013;&gt; foo.<span class="function"><span class="title">applyDynamic</span><span class="params">(&#x201C;arr&#x201D;)</span><span class="params">(<span class="number">10</span>)</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-11-21T16:35:13.000Z"><a href="/2016/11/22/线程安全问题/">2016-11-22</a></time>

              <h1 class="title"><a href="/2016/11/22/线程安全问题/">线程安全问题</a></h1>
            </header>
            <div class="entry">

              <p> &#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#x4E00;&#x76F4;&#x662F;&#x4E1A;&#x754C;&#x7684;&#x96BE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x7A0B;&#x5E8F;&#x4E2D;&#x8BBE;&#x8BA1;&#x5230;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x4E48;&#x606D;&#x559C;&#x4F60;&#xFF01;&#x4F60;&#x5DF2;&#x7ECF;&#x8D70;&#x5728;&#x5728;&#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#x7684;&#x9053;&#x8DEF;&#x4E0A;&#x3002;</p>
              <p>&lt;!--more--&gt;</p>
              <p> &#x8D77;&#x56E0;: &#x4ECA;&#x65E9;&#x4E0A;&#x73ED;&#x7A81;&#x7136;&#x6536;&#x5230;&#x90AE;&#x4EF6;&#xFF0C;&#x4E8B;&#x4E1A;&#x90E8;&#x5728;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x4EFF;&#x771F;&#x7CFB;&#x7EDF;&#x7684;&#x65F6;&#x5019;, &#x53D1;&#x73B0;&#x6709;&#x4E2A;&#x9700;&#x6C42;&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x4ED6;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#x3002;&#x5728;&#x8BBE;&#x5907;&#x4EA7;&#x751F;&#x6570;&#x636E;&#x70B9;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x4E0A;&#x4E00;&#x4E9B;&#x72B6;&#x6001;&#x503C;&#x7684;&#x65F6;&#x5019;&#x51FA;&#x73B0;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x95EE;&#x9898;&#x3002;
                &#x9700;&#x6C42;&#x662F;&#x5B9E;&#x73B0;&#x81EA;&#x589E;&#xFF0C;&#x81EA;&#x51CF;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x6536;&#x5230;&#x90AE;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x4E0B;&#x610F;&#x8BC6;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x7ECF;&#x9A8C;&#x63D0;&#x4F9B;&#x4E86;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;
              </p>
              <ol>
                <li> &#x5728;&#x5B9E;&#x73B0;&#x7C7B;&#x4E2D;&#x4FDD;&#x8BC1;&#x5171;&#x4EAB;&#x53D8;&#x91CF;&#x7684;&#x7EBF;&#x7A0B;&#x5B89;&#x5168; </li>
                <li> &#x6211;&#x4EEC;&#x5728;&#x4EFF;&#x771F;&#x7CFB;&#x7EDF;&#x5E95;&#x5C42;&#x5C4F;&#x853D;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x95EE;&#x9898;&#x3002;</li>
              </ol>
              <p> &#x4F5C;&#x4E3A;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x6211;, &#x770B;&#x5230;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x6709;&#x70B9;&#x5BB3;&#x6015;&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x62C5;&#x5FC3;&#x7684;&#x662F;&#x4E4B;&#x524D;&#x600E;&#x4E48;&#x6CA1;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;
                &#x4E8E;&#x662F;&#x8D76;&#x7D27;&#x53BB;&#x67E5;&#x770B;&#x6E90;&#x7801;&#xFF0C;&#x5F00;&#x59CB;&#x89E3;&#x51B3;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6848;&#x3002; &#x603B;&#x7ED3;&#x662F;: &#x8BE5;&#x4E8B;&#x4E1A;&#x90E8;&#x7684;&#x540C;&#x4E8B;&#x4E0D;&#x7406;&#x89E3;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x95EE;&#x9898;,
                &#x6CA1;&#x6709;&#x53BB;&#x67E5;&#x770B;&#x6E90;&#x7801;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x3002; &#x51E0;&#x5929;&#x524D;&#xFF0C; &#x6211;&#x6839;&#x636E;&#x8BB0;&#x5FC6;&#x7ED9;&#x4ED6;&#x4EEC;&#x7684;&#x7B54;&#x590D;&#x662F;&#x6BCF;&#x53F0;&#x8BBE;&#x5907;&#x7684;&#x7EBF;&#x7A0B;&#x6808;&#x662F;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5E76;&#x53D1;&#x95EE;&#x9898;&#x3002;
                &#x5728; java &#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#x7EBF;&#x7A0B;&#x7684;&#x5B89;&#x5168;&#x95EE;&#x9898;&#x603B;&#x7ED3;&#x5982;&#x4E0B;:</p>
              <ol>
                <li>
                  <p> &#x5C40;&#x90E8;&#x53D8;&#x91CF;: &#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x53D8;&#x91CF;&#x59CB;&#x7EC8;&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x4ED6;&#x6240;&#x5728;&#x7684;&#x7EBF;&#x7A0B;&#xFF08;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#xFF09;(&#x65E0;&#x72B6;&#x6001;&#x7684;&#x5BF9;&#x8C61;&#x4E00;&#x5B9A;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF09;&#xFF1B;&#x56E0;&#x4E3A;&#x65B9;&#x6CD5;&#x4E2D;&#x53D8;&#x91CF;&#x662F;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x72EC;&#x5360;&#x7684;&#xFF0C;&#x4E0D;&#x548C;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;.</p>
                </li>
                <li>
                  <p> &#x591A;&#x7EBF;&#x7A0B;&#x662F;&#x5426;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;, &#x662F;&#x5426;&#x5B58;&#x5728;&#x4E34;&#x754C;&#x8D44;&#x6E90; (&#x5982;&#x679C;&#x662F;&#x4E0D;&#x5171;&#x4EAB;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;,
                    &#x4E0D;&#x5B58;&#x5728;&#x4E34;&#x754C;&#x8D44;&#x6E90;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5219;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;)
                  </p>
                </li>
                <li>
                  <p> &#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5171;&#x4EAB;&#x7C7B;&#x5B9E;&#x4F8B;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#xFF0C;&#x7C7B;&#x5B9E;&#x4F8B;&#x672C;&#x8EAB; (&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#xFF08;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x5B58;&#x5728;),
                    &#x5219;&#x7EBF;&#x7A0B;&#x4E0D;&#x5B89;&#x5168; )</p>
                </li>
                <li>
                  <p> &#x7C7B;&#x9759;&#x6001;&#x53D8;&#x91CF; (&#x7EBF;&#x7A0B;&#x4E0D;&#x5B89;&#x5168;)</p>
                </li>
              </ol>
              <p> &#x5C40;&#x90E8;&#x53D8;&#x91CF; </p>
              <p>
                <figure class="highlight axapta">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> add(<span class="keyword">int</span> <span class="keyword">count</span>){</span><br><span class="line"><span class="keyword">return</span> ++<span class="keyword">count</span>;<span class="comment">// &#x8FD9;&#x91CC;&#x4E5F;&#x53EF;&#x4EE5;&#x8BF4;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x5BF9;&#x8C61;&#x4E00;&#x5B9A;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684; </span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x7EBF;&#x7A0B;&#x5185;&#x90E8;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;. &#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x5360;&#x7528;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6808;&#x7A7A;&#x95F4;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x5B9E;&#x4F8B;:</p>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">final ExecutorService service = Executors.newFixedThreadPool(<span class="number">100</span>);</span><br><span class="line">     final <span class="keyword">int</span> num = <span class="number">10000</span>;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) {</span><br><span class="line"> </span><br><span class="line">         service.execute(<span class="keyword">new</span> Runnable() {</span><br><span class="line"></span><br><span class="line">             <span class="keyword">long</span> startTime = <span class="number">0l</span>;</span><br><span class="line"></span><br><span class="line">             @<span class="function">Override</span><br><span class="line">             <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">                 startTime += <span class="number">1</span>;</span><br><span class="line">                 <span class="keyword">if</span> (startTime != <span class="number">1</span>) {</span><br><span class="line">                     System.out.println(<span class="string">&quot;startTime .......&quot;</span> + startTime);</span><br><span class="line">                 }</span><br><span class="line"></span><br><span class="line">             }</span><br><span class="line">         });</span><br><span class="line">     }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     service.shutdown();</span><br><span class="line">     service.awaitTermination(<span class="number">10</span>, TimeUnit.DAYS);</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x5F53;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;&#xFF0C;&#x8BBF;&#x95EE;&#x8BE5;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;&#x7684;&#x6210;&#x5458;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x7EBF;&#x7A0B;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x64CD;&#x4F5C;&#x3002;
                &#x5F53;&#x8BBF;&#x95EE;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x7684;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x6B64;&#x65F6;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x95EE;&#x9898;&#x7684;&#x3002;&#x65B9;&#x6CD5;&#x5185;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x5DF2;&#x7ECF;&#x662F;&#x653E;&#x5728;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x81EA;&#x5DF1;&#x7684;&#x6808;&#x533A;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x4F5C;&#x4E3A;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x88AB;&#x4ED6;&#x81EA;&#x5DF1;&#x7684;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;&#x5230;&#x3002;
              </p>
              <p>
                <figure class="highlight gradle">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">final</span> ExecutorService service = Executors.newFixedThreadPool(<span class="number">100</span>);</span><br><span class="line">     <span class="keyword">final</span> <span class="keyword">int</span> num = <span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">final</span> <span class="keyword">Count</span> <span class="keyword">count</span> = <span class="keyword">new</span> <span class="keyword">Count</span>();</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) {</span><br><span class="line"></span><br><span class="line">         <span class="keyword">final</span> <span class="keyword">int</span> a = i;</span><br><span class="line">         service.execute(<span class="keyword">new</span> Runnable() {</span><br><span class="line"></span><br><span class="line">             <span class="keyword">long</span> startTime = <span class="number">0</span>l;</span><br><span class="line"></span><br><span class="line">             @Override</span><br><span class="line">             <span class="keyword">public</span> <span class="keyword">void</span> run() {</span><br><span class="line"></span><br><span class="line">                 startTime += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                 <span class="keyword">if</span> (startTime != <span class="number">1</span>) {</span><br><span class="line">                     System.out.<span class="keyword">println</span>(<span class="string">&quot;startTime .......&quot;</span> + startTime);</span><br><span class="line">                 }</span><br><span class="line"></span><br><span class="line">                 <span class="keyword">count</span>.incr(<span class="number">1</span>);</span><br><span class="line">                 <span class="keyword">count</span>.send(a);</span><br><span class="line">             }</span><br><span class="line">         });</span><br><span class="line">     }</span><br><span class="line"></span><br><span class="line">     service.shutdown();</span><br><span class="line">     service.awaitTermination(<span class="number">10</span>, TimeUnit.DAYS);</span><br><span class="line"></span><br><span class="line">     System.out.<span class="keyword">println</span>(<span class="string">&quot;count....&quot;</span> + <span class="keyword">count</span>.getI());</span><br><span class="line">     System.out.<span class="keyword">println</span>(<span class="string">&quot;result....&quot;</span> + <span class="keyword">count</span>.send(<span class="number">0</span>));</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Count {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setI</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">incr</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.i += i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">send</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            Thread.sleep(randomIntValue(<span class="number">100</span>));</span><br><span class="line">        } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">        a += i;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">randomIntValue</span><span class="params">(<span class="keyword">int</span> num)</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Double(Math.<span class="built_in">floor</span>(Math.random() * num)).intValue();</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x6240;&#x4EE5;&#x5982;&#x679C;&#x8981;&#x89E3;&#x51B3;&#x8BE5;&#x540C;&#x4E8B;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8BBE;&#x5907;&#x5B9E;&#x73B0;&#x9012;&#x589E;&#x9012;&#x51CF;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x53EF;&#x4EE5;&#x5728;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x4E2D;&#x4F7F;&#x7528;
                ThreadLocal(&#x672C;&#x5730;&#x7EBF;&#x7A0B;) &#x6765;&#x4FDD;&#x5B58;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#x503C; (&#x56E0;&#x4E3A;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EA;&#x5171;&#x4EAB;&#x81EA;&#x5DF1;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x7684;&#x8BBF;&#x95EE;)&#x3002;
                &#x5982;&#x679C;&#x662F;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x5219;&#x8003;&#x8651;&#x4F7F;&#x7528; lock &#x5B9E;&#x73B0;&#xFF0C;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x65E0;&#x9501;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x5E95;&#x5C42;&#x53BB;&#x5C4F;&#x853D;&#x7EBF;&#x6027;&#x5B89;&#x5168;&#x95EE;&#x9898;&#x4F3C;&#x4E4E;&#x4E0D;&#x5408;&#x7406;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x53F0;&#x8BBE;&#x5907;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x4F1A;&#x5E26;&#x6765;&#x6027;&#x80FD;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
              <p>
                <figure class="highlight gherkin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td>
                      <td class="code"><pre><span class="line">/<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line"> <span class="keyword">*</span> Created by feel on 16/8/30.</span><br><span class="line"> <span class="keyword">*</span> &#x81EA;&#x5B9A;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x70B9;&#x751F;&#x6210;&#x89C4;&#x5219; </span><br><span class="line"> <span class="keyword">*</span>/</span><br><span class="line">public class SimplePayload extends AutomationPayloadAdapter {</span><br><span class="line">    /<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line">     <span class="keyword">*</span> <span class="comment">@param attrs &#x6570;&#x636E;&#x70B9;&#x5C5E;&#x6027;&#x503C; </span></span><br><span class="line">     <span class="keyword">*</span> <span class="comment">@param time  &#x8BBE;&#x5907;&#x8FD0;&#x884C;&#x65F6;&#x95F4; </span></span><br><span class="line">     <span class="keyword">*</span> <span class="comment">@param mode  &#x6570;&#x636E;&#x751F;&#x6210;&#x6A21;&#x5F0F; </span></span><br><span class="line">     <span class="keyword">*</span> <span class="comment">@return</span></span><br><span class="line">     <span class="keyword">*</span> <span class="comment">@throws IOException</span></span><br><span class="line">     <span class="keyword">*</span>/</span><br><span class="line">    <span class="comment">@Override</span></span><br><span class="line">    public int[] genDev2AppData(List<span class="variable">&lt;Attr&gt;</span> attrs, Long time, GenDataMode mode) throws IOException {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        return new int[0];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-11-21T16:07:54.000Z"><a href="/2016/11/22/Peterson无锁互斥算法/">2016-11-22</a></time>

              <h1 class="title"><a href="/2016/11/22/Peterson无锁互斥算法/">Peterson 无锁互斥算法</a></h1>
            </header>
            <div class="entry">

              <p> &#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8981;&#x89E3;&#x51B3;&#x7EBF;&#x7A0B;&#x4E92;&#x65A5;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x9501;&#x673A;&#x5236;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x5B9E;&#x73B0;&#x4E92;&#x65A5;&#x7684;&#x4E00;&#x79CD;&#x8F6F;&#x4EF6;&#x65B9;&#x6CD5;&#x662F;&#x91C7;&#x7528;&#x9501;&#x673A;&#x5236;&#xFF0C;&#x5373;&#x63D0;&#x4F9B;&#x4E00;&#x5BF9;&#x4E0A;&#x9501;&#x548C;&#x5F00;&#x9501;&#x539F;&#x8BED;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x9501;&#x53D8;&#x91CF;
                W &#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x524D;&#xFF0C;&#x901A;&#x8FC7;&#x9501;&#x53D8;&#x91CF;&#x6765;&#x5224;&#x65AD;&#x4E34;&#x754C;&#x8D44;&#x6E90;&#x662F;&#x5426;&#x88AB;&#x5360;&#x7528;&#x3002;</p>
              <p>Peterson &#x7B97;&#x6CD5;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#x4E92;&#x65A5;&#x9501;&#x7684;&#x5E76;&#x53D1;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x7684;&#x5355;&#x7528;&#x6237;&#x8D44;&#x6E90;&#x800C;&#x4E0D;&#x53D1;&#x751F;&#x8BBF;&#x95EE;&#x51B2;&#x7A81;&#x3002;</p>
              <p>&lt;!--more--&gt;</p>
              <h3 id="&#x540C;&#x6B65;&#x673A;&#x5236;&#x5E94;&#x8BE5;&#x9075;&#x5FAA;&#x7684;&#x51C6;&#x5219;"> &#x540C;&#x6B65;&#x673A;&#x5236;&#x5E94;&#x8BE5;&#x9075;&#x5FAA;&#x7684;&#x51C6;&#x5219;&#xFF1A;</h3>
              <ol>
                <li> &#x7A7A;&#x95F2;&#x8BA9;&#x8FDB; &#x5F53;&#x65E0;&#x8FDB;&#x7A0B;&#x5904;&#x4E8E;&#x4E34;&#x754C;&#x533A;&#x5185;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x8BA9;&#x4E00;&#x4E2A;&#x8981;&#x6C42;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8FDB;&#x7A0B;&#x7ACB;&#x5373;&#x8FDB;&#x5165;&#xFF0C;&#x4EE5;&#x6709;
                  &#x6548;&#x5730;&#x5229;&#x7528;&#x4E34;&#x754C;&#x8D44;&#x6E90;&#x3002;
                </li>
                <li> &#x5FD9;&#x5219;&#x7B49;&#x5F85; &#x5F53;&#x5DF2;&#x6709;&#x8FDB;&#x7A0B;&#x5904;&#x4E8E;&#x4E34;&#x754C;&#x533A;&#x5185;&#x65F6;&#xFF0C;&#x5176;&#x5B83;&#x8BD5;&#x56FE;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8FDB;&#x7A0B;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x5B83;
                  &#x4EEC;&#x4E92;&#x65A5;&#x5730;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x3002;
                </li>
                <li> &#x6709;&#x9650;&#x7B49;&#x5F85; &#x5BF9;&#x8981;&#x6C42;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E94;&#x5728;&#x6709;&#x9650;&#x65F6;&#x95F4;&#x5185;&#x4F7F;&#x4E4B;&#x8FDB;&#x5165;&#xFF0C;&#x4EE5;&#x514D;&#x9677;&#x5165;&#x201C;&#x6B7B;&#x7B49;&#x201D;&#x3002;</li>
                <li> &#x8BA9;&#x6743;&#x7B49;&#x5F85; &#x5BF9;&#x4E8E;&#x7B49;&#x5F85;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8FDB;&#x7A0B;&#x800C;&#x8A00;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x7ACB;&#x5373;&#x91CA;&#x653E;&#x5904;&#x7406;&#x673A;&#xFF0C;&#x4EE5;&#x514D;&#x8FDB;&#x7A0B;&#x201C;&#x5FD9;&#x7B49;&#x201D;</li>
              </ol>
              <p> &#x5047;&#x8BBE;&#x6709;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x4E92;&#x65A5;&#x7684;&#x8BBF;&#x95EE;&#x67D0;&#x4E00;&#x4E2A;&#x4E34;&#x754C;&#x533A;&#x3002;</p>
              <p> &#x7B97;&#x6CD5;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;</p>
              <p>
                <figure class="highlight cs">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td>
                      <td class="code"><pre><span class="line">package com.gizwits.concurrent;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Peterson &#x4E92;&#x65A5;&#x7B97;&#x6CD5; </span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Peterson</span> {</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#x7528;&#x4E8E;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x610F;&#x613F;&#xFF0C;&#x4E0B;&#x6807;&#x5BF9;&#x5E94;&#x8FDB;&#x7A0B;&#x53F7;. &#x4E3B;&#x89C2;&#x5730;&#x8868;&#x793A;&#x67D0;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x8D44;&#x6E90; </span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> boolean[] <span class="keyword">in</span> = {<span class="keyword">false</span>, <span class="keyword">false</span>};</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#x7528;&#x4E8E;&#x8868;&#x793A;&#x8F6E;&#x5230;&#x54EA;&#x4E2A;&#x8FDB;&#x7A0B;, &#x5BA2;&#x89C2;&#x5730;&#x8868;&#x793A;&#x54EA;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6709;&#x6743;&#x4F7F;&#x7528;&#x8FDB;&#x7A0B; </span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keyword">int</span> turn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A; </span><br><span class="line">     *</span><br><span class="line">     * @param process &#x8FDB;&#x7A0B;&#x53F7; </span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enterRegion</span>(<span class="params"><span class="keyword">int</span> process</span>) </span>{</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">while</span> (cnt-- &gt; <span class="number">0</span>) {</span><br><span class="line">            <span class="comment">// &#x8FDB;&#x7A0B; id &#x60F3;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;, &#x8868;&#x793A;&#x672C;&#x8FDB;&#x7A0B;&#x60F3;&#x4F7F;&#x7528;&#x8D44;&#x6E90; </span></span><br><span class="line">            <span class="keyword">in</span>[process] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// &#x53E6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x53F7; </span></span><br><span class="line">            <span class="keyword">int</span> other = <span class="number">1</span> - process;</span><br><span class="line">            <span class="comment">// &#x8BBE;&#x7F6E;&#x8F6E;&#x5230;&#x81EA;&#x5DF1;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x4E86;, &#x8C26;&#x8BA9;&#xFF0C;&#x628A;&#x4F7F;&#x7528;&#x8FDB;&#x7A0B;&#x7684;&#x6743;&#x9650;&#x8BA9;&#x7ED9;&#x5BF9;&#x65B9;&#x8FDB;&#x7A0B; </span></span><br><span class="line">            turn = other;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// &#x5982;&#x679C;&#x5BF9;&#x65B9;&#x8FDB;&#x7A0B;&#x60F3;&#x4F7F;&#x7528;&#x8D44;&#x6E90;&#xFF0C;&#x4E14;&#x5BF9;&#x65B9;&#x8FDB;&#x7A0B;&#x6709;&#x4F7F;&#x7528;&#x8D44;&#x6E90;&#x7684;&#x6743;&#x9650;&#x65F6;&#xFF0C;&#x672C;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85; </span></span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">in</span>[other] &amp;&amp; turn == other) {</span><br><span class="line">                System.<span class="keyword">out</span>.println(<span class="string">&quot;[&quot;</span> + process + <span class="string">&quot;] - wait...&quot;</span>);</span><br><span class="line">            }</span><br><span class="line">            System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------------[&quot;</span> + process + <span class="string">&quot;] Working&quot;</span>);</span><br><span class="line">            leaveRegion(process);    <span class="comment">// &#x672C;&#x8FDB;&#x7A0B;&#x7528;&#x5B8C;&#x8D44;&#x6E90;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x8868;&#x793A;&#x4E0D;&#x518D;&#x60F3;&#x7528;&#x8D44;&#x6E90; </span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">leaveRegion</span>(<span class="params"><span class="keyword">int</span> process</span>) </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">in</span>[process] = <span class="keyword">false</span>;     <span class="comment">// &#x672C;&#x8FDB;&#x7A0B;&#x7528;&#x5B8C;&#x8D44;&#x6E90;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x8868;&#x793A;&#x4E0D;&#x518D;&#x60F3;&#x7528;&#x8D44;&#x6E90; </span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>{</span><br><span class="line"></span><br><span class="line">        final Peterson peterson = <span class="keyword">new</span> Peterson();</span><br><span class="line">        <span class="keyword">int</span> threadNum = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; threadNum; i++) {</span><br><span class="line"></span><br><span class="line">            final <span class="keyword">int</span> finalI = i;</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() {</span><br><span class="line">                @<span class="function">Override</span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span>(<span class="params"></span>) </span>{</span><br><span class="line">                    peterson.enterRegion(finalI);</span><br><span class="line">                }</span><br><span class="line">            }).start();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x591A;&#x6B21;&#x8FD0;&#x884C;&#x51FA;&#x73B0;&#x4E92;&#x65A5;&#xFF1A;</p>
              <p>
                <figure class="highlight prolog">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td>
                      <td class="code"><pre><span class="line">-------------------[<span class="number">0</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">1</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">0</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">1</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">0</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">1</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">0</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">1</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">0</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">0</span>] <span class="name">Working</span></span><br><span class="line">[<span class="number">1</span>] - <span class="atom">wait</span>...</span><br><span class="line">-------------------[<span class="number">1</span>] <span class="name">Working</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6269;&#x5C55;&#x5230;-n-&#x4E2A;&#x7EBF;&#x7A0B;&#x4E92;&#x65A5;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x7684;-filter-&#x7B97;&#x6CD5;"> &#x6269;&#x5C55;&#x5230; N &#x4E2A;&#x7EBF;&#x7A0B;&#x4E92;&#x65A5;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x7684; filter &#x7B97;&#x6CD5; </h3>
              <p>
                <figure class="highlight stata">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="comment">// initialization</span></span><br><span class="line">level[<span class="keyword">N</span>] = { -1 };     <span class="comment">// current level of processes 0...N-1</span></span><br><span class="line">waiting[<span class="keyword">N</span>-1] = { -1 }; <span class="comment">// the waiting process of each level 0...N-2</span></span><br><span class="line"><span class="comment">// code for process #i</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">l</span> = 0; <span class="keyword">l</span> &lt; <span class="keyword">N</span>-1; ++<span class="keyword">l</span>) {</span><br><span class="line">    level[i] = <span class="keyword">l</span>;</span><br><span class="line">    waiting[<span class="keyword">l</span>] = i;</span><br><span class="line">    <span class="keyword">while</span>(waiting[<span class="keyword">l</span>] == i &amp;&amp;</span><br><span class="line">          (there exists k &#x2260; i, such that level[k] &#x2265; <span class="keyword">l</span>)) {</span><br><span class="line">        <span class="comment">// busy wait</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// critical section</span></span><br><span class="line">level[i] = -1; <span class="comment">// exit section</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-11-15T13:31:11.000Z"><a href="/2016/11/15/mysql5-7版本新特性/">2016-11-15</a></time>

              <h1 class="title"><a href="/2016/11/15/mysql5-7版本新特性/">mysql5.7 版本新特性</a></h1>
            </header>
            <div class="entry">

              <p>mysql 5.7 &#x7248;&#x672C;&#x65B0;&#x7279;&#x6027; </p>
              <p>&lt;!--more--&gt;</p>
              <h3 id="mysql-&#x670D;&#x52A1;&#x529F;&#x80FD;&#x589E;&#x5F3A;">mysql  &#x670D;&#x52A1;&#x529F;&#x80FD;&#x589E;&#x5F3A; </h3>
              <ul>
                <li> &#x6570;&#x636E;&#x5E93;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x5F0F;&#x53D8;&#x66F4; </li>
                <li> &#x652F;&#x6301;&#x4E3A;&#x8868;&#x589E;&#x52A0;&#x8BA1;&#x7B97;&#x5217; </li>
                <li> &#x5F15;&#x5165; json &#x5217;&#x7C7B;&#x578B;&#x53CA;&#x76F8;&#x5173;&#x51FD;&#x6570; </li>
              </ul>
              <h4 id="&#x6570;&#x636E;&#x5E93;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x5F0F;&#x53D8;&#x66F4;"> &#x6570;&#x636E;&#x5E93;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x5F0F;&#x53D8;&#x66F4; </h4>
              <ul>
                <li>mysql 5.7 &#x4E4B;&#x524D; </li>
              </ul>
              <p>
                <figure class="highlight brainfuck">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="comment">script/mysql_install_db</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">datadir=/data/sql_data</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">user=mysql</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">basedir=/home/mysql</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>mysql 5.7 &#x4E4B;&#x540E; </li>
              </ul>
              <p>
                <figure class="highlight brainfuck">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="comment">bin/mysqld</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">initialize</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">user=mysql</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">basedir=/home/mysql</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">datadir=/home/mysql/data</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="&#x652F;&#x6301;&#x4E3A;&#x8868;&#x589E;&#x52A0;&#x8BA1;&#x7B97;&#x5217;"> &#x652F;&#x6301;&#x4E3A;&#x8868;&#x589E;&#x52A0;&#x8BA1;&#x7B97;&#x5217; </h4>
              <ul>
                <li>
                  <p> &#x5728; 5.7 &#x4E4B;&#x524D; &#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x89E6;&#x53D1;&#x5668;&#x6765;&#x5B9E;&#x73B0;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x7684;&#x65B9;&#x5F0F;
                  </p>
                </li>
                <li>
                  <p> &#x5728; 5.7 &#x4E2D; &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x652F;&#x6301;&#x589E;&#x52A0;&#x5217;&#x7684;&#x65B9;&#x5F0F;
                  </p>
                </li>
              </ul>
              <p> &#x5982;&#x4E0B;: &#x63D2;&#x5165; c1,c3, &#x90A3;&#x4E48; c3 &#x81EA;&#x52A8;&#x8BA1;&#x7B97;&#x51FA;&#x6765; </p>
              <p>
                <figure class="highlight sql">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="operator"><span class="keyword">create</span>  <span class="keyword">table</span>  <span class="keyword">t</span>(<span class="keyword">id</span>  <span class="built_in">int</span>  auto_increment <span class="keyword">not</span> <span class="literal">null</span>, c1 <span class="built_in">int</span> ,c2 <span class="built_in">int</span> ,c3 <span class="built_in">int</span> <span class="keyword">as</span> (c1+c2) , primary <span class="keyword">key</span>(<span class="keyword">id</span>))</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="&#x5F15;&#x5165;-json-&#x5217;&#x7C7B;&#x578B;&#x53CA;&#x76F8;&#x5173;&#x51FD;&#x6570;"> &#x5F15;&#x5165; json &#x5217;&#x7C7B;&#x578B;&#x53CA;&#x76F8;&#x5173;&#x51FD;&#x6570; </h4>
              <ul>
                <li> &#x5728; 5.7 &#x4E4B;&#x524D;&#x3002;</li>
              </ul>
              <p> &#x53EA;&#x80FD;&#x5728; varchar &#x6216;&#x8005; text &#x7B49;&#x5B57;&#x7B26;&#x7C7B;&#x578B;&#x5B58;&#x50A8; json &#x7C7B;&#x578B;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x7A0B;&#x5E8F;&#x53BB;&#x89E3;&#x6790;&#x4F7F;&#x7528;
                json &#x5B57;&#x7B26;&#x4E32; </p>
              <ul>
                <li> &#x5728; 5.7 &#x4E2D; </li>
              </ul>
              <p> &#x589E;&#x5F3A;&#x4E86; json &#x7C7B;&#x578B;&#x5B58;&#x50A8;&#xFF0C;&#x5982; json_type(),json_object(),json_merge(),json_array() &#x7B49;&#x3002;</p>
              <h4 id="&#x652F;&#x6301;&#x591A;&#x6E90;&#x590D;&#x5236;"> &#x652F;&#x6301;&#x591A;&#x6E90;&#x590D;&#x5236; </h4>
              <h4 id="innodb-&#x5F15;&#x64CE;&#x589E;&#x5F3A;">innodb &#x5F15;&#x64CE;&#x589E;&#x5F3A; </h4>
              <ul>
                <li> &#x652F;&#x6301;&#x7F13;&#x51B2;&#x6C60;&#x5927;&#x5C0F;&#x5728;&#x7EBF;&#x53D8;&#x66F4; </li>
                <li> &#x589E;&#x52A0; innodb_buffer_pool &#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x529F;&#x80FD; </li>
                <li> &#x652F;&#x6301;&#x4E3A; innodb &#x8868;&#x5EFA;&#x7ACB;&#x8868;&#x7A7A;&#x95F4; </li>
              </ul>
              <h4 id="&#x5B89;&#x5168;&#x53CA;&#x7BA1;&#x7406;&#x65B9;&#x9762;&#x589E;&#x5F3A;"> &#x5B89;&#x5168;&#x53CA;&#x7BA1;&#x7406;&#x65B9;&#x9762;&#x589E;&#x5F3A; </h4>
              <ul>
                <li> &#x4E0D;&#x518D;&#x652F;&#x6301; old_password &#x8BA4;&#x8BC1; </li>
                <li> &#x589E;&#x52A0;&#x8D26;&#x53F7;&#x9ED8;&#x8BA4;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x53CA;&#x52A0;&#x5F3A;&#x4E86;&#x5BF9;&#x8D26;&#x53F7;&#x7684;&#x7BA1;&#x7406;&#x529F;&#x80FD; </li>
                <li> &#x589E;&#x52A0;&#x4E86; sys &#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93; </li>
              </ul>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-09-22T10:42:07.000Z"><a href="/2016/09/22/go编程笔记二/">2016-09-22</a></time>

              <h1 class="title"><a href="/2016/09/22/go编程笔记二/">go 编程笔记二</a></h1>
            </header>
            <div class="entry">

              <h2 id="&#x76EE;&#x5F55;"> &#x76EE;&#x5F55; </h2>
              <ul>
                <li><a href="#%E5%B9%B6%E5%8F%91Goroutine"> &#x5E76;&#x53D1; </a></li>
                <li><a href="#Channel">Channel</a></li>
                <li><a href="#%E5%8D%95%E5%90%91%E9%80%9A%E9%81%93"> &#x5355;&#x5411;&#x901A;&#x9053; </a></li>
                <li><a href="#%E5%BC%82%E6%AD%A5%E9%80%9A%E9%81%93"> &#x5F02;&#x6B65;&#x901A;&#x9053; </a></li>
                <li><a href="#Select">Select</a></li>
                <li><a href="#Timeout">Timeout</a></li>
                <li><a href="#%E6%B5%8B%E8%AF%95"> &#x6D4B;&#x8BD5; </a></li>
              </ul>
              <p>&lt;!--more--&gt;</p>
              <h3 id="&#x5E76;&#x53D1;-goroutine"> &#x5E76;&#x53D1; Goroutine</h3>
              <h3 id="channel">Channel</h3>
              <ul>
                <li>channel &#x662F;&#x5F15; &#x7C7B;&#x578B;, &#x4F7F; &quot;make(chan &lt;type&gt;)&quot; &#x521B;&#x5EFA;,&lt;type&gt; &#x662F;&#x8981;&#x4F20;&#x9012;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</li>
                <li>channel &#x4F7F; &quot;&lt;-&quot; &#x63A5;&#x6536;&#x548C;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;</li>
                <li>&quot;chan &lt;- data&quot; &#x53D1;&#x9001;&#x6570;&#x636E;,</li>
                <li>&quot;data &lt;- chan&quot; &#x63A5;&#x6536;&#x6570;&#x636E;,</li>
                <li> &#x53EF;&#x4EE5; &#x5FFD;&#x7565;&#x6389;&#x63A5;&#x6536;&#x7ED3;&#x679C;, &#x7EAF;&#x7CB9;&#x4F5C;&#x4E3A;&#x540C;&#x6B65;&#x4FE1;&#x53F7;&#x901A;&#x77E5;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;, &#x53D1;&#x9001;&#x548C;&#x63A5;&#x6536;&#x90FD;&#x4F1A;&#x88AB;&#x963B;&#x585E;
                  (block)&#x3002;
                </li>
                <li> &#x53D1;&#x9001;&#x64CD;&#x4F5C;&#x88AB;&#x963B;&#x585E;, &#x76F4;&#x5230;&#x63A5;&#x6536;&#x7AEF;&#x51C6;&#x5907;&#x597D;&#x63A5;&#x6536;&#x3002;</li>
                <li> &#x63A5;&#x6536;&#x64CD;&#x4F5C;&#x88AB;&#x963B;&#x585E;, &#x76F4;&#x5230;&#x53D1;&#x9001;&#x7AEF;&#x51C6;&#x5907;&#x597D;&#x53D1;&#x9001;&#x3002;</li>
              </ul>
              <p>&lt;!--more--&gt;</p>
              <p> &#x521B;&#x5EFA; channel &#x4F7F;&#x7528; make(chan bool) , &#x6267;&#x884C; &#x5E76;&#x53D1; &#x4F7F;&#x7528; &#x54E6; go method()</p>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;runtime&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">test</span><span class="params">(<span class="built_in">c</span> chan bool, b bool)</span></span> {</span><br><span class="line">    x := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100000000</span>; i++ {</span><br><span class="line">        x += i</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">println</span>(x)</span><br><span class="line">    <span class="keyword">if</span> b {</span><br><span class="line">        <span class="built_in">c</span> &lt;- <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="comment">// &#x544A;&#x77E5;&#x8C03;&#x5EA6;&#x5668;&#x540C;&#x65F6;&#x4F7F; &#x591A;&#x4E2A;&#x7EBF;&#x7A0B; </span></span><br><span class="line">    runtime.<span class="type">GOMAXPROCS</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">c</span> := make(chan bool)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100</span>; i++ {</span><br><span class="line">        go test(<span class="built_in">c</span>, i == <span class="number">99</span>)</span><br><span class="line">    }</span><br><span class="line">    &lt;-<span class="built_in">c</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &quot;time&quot;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">test1</span><span class="params">(<span class="built_in">c</span> chan int)</span></span> {</span><br><span class="line">    time.<span class="type">Sleep</span>(<span class="number">3</span> * time.<span class="type">Second</span>)</span><br><span class="line">    <span class="built_in">println</span>(<span class="string">&quot;go...&quot;</span>)</span><br><span class="line">    <span class="built_in">c</span> &lt;- <span class="number">1</span></span><br><span class="line">}</span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="built_in">c</span> := make(chan int)</span><br><span class="line">    go test1(<span class="built_in">c</span>)</span><br><span class="line">    <span class="built_in">println</span>(<span class="string">&quot;hi!&quot;</span>)</span><br><span class="line">    &lt;-<span class="built_in">c</span>       <span class="comment">// &#x963B;&#x585E;&#x7B49;&#x5F85;&#x9000;&#x51FA;&#x4FE1;&#x53F7;, &#x5FFD;&#x7565;&#x6389;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x3002;</span></span><br><span class="line">    <span class="built_in">println</span>(<span class="string">&quot;over!&quot;</span>)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li> &#x63A5;&#x6536;&#x7AEF;&#x4F7F; &#x8FED;&#x4EE3;&#x5668;&#x6216;&#x8005;&#x5FAA;&#x73AF;&#x63A5;&#x6536;&#x6570;&#x636E;, &#x5219;&#x5FC5;&#x987B;&#x8C03; close . &#x5426;&#x5219;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x63A5;&#x6536;&#x7AEF;
                  throw: all goroutines are asleep - deadlock!&#x3002;</li>
              </ul>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="built_in">c</span> := make(chan int)</span><br><span class="line">    go <span class="func"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">20</span>; i++ {</span><br><span class="line">            <span class="built_in">c</span> &lt;- i</span><br><span class="line">        }</span><br><span class="line">        close(<span class="built_in">c</span>) <span class="comment">// &#x5982;&#x679C;&#x4E0D;&#x5173;&#x95ED;, &#x4F1A;&#x5F15;&#x53D1;&#x63A5;&#x6536;&#x7AEF; throw: all goroutines are asleep - deadlock! }()</span></span><br><span class="line">        <span class="keyword">for</span> v := range <span class="built_in">c</span> {</span><br><span class="line">            <span class="built_in">println</span>(v)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="built_in">c</span> := make(chan int)</span><br><span class="line">    go <span class="func"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">20</span>; i++ {</span><br><span class="line">            <span class="built_in">c</span> &lt;- i</span><br><span class="line">        }</span><br><span class="line">        close(<span class="built_in">c</span>)</span><br><span class="line">    }()</span><br><span class="line">    <span class="keyword">for</span> {</span><br><span class="line">        <span class="keyword">if</span> v, ok := &lt;-<span class="built_in">c</span>; ok {</span><br><span class="line">            <span class="number">76</span></span><br><span class="line">            <span class="built_in">println</span>(v)</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="&#x5355;&#x5411;&#x901A;&#x9053;"> &#x5355;&#x5411;&#x901A;&#x9053; </h4>
              <ul>
                <li> &#x53EF;&#x4EE5;&#x5C06; channel &#x6307;&#x5B9A;&#x4E3A;&#x5355;&#x5411;&#x901A;&#x9053;&#x3002; &#x5982; &quot;&lt;-chan int&quot; &#x4EC5;&#x80FD;&#x63A5;&#x6536;, &quot;chan&lt;- int&quot; &#x4EC5;&#x80FD;&#x53D1;&#x9001;&#x3002;</li>
              </ul>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> recv(c &lt;-<span class="keyword">chan</span> <span class="typename">int</span>, over <span class="keyword">chan</span> &lt;- <span class="typename">bool</span>) {</span><br><span class="line">    <span class="keyword">for</span> v := <span class="keyword">range</span> c {</span><br><span class="line">        <span class="built_in">println</span>(v)</span><br><span class="line">    }</span><br><span class="line">    over &lt;- <span class="constant">true</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">func</span> send(c <span class="keyword">chan</span> &lt;- <span class="typename">int</span>) {</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ {</span><br><span class="line">        c &lt;- i</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">close</span>(c)  <span class="comment">// &#x7701;&#x7565; close, &#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4; recv throw: all goroutines are asleep - deadlock!</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">func</span> main() {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">int</span>) <span class="comment">// &#x53CC;&#x5411; channel, &#x53EF;&#x4EE5;&#x8F6C;&#x6362;&#x4E3A;&#x5355;&#x5411; channel&#x3002;</span></span><br><span class="line">    o := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">bool</span>)</span><br><span class="line">    <span class="keyword">go</span> recv(c, o)</span><br><span class="line">    <span class="keyword">go</span> send(c)</span><br><span class="line">    &lt;-o</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="&#x5F02;&#x6B65;&#x901A;&#x9053;"> &#x5F02;&#x6B65;&#x901A;&#x9053; </h4>
              <p> &#x5F02;&#x6B65;&#x901A;&#x9053;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x7ED9; channel &#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x533A; &#x5982;: make(chan int, 10)</p>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">func</span> main() {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">int</span>, <span class="number">10</span>)</span><br><span class="line">    o := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">bool</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="keyword">func</span>() {</span><br><span class="line">        time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">        <span class="built_in">println</span>(<span class="string">&quot;recv:&quot;</span>, &lt;-c)</span><br><span class="line">        o &lt;- <span class="constant">true</span></span><br><span class="line">    }()</span><br><span class="line">    c &lt;- <span class="number">100</span>     <span class="comment">// &#x672A;&#x963B;&#x585E; println(&quot;send over...&quot;)</span></span><br><span class="line">    &lt;-o</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="select">Select</h4>
              <ul>
                <li> &#x968F;&#x673A;&#x5904;&#x7406; &#x4E2A;&#x53EF; &#x7684; channel&#x3002;</li>
              </ul>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">func</span> main() {</span><br><span class="line">    c1, c2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">int</span>), <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">string</span>)</span><br><span class="line">    o := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">bool</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="keyword">func</span>() {</span><br><span class="line">        <span class="keyword">for</span> {</span><br><span class="line">            <span class="keyword">select</span> {</span><br><span class="line">            <span class="keyword">case</span> v, ok := &lt;-c1:</span><br><span class="line">                <span class="keyword">if</span> !ok {</span><br><span class="line">                    o &lt;- <span class="constant">true</span>; <span class="keyword">break</span></span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">println</span>(<span class="string">&quot;c1 =&quot;</span>, v)</span><br><span class="line">            <span class="keyword">case</span> v, ok := &lt;-c2:</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }()</span><br><span class="line">    c1 &lt;- <span class="number">1</span></span><br><span class="line">    c2 &lt;- <span class="string">&quot;a&quot;</span></span><br><span class="line">    c2 &lt;- <span class="string">&quot;b&quot;</span></span><br><span class="line">    c1 &lt;- <span class="number">2</span></span><br><span class="line">    <span class="built_in">close</span>(c1)</span><br><span class="line">    <span class="comment">//close(c2)</span></span><br><span class="line">    &lt;-o</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="timeout">Timeout</h4>
              <p>time &#x5305;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86; After&#x3001;Tick &#x7B49;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x8BA1;&#x65F6;&#x5668; channel&#x3002; &#x5982;&#x4E0B; &#x7684;&#x4F8B; &#x4E2D;, &#x6211;&#x4EEC; After &#x6765;&#x5904; &#x7406;
                &#x4E2A;&#x9700;&#x6C42;: &#x4E0D;&#x7BA1;&#x6709;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x64CD;&#x4F5C;, &#x603B;&#x4E4B; 5 &#x79D2;&#x540E;&#x7EC8; &#x5FAA;&#x73AF;&#x3002;</p>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">func</span> main() {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">int</span>)</span><br><span class="line">    o := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="typename">bool</span>)</span><br><span class="line">    tick := time.Tick(<span class="number">1</span> * time.Second)</span><br><span class="line">    <span class="keyword">go</span> <span class="keyword">func</span>() {</span><br><span class="line">        <span class="keyword">for</span> {</span><br><span class="line">            <span class="keyword">select</span> {</span><br><span class="line">            <span class="keyword">case</span> v := &lt;-c:</span><br><span class="line">                <span class="built_in">println</span>(v)</span><br><span class="line">            <span class="keyword">case</span> &lt;-tick:</span><br><span class="line">                <span class="built_in">println</span>(<span class="string">&quot;tick&quot;</span>)</span><br><span class="line">            <span class="keyword">case</span> &lt;-time.After(<span class="number">5</span> * time.Second):</span><br><span class="line">            <span class="comment">// &#x53EA;&#x7528;&#x4E00;&#x6B21;, &#x6CA1;&#x5FC5;&#x8981;&#x7528;&#x5916;&#x90E8;&#x53D8;&#x91CF;&#x3002;</span></span><br><span class="line">                <span class="built_in">println</span>(<span class="string">&quot;timeout&quot;</span>)</span><br><span class="line">                o &lt;- <span class="constant">true</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }()</span><br><span class="line">    &lt;-o</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6D4B;&#x8BD5;"> &#x6D4B;&#x8BD5; </h3>
              <ul>
                <li>
                  <p> &#x6D4B;&#x8BD5;&#x51FD;&#x6570;&#x540D;&#x79F0;&#x5FC5;&#x987B;&#x662F; &quot;Test[^a-z]&quot; &#x8FD9;&#x6837;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5982;&#x4E0B;:TestSum. &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x662F; _test.go
                    .</p>
                </li>
                <li>
                  <p> &#x5728;&#x4F7F;&#x7528; idea &#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x8005; package&#x3002;</p>
                </li>
                <li>
                  <p> &#x4F7F;&#x7528; &#x547D;&#x4EE4;&#x6D4B;&#x8BD5; &#xFF1A;go test</p>
                </li>
                <li>
                  <p>go test -v ./src/test/...</p>
                </li>
                <li>
                  <pre><code>   &#x2022; -v: &#x663E; &#x6240;&#x6709;&#x6D4B;&#x8BD5;&#x51FD;&#x6570;&#x8FD0; &#x7EC6;&#x8282;&#x3002;
</code></pre>
                </li>
                <li>
                  <pre><code>   &#x2022; -run=regex: &#x6307;&#x5B9A;&#x8981;&#x6267; &#x7684;&#x7684;&#x6D4B;&#x8BD5;&#x51FD;&#x6570;&#x3002;
</code></pre>
                </li>
                <li>
                  <p>main_test.go</p>
                </li>
              </ul>
              <p>
                <figure class="highlight stata">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    <span class="string">&quot;testing&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func <span class="literal">sum</span>(<span class="keyword">args</span>... int) int {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">sum</span> := 0</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> <span class="keyword">args</span> {</span><br><span class="line">        <span class="keyword">sum</span> += v</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">sum</span></span><br><span class="line">}</span><br><span class="line">func TestSum(t *testing.T) {</span><br><span class="line">    <span class="keyword">if</span> <span class="literal">sum</span>(1, 2, 3) != 16 {</span><br><span class="line">        t.<span class="literal">Log</span>(<span class="string">&quot;&#x6D4B;&#x8BD5;&#x6837;&#x4F8B;&#x5931;&#x8D25;!&quot;</span>)</span><br><span class="line">        t.FailNow()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="benchmak-&#x538B;&#x529B;&#x6D4B;&#x8BD5;">Benchmak  &#x538B;&#x529B;&#x6D4B;&#x8BD5; </h3>
              <ul>
                <li>
                  <p>Benchmak &#x7684;&#x4F7F;&#x7528;&#x548C; test &#x7C7B;&#x4F3C;&#x3002; &#x51FD;&#x6570;&#x540D;&#x4F7F;&#x7528; Benchmak &#x5F00;&#x5934; </p>
                </li>
                <li>
                  <p> &#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#xFF1A;go test -v ./src/test/... -bench ^BenchmarkSum$ -run ^$</p>
                </li>
              </ul>
              <p>
                <figure class="highlight autoit">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    <span class="string">&quot;testing&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(args... int)</span> <span class="title">int</span> {</span></span><br><span class="line"></span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := range args {</span><br><span class="line">        sum += v</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestSum</span><span class="params">(t *testing.T)</span> {</span></span><br><span class="line">    <span class="keyword">if</span> sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) != <span class="number">16</span> {</span><br><span class="line">        t.<span class="built_in">Log</span>(<span class="string">&quot;&#x6D4B;&#x8BD5;&#x6837;&#x4F8B;&#x5931;&#x8D25;!&quot;</span>)</span><br><span class="line">        t.FailNow()</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkSum</span><span class="params">(b *testing.B)</span> {</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span><span class="comment">; i &lt; b.N; i++ {</span></span><br><span class="line">        sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-09-22T07:39:04.000Z"><a href="/2016/09/22/go编程笔记一/">2016-09-22</a></time>

              <h1 class="title"><a href="/2016/09/22/go编程笔记一/">go 编程笔记一</a></h1>
            </header>
            <div class="entry">

              <h3 id="&#x5F00;&#x59CB;&#x5B66;-go-&#x7F16;&#x7A0B;&#x8BED;&#x8A00;-&#x8001;&#x89C4;&#x77E9;&#x5B66;&#x4E60;&#x4EFB;&#x4F55;&#x4E00;&#x95E8;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x90FD;&#x9700;&#x8981;&#x628A;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x8BED;&#x6CD5;&#x7279;&#x6027;&#x8FC7;&#x4E00;&#x904D;">&#x5F00;&#x59CB;&#x5B66; go &#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C; &#x8001;&#x89C4;&#x77E9;&#xFF0C;&#x5B66;&#x4E60;&#x4EFB;&#x4F55;&#x4E00;&#x95E8;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x90FD;&#x9700;&#x8981;&#x628A;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x8BED;&#x6CD5;&#x7279;&#x6027;&#x8FC7;&#x4E00;&#x904D;</h3>
              <p>&#x8FD9;&#x7BC7;&#x7F16;&#x7A0B;&#x7B14;&#x8BB0;&#x4E3B;&#x8981;&#x8BB2;&#x7684;&#x662F;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#xFF0C;&#x4E0B;&#x4E00;&#x7BC7;&#x4F1A;&#x5206;&#x4EAB;&#x4E00;&#x4E9B; go &#x5E76;&#x53D1;&#x53CA;&#x9AD8;&#x7EA7;&#x7279;&#x6027;</p>
              <h2 id="&#x76EE;&#x5F55;">&#x76EE;&#x5F55;</h2>
              <ul>
                <li><a href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85">&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5B89;&#x88C5;</a></li>
                <li><a href="#%E5%8F%98%E9%87%8F">&#x53D8;&#x91CF;</a></li>
                <li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2">&#x5B57;&#x7B26;&#x4E32;</a></li>
                <li><a href="#%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84">&#x63A7;&#x5236;&#x7ED3;&#x6784;</a></li>
                <li><a href="#type%E5%AE%9A%E4%B9%89%E7%9A%84%E6%96%B0%E7%B1%BB%E5%9E%8B">type &#x5B9A;&#x4E49;&#x7684;&#x65B0;&#x7C7B;&#x578B;</a></li>
                <li><a href="#Array,Slices%E5%92%8CMaps">Array,Slices &#x548C; Maps</a></li>
                <li><a href="#%E5%87%BD%E6%95%B0">&#x51FD;&#x6570;</a></li>
                <li><a href="#Structs">Structs</a></li>
                <li><a href="#%E6%8E%A5%E5%8F%A3">&#x63A5;&#x53E3;</a></li>
                <li><a href="#%E5%8C%85">&#x5305;</a></li>
              </ul>
              <p>&lt;!--more--&gt;</p>
              <h3 id="&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5B89;&#x88C5;">&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5B89;&#x88C5;</h3>
              <ul>
                <li>go &#x7684;&#x6709; 3 &#x79CD;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;</li>
              </ul>
              <ol>
                <li>Go &#x6E90;&#x7801;&#x5B89;&#x88C5;</li>
                <li>Go &#x6807;&#x51C6;&#x5305;&#x5B89;&#x88C5;</li>
                <li>&#x7B2C;&#x4E09;&#x65B9;&#x5DE5;&#x5177;&#x5B89;&#x88C5;</li>
              </ol>
              <p>go &#x591A;&#x7248;&#x672C;&#x63A7;&#x5236;&#x53EF;&#x53C2;&#x770B;<a href="https://github.com/moovweb/gvm" target="_blank" rel="external">gvm</a>&#xFF0C;&#x6709;&#x70B9;&#x7C7B;&#x4F3C; node &#x4E2D;&#x591A;&#x7248;&#x672C;&#x63A7;&#x5236;&#x7684;
                nvm,ruby &#x91CC;&#x9762;&#x7684; rvm &#x5DE5;&#x5177;</p>
              <h4 id="go-&#x76EE;&#x5F55;&#x7EA6;&#x5B9A;">Go &#x76EE;&#x5F55;&#x7EA6;&#x5B9A;</h4>
              <ul>
                <li>src &#x5B58;&#x653E;&#x6E90;&#x4EE3;&#x7801;</li>
                <li>pkg &#x7F16;&#x8BD1;&#x540E;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;</li>
                <li>bin &#x7F16;&#x8BD1;&#x540E;&#x751F;&#x6210;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;</li>
              </ul>
              <h4 id="go-&#x6807;&#x51C6;&#x5165;&#x5E93;&#x6587;&#x4EF6;">Go &#x6807;&#x51C6;&#x5165;&#x5E93;&#x6587;&#x4EF6;</h4>
              <p>&#x4E3B;&#x51FD;&#x6570;&#x5FC5;&#x987B;&#x5305;&#x542B; <code>package main</code> &#x53CA; <code>main</code> &#x51FD;&#x6570;</p>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td>
                      <td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x65B0;&#x589E;&#x4E00;&#x4E2A; GO &#x9879;&#x76EE;&#x5C31;&#x8981;&#x5F80; GOPATH &#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x8DEF;&#x5F84;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5199;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x6765;&#x8FD0;&#x884C;&#x548C;&#x7F16;&#x8BD1;&#x6211;&#x4EEC;&#x7684;&#x6587;&#x4EF6;</p>
              <p>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="shebang">#!/usr/bin/env bash</span></span><br><span class="line"><span class="keyword">if</span> [! <span class="operator">-f</span> install ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;install must be run within its container folder&apos;</span> <span class="number">1</span>&gt;&amp;<span class="number">2</span></span><br><span class="line"><span class="built_in">exit</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">CURDIR=`<span class="built_in">pwd</span>`</span><br><span class="line">OLDGOPATH=<span class="string">&quot;<span class="variable">$GOPATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> GOPATH=<span class="string">&quot;<span class="variable">$CURDIR</span>&quot;</span></span><br><span class="line"></span><br><span class="line">gofmt -w src</span><br><span class="line"></span><br><span class="line"><span class="comment">##  &#x5B89;&#x88C5; pac &#x4E0B;&#x9762;&#x7684;&#x5305;</span></span><br><span class="line">go install pac</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> GOPATH=<span class="string">&quot;<span class="variable">$OLDGOPATH</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;finished&apos;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x53D8;&#x91CF;">&#x53D8;&#x91CF;</h3>
              <ul>
                <li>
                  <p>&#x53D8;&#x91CF;&#x7684;&#x58F0;&#x660E;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#xFF0C;&#x5728; go &#x8BED;&#x8A00;&#x4E2D;&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x4E0D;&#x4F7F;&#x7528;, &#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;
                    idea &#x53BB;&#x5E2E;&#x6211;&#x4EEC;&#x4F18;&#x5316;&#x53D8;&#x91CF;&#x548C;&#x5305;&#x7684;&#x5F15;&#x7528;</p>
                </li>
                <li>
                  <p>&#x5168;&#x5C40;&#x53D8;&#x91CF;</p>
                </li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> name</span> = <span class="string">&quot;feel&quot;</span></span><br><span class="line"><span class="variable"><span class="keyword">var</span> name string</span> = <span class="string">&quot;feel&quot;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x5728;&#x51FD;&#x6570;&#x5185;&#x90E8;, &#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x7701;&#x7565; <code>var</code> &#x5173;&#x952E;&#x5B57;, &quot;:=&quot; &#x8FD9;&#x79CD;&#x66F4;&#x77ED;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x5B8C;&#x6210;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x63A8;&#x65AD;&#x548C;&#x521D;&#x59CB;&#x5316;</li>
              </ul>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="tag">a</span> := <span class="number">1</span>    <span class="comment">// &#x7B80;&#x6613;&#x58F0;&#x660E;&#x5C40;&#x90E8;&#x53D8;&#x91CF;</span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(a)</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x5E38;&#x91CF;&#x7684;&#x58F0;&#x660E;</li>
              </ul>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td>
                      <td class="code"><pre><span class="line">const PI = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">const <span class="tag">a</span>, <span class="tag">b</span>, c = <span class="string">&quot;meat&quot;</span>, <span class="number">2</span>, <span class="string">&quot;veg&quot;</span> <span class="comment">// &#x540C;&#x6837; &#x6301; &#x6B21;&#x5B9A;&#x4E49;&#x591A;&#x4E2A;&#x5E38;&#x91CF;&#x3002;</span></span><br><span class="line"></span><br><span class="line">const (</span><br><span class="line">   z = false</span><br><span class="line">   <span class="tag">a</span> = <span class="number">123</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const (<span class="comment">// &#x5B9A;&#x4E49;&#x5E38;&#x7528;&#x662F;&#xFF0C; &#x5982;&#x679C;&#x4E0D;&#x521D;&#x59CB;&#x5316;&#x53D8;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x548C;&#x4E0A;&#x4E00;&#x884C;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x76F8;&#x540C;</span></span><br><span class="line"><span class="tag">a</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line"><span class="tag">b</span></span><br><span class="line">)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x679A;&#x4E3E;</li>
              </ul>
              <p>&#x53EF;&#x4EE5; iota &#x6210;&#x4ECE; 0 &#x5F00;&#x59CB;&#x7684; &#x52A8;&#x589E; &#x679A;&#x4E3E;&#x503C;&#x3002;&#x6309; &#x9012;&#x589E;, &#x53EF;&#x4EE5;&#x7701;&#x7565;&#x540E;&#x7EED; &#x7684; iota &#x5173;&#x952E;&#x5B57;&#x3002;</p>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    Sunday = <span class="constant">iota</span>   <span class="comment">// 0</span></span><br><span class="line">    Monday          <span class="comment">// 1</span></span><br><span class="line">    Tuesday         <span class="comment">// 2</span></span><br><span class="line">    Wednesday       <span class="comment">// 3</span></span><br><span class="line">    Thursday        <span class="comment">// 4</span></span><br><span class="line">    Friday          <span class="comment">// 5</span></span><br><span class="line">    Saturday        <span class="comment">// 6</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    B <span class="typename">float64</span> = <span class="number">1</span> &lt;&lt; (<span class="constant">iota</span> * <span class="number">10</span>)   <span class="comment">// &#x540E;&#x7EED; &#x7684;&#x7C7B;&#x578B;&#x548C;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x4E0E; KB &#x76F8;&#x540C;, &#x53EA;&#x6709; iota &#x503C;&#x53D1; &#x53D8;&#x5316;</span></span><br><span class="line">    KB</span><br><span class="line">    MB</span><br><span class="line">    GB</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    A, B = <span class="constant">iota</span>, <span class="constant">iota</span>    <span class="comment">// &#x53EF;&#x4EE5;&#x5728;&#x540C;&#x4E00;&#x884C;&#x4F7F;&#x7528;&#x591A;&#x4E2A; iota, &#x5B83;&#x4EEC;&#x5404; &#x589E;</span></span><br><span class="line">    C, D</span><br><span class="line">    E, F</span><br><span class="line">)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x591A;&#x53D8;&#x91CF;&#x7684;&#x58F0;&#x660E;</li>
              </ul>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="tag">var</span> x, y int    <span class="comment">// &#x7C7B;&#x578B;&#x76F8;&#x540C;&#x7684;&#x591A;&#x4E2A;&#x53D8;&#x91CF;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">var</span> (<span class="comment">// &#x7C7B;&#x578B;&#x4E0D;&#x540C;&#x7684;&#x591A;&#x4E2A;&#x53D8;&#x91CF;</span></span><br><span class="line">    <span class="tag">a</span> int</span><br><span class="line">    <span class="tag">b</span> bool</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="tag">var</span> c, d int = <span class="number">1</span>, <span class="number">2</span>    <span class="comment">// &#x6307;&#x5B9A;&#x7C7B;&#x578B;, &#x591A;&#x4E2A;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#x3002;</span></span><br><span class="line"><span class="tag">var</span> e, f = <span class="number">123</span>, <span class="string">&quot;hello&quot;</span>    <span class="comment">//  &#x81EA;&#x52A8;&#x63A8;&#x65AD;, &#x591A;&#x4E2A;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x6309;&#x521D;&#x59CB;&#x503C;&#x63A8;&#x65AD;</span></span><br><span class="line">g, h := <span class="number">123</span>, <span class="string">&quot;hello&quot;</span>      <span class="comment">//  &#x81EA;&#x52A8;&#x63A8;&#x65AD;, &#x591A;&#x4E2A;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x6309;&#x521D;&#x59CB;&#x503C;&#x63A8;&#x65AD;&#x3002;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x53EA;&#x5199;&#x53D8;&#x91CF;&#xFF0C;&#x4E0D;&#x53EF;&#x8BFB;&#x53D8;&#x91CF;</li>
              </ul>
              <p>&#x5728; python &#x548C; scala &#x4E2D;&#x90FD;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x53D8;&#x91CF;, &#x6211;&#x4EEC;&#x79F0;&#x4E3A;&#x5783;&#x573E;&#x53D8;&#x91CF;</p>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line">age, _ := <span class="number">10</span>, <span class="string">&quot;feel&quot;</span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(age)</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x7C7B;&#x578B;&#x8F6C;&#x6362;</li>
              </ul>
              <p>&#x5728; go &#x8BED;&#x8A00;&#x4E2D;&#x4E0D;&#x652F;&#x6301;&#x9690;&#x5F0F;&#x8F6C;&#x6362;, &#x90FD;&#x5FC5;&#x987B;&#x663E;&#x793A;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;</p>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="tag">b</span> := <span class="number">123.34</span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(uint(b)</span></span>)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5B57;&#x7B26;&#x4E32;">&#x5B57;&#x7B26;&#x4E32;</h3>
              <p>&#x5728; <code>go</code>&#x8BED;&#x8A00;&#x4E2D; &#x5B57;&#x7B26;&#x4E32;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x7684;&#x3002;</p>
              <ul>
                <li>&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x8F6C;&#x6362;</li>
              </ul>
              <p>&#x8981;&#x4FEE;&#x6539;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9700;&#x8981;&#x663E;&#x793A;&#x7684;&#x8F6C;&#x6362;[]byte &#x6216;&#x8005; []rune</p>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="tag">var</span> name string = <span class="string">&quot;feel&quot;</span></span><br><span class="line">bs := []<span class="function"><span class="title">byte</span><span class="params">(name)</span></span>    <span class="comment">// &#x8F6C;&#x6362;&#x6210; bytes</span></span><br><span class="line">bsi := []<span class="function"><span class="title">rune</span><span class="params">(name)</span></span>  <span class="comment">// &#x8F6C;&#x6362;&#x6210; Unicode</span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(bs)</span></span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(bsi)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(string(bs)</span></span>)  <span class="comment">//    byte   &#x8F6C;&#x6362;&#x4E3A; string</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x8FDE;&#x63A5;</li>
              </ul>
              <p>
                <figure class="highlight css">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="rule"><span class="attribute">s </span>:<span class="value">= <span class="string">&quot;abc&quot;</span> + <span class="string">&quot;, 123&quot;</span></span><br><span class="line"><span class="function">println</span>(s)</span><br><span class="line"></span><br><span class="line">//  &#x4F7F;&#x7528; strings.Join  &#x5DE5;&#x5177;&#x8FDE;&#x63A5;</span><br><span class="line"></span><br><span class="line">s1, s2 := <span class="string">&quot;feel&quot;</span>, <span class="string">&quot;best&quot;</span></span><br><span class="line"><span class="function">println</span>(strings.<span class="function">Join</span>([]string{s1, s2}, <span class="string">&quot;-&quot;</span>))</span><br><span class="line"></span><br><span class="line">//   &#x7C7B;&#x4F3C; StringBuilder</span><br><span class="line">sb := bytes.Buffer{}</span><br><span class="line">sb.<span class="function">WriteString</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">sb.<span class="function">WriteString</span>(<span class="string">&quot;feel&quot;</span>)</span><br><span class="line">sb.<span class="function">WriteString</span>(<span class="string">&quot;best&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function">println</span>(sb.<span class="function">String</span>())</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x63A7;&#x5236;&#x7ED3;&#x6784;-if-for-switch">&#x63A7;&#x5236;&#x7ED3;&#x6784; &#xFF08;if  for  switch)</h3>
              <ul>
                <li>if &#x2022; &#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;&#x6CA1;&#x6709;&#x62EC;&#x53F7;; &#x2022; &#x6301; 1 &#x4E2A;&#x521D;&#x59CB;&#x5316;&#x8868;&#x8FBE;&#x5F0F; (&#x53EF;&#x4EE5;&#x662F;&#x591A;&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8BED;&#x53E5;);
                  &#x2022; &#x5DE6;&#x62EC;&#x53F7;&#x5FC5;&#x987B;&#x548C;&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x5728;&#x540C;</li>
              </ul>
              <p>
                <figure class="highlight livecodeserver">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="operator">a</span> := <span class="number">10</span></span><br><span class="line">	<span class="keyword">if</span> <span class="operator">a</span> &gt; <span class="number">0</span> {</span><br><span class="line">	<span class="comment">	// &#x5DE6;&#x62EC;&#x53F7;&#x5FC5;&#x987B;&#x5199;&#x5728;&#x8FD9;, &#x5426;&#x5219;&#x88AB;&#x89E3;&#x91CA;&#x4E3A; &quot;if a &gt; 0;&quot; &#x5BFC;&#x81F4;&#x7F16;&#x8BD1;&#x51FA;&#x9519;&#x3002;</span></span><br><span class="line">		<span class="operator">a</span> += <span class="number">100</span></span><br><span class="line">	} <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">a</span> == <span class="number">0</span> {</span><br><span class="line">	<span class="comment">	// &#x6CE8;&#x610F;&#x5DE6;&#x62EC;&#x53F7;&#x4F4D;&#x7F6E;&#x3002;</span></span><br><span class="line">		<span class="operator">a</span> = <span class="number">0</span></span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">	<span class="comment">	// &#x6CE8;&#x610F;&#x5DE6;&#x62EC;&#x53F7;&#x4F4D;&#x7F6E;&#x3002;</span></span><br><span class="line">		<span class="operator">a</span> -= <span class="number">100</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	println(<span class="operator">a</span>)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x8FED;&#x4EE3;&#x5668; for &#x5FAA;&#x73AF;&#x548C; range &#x64CD;&#x4F5C;</li>
              </ul>
              <p>string&#x3001;array&#x3001;slice&#x3001;map&#x3001;channel &#x90FD;&#x53EF;&#x4EE5; range &#x8FDB; &#x8FED;&#x4EE3;&#x5668;&#x64CD;&#x4F5C;&#x3002; &#x5982;&#x679C;&#x4E0D;&#x60F3;&#x8981;&#x5E8F;&#x53F7;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;
                _ &#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x53D8;&#x91CF;, &#x6216;&#x8005;&#x53EA;&#x8981;&#x5E8F;&#x53F7;&#x3002;
              </p>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">for</span> i, <span class="built_in">c</span> := range <span class="string">&quot;abc&quot;</span> {</span><br><span class="line">		fmt.<span class="type">Printf</span>(<span class="string">&quot;s[%d] = %c\n&quot;</span>, i, <span class="built_in">c</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//  &#x7C7B;&#x4F3C;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x4E2D;&#x7684; while &#x5FAA;&#x73AF;</span></span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i &lt; <span class="number">10</span> { <span class="comment">// &#x4E5F;&#x7528; for</span></span><br><span class="line">        fmt.<span class="type">Print</span>(i, <span class="string">&quot;&quot;</span>)</span><br><span class="line">        i++</span><br><span class="line">    }</span><br><span class="line">    fmt.<span class="type">Println</span>()</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>switch &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4F7F;&#x7528;</li>
              </ul>
              <p>switch case &#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F; &#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4E5F;&#x4E0D;&#x5FC5;&#x5199; break, &#x52A8;&#x7EC8; &#x3002;&#x5982;&#x5E0C;&#x671B;&#x7EE7;&#x7EED;&#x4E0B;
                case &#x5904;&#x7406;, &#x5219;&#x987B;&#x663E;&#x5F0F;&#x6267; fallthrough&#x3002;</p>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">switch</span> a := <span class="number">5</span>; a {</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>, <span class="number">1</span>:    println(<span class="string">&quot;a&quot;</span>)  <span class="comment">// &#x9017;&#x53F7;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x5206;</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">100</span>:  <span class="comment">// &#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x505A;&#x3002;&#x4E0D;&#x662F; fallthrough</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">5</span>:   <span class="comment">// &#x591A; &#x4EE3;&#x7801;, &#x9700;&#x4F7F;  {}&#x3002;</span></span><br><span class="line">		println(<span class="string">&quot;b&quot;</span>)</span><br><span class="line">		fallthrough   <span class="comment">// &#x8FDB; &#x540E;&#x7EED; case &#x5904;&#x7406;</span></span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		println(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> a := <span class="number">5</span></span><br><span class="line">    <span class="keyword">switch</span> {</span><br><span class="line">        <span class="keyword">case</span> a &gt; <span class="number">1</span>: println(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> a &gt; <span class="number">2</span>: println(<span class="string">&quot;b&quot;</span>)</span><br><span class="line">        <span class="keyword">default</span>: println(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="type-&#x5B9A;&#x4E49;&#x7684;&#x65B0;&#x7C7B;&#x578B;">type &#x5B9A;&#x4E49;&#x7684;&#x65B0;&#x7C7B;&#x578B;</h3>
              <p>type &#x5B9A;&#x4E49;&#x7684;&#x65B0;&#x7C7B;&#x578B; (&#x57FA;&#x4E8E;&#x5176;&#x4ED6;&#x7C7B;&#x578B;) &#x5E76;&#x4E0D;&#x662F; &#x4E2A;&#x522B;&#x540D;, &#x662F; &#x4E2A;&#x5168;&#x65B0;&#x7684;&#x7C7B;&#x578B;&#x3002; &#x5982;&#x679C;&#x5E95;&#x5C42;&#x7C7B;&#x578B;&#x662F;&#x547D;&#x540D;&#x7C7B;&#x578B;,
                &#x90A3;&#x4E48;&#x5FC5;&#x987B;&#x8FDB; &#x663E;&#x5F0F;&#x8F6C;&#x6362;, &#x624D;&#x80FD;&#x5C06;&#x65B0;&#x7C7B;&#x578B;&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x4E3A;&#x5E95;&#x5C42;&#x7C7B;&#x578B;&#x3002;</p>
              <p>
                <figure class="highlight sql">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">   type MyInt int</span><br><span class="line">type MyIntSlice []int</span><br><span class="line">var a MyInt = 10</span><br><span class="line">// var b int = a // cannot <span class="operator"><span class="keyword">use</span> a (<span class="keyword">type</span> MyInt) <span class="keyword">as</span> <span class="keyword">type</span> <span class="built_in">int</span> <span class="keyword">in</span> assignment</span><br><span class="line"><span class="keyword">var</span> b <span class="built_in">int</span> = <span class="built_in">int</span>(a)</span><br><span class="line">// <span class="keyword">var</span> <span class="keyword">c</span> MyInt = b // cannot <span class="keyword">use</span> b (<span class="keyword">type</span> <span class="built_in">int</span>) <span class="keyword">as</span> <span class="keyword">type</span> MyInt <span class="keyword">in</span> assignment</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">c</span> MyInt = MyInt(b)</span><br><span class="line">println(a, b, <span class="keyword">c</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">e</span> MyIntSlice = []<span class="built_in">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">f</span> []<span class="built_in">int</span> = <span class="keyword">e</span></span><br><span class="line">println(<span class="keyword">e</span>, <span class="keyword">f</span>)</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="arrayslices-&#x548C;-maps">Array,Slices &#x548C; Maps</h3>
              <ul>
                <li>Array &#x6570;&#x7EC4;&#x662F;&#x503C;&#x7C7B;&#x578B;</li>
              </ul>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td>
                      <td class="code"><pre><span class="line">   a := [<span class="number">10</span>]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }  <span class="comment">// &#x672A;&#x63D0;&#x4F9B;&#x521D;&#x59CB;&#x5316;&#x503C;&#x7684;&#x5143;&#x7D20;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C; 0</span></span><br><span class="line">b := [...]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span> }   <span class="comment">// &#x7531;&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;&#x51B3;&#x5B9A;&#x6570;&#x7EC4; &#x5EA6;, &#x4E0D;&#x80FD;&#x7701;&#x7565; &quot;...&quot;, &#x5426;&#x5219;&#x5C31;&#x6210; slice &#x4E86;&#x3002;</span></span><br><span class="line">c := [<span class="number">10</span>]<span class="keyword">int</span>{<span class="number">2</span>:<span class="number">1</span>, <span class="number">5</span>:<span class="number">100</span>} <span class="comment">// &#x6309;&#x5E8F;&#x53F7;&#x521D;&#x59CB;&#x5316;&#x5143;&#x7D20; , &#x89D2;&#x6807;&#x4E3A; 2 &#x521D;&#x59CB;&#x503C;&#x4E3A; 1&#xFF0C; &#x811A;&#x672C;&#x4E3A; 5   &#x521D;&#x59CB;&#x503C;&#x4E3A; 100.</span></span><br><span class="line"></span><br><span class="line">fmt.Println(a)</span><br><span class="line">fmt.Println(b)</span><br><span class="line">fmt.Println(c)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="built_in">array</span> := [<span class="number">3</span>] <span class="built_in">string</span>{<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>}</span><br><span class="line">    <span class="comment">// &#x6570;&#x7EC4;&#x5207;&#x7247;, &#x521D;&#x59CB;&#x5316;&#x957F;&#x5EA6;&#x4E3A; 3 , 5 &#x7684;&#x9884;&#x7559;&#x7A7A;&#x95F4;</span></span><br><span class="line">   <span class="built_in">array</span> := make([]<span class="keyword">int</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">   <span class="built_in">array</span>[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">   <span class="built_in">array</span>[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">   <span class="built_in">array</span>[<span class="number">2</span>] = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">   	<span class="comment">////  &#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x6570;&#x7EC4;</span></span><br><span class="line">      <span class="built_in">array</span> = append(<span class="built_in">array</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>)</span><br><span class="line">   	<span class="comment">//</span></span><br><span class="line">   	<span class="keyword">for</span> i, v := range <span class="built_in">array</span> {</span><br><span class="line">   		fmt.Println(<span class="string">&quot;Array element[&quot;</span>, i, <span class="string">&quot;]=&quot;</span>, v)</span><br><span class="line"></span><br><span class="line">   	}</span><br><span class="line">   	<span class="comment">//// &#x67E5;&#x770B;&#x6570;&#x7EC4;&#x7A7A;&#x95F4; 10</span></span><br><span class="line">   	fmt.Println(cap(<span class="built_in">array</span>))</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>Slices</li>
              </ul>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"> x := [...]<span class="keyword">int</span>{ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> }</span><br><span class="line"></span><br><span class="line">vars1[]<span class="keyword">int</span>=x[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">s2 := x[<span class="number">4</span>:]</span><br><span class="line"></span><br><span class="line">s3 := x[:<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">s4 := x[:]</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>reslice</li>
              </ul>
              <p>&#x7C7B;&#x4F3C;&#x4E8E;&#x91CD;&#x65B0;&#x5207;&#x5272;</p>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td>
                      <td class="code"><pre><span class="line">a := [...]<span class="keyword">int</span>{ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> }</span><br><span class="line"></span><br><span class="line">s1:=a[<span class="number">5</span>:<span class="number">7</span>]  <span class="comment">//[56],len=2,cap=5</span></span><br><span class="line"></span><br><span class="line">s1=s1[<span class="number">0</span>:<span class="number">4</span>]  <span class="comment">//[5,6,7,8],len=4,cap=5</span></span><br><span class="line"><span class="comment">// &#x6CE8;&#x610F; reslice &#x4E0D;&#x80FD;&#x8D85;&#x8FC7; cap &#x7684;&#x9650;&#x5236;&#x3002;</span></span><br><span class="line"><span class="comment">// &#x662F;&#x5728; slice &#x4E0A;&#x91CD;&#x65B0;&#x5207;&#x5206;, &#x4E0D;&#x662F; Array, &#x56E0;&#x6B64;&#x5E8F;&#x53F7;&#x662F;&#x4EE5; slice &#x4E3A;&#x51C6;&#x3002;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>map</li>
              </ul>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">  <span class="comment">// map &#x5B9A;&#x4E49;&#x7684;&#x7533;&#x660E;</span></span><br><span class="line">var myMap <span class="built_in">map</span>[<span class="built_in">string</span>]<span class="keyword">int</span></span><br><span class="line"><span class="comment">// map  &#x521B;&#x5EFA;</span></span><br><span class="line">myMap = make(<span class="built_in">map</span>[<span class="built_in">string</span>]<span class="keyword">int</span>)</span><br><span class="line"><span class="comment">//  map  &#x8D4B;&#x503C;</span></span><br><span class="line">myMap[<span class="string">&quot;a&quot;</span>] = <span class="number">1</span></span><br><span class="line">myMap[<span class="string">&quot;b&quot;</span>] = <span class="number">2</span></span><br><span class="line">   var d = <span class="built_in">map</span>[<span class="built_in">string</span>]<span class="keyword">int</span>{ <span class="string">&quot;a&quot;</span>:<span class="number">1</span>, <span class="string">&quot;b&quot;</span>:<span class="number">2</span> };</span><br><span class="line">   d2 := <span class="built_in">map</span>[<span class="keyword">int</span>]<span class="built_in">string</span>{ <span class="number">1</span>:<span class="string">&quot;a&quot;</span>, <span class="number">2</span>:<span class="string">&quot;b&quot;</span> };</span><br><span class="line"><span class="comment">// map  &#x904D;&#x5386;</span></span><br><span class="line"><span class="keyword">for</span> i, v := range myMap {</span><br><span class="line">	fmt.Println(<span class="string">&quot;Array element[&quot;</span>, i, <span class="string">&quot;]=&quot;</span>, v)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x67E5;&#x627E;&#x5143;&#x7D20;</span></span><br><span class="line">value, ok := myMap[<span class="string">&quot;a&quot;</span>]</span><br><span class="line"><span class="keyword">if</span> ok {</span><br><span class="line">	fmt.Println(<span class="string">&quot;exixt value&quot;</span>, value)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// map &#x7684; &#x5220;&#x9664;&#x548C;&#x66F4;&#x65B0;</span></span><br><span class="line"></span><br><span class="line"> d := <span class="built_in">map</span>[<span class="built_in">string</span>]<span class="keyword">int</span> { <span class="string">&quot;b&quot;</span>:<span class="number">2</span>, <span class="string">&quot;c&quot;</span>:<span class="number">3</span>, <span class="string">&quot;e&quot;</span>:<span class="number">5</span> }</span><br><span class="line">       <span class="keyword">for</span> k, v := range d {</span><br><span class="line">           println(k, v)</span><br><span class="line">           <span class="keyword">if</span> k == <span class="string">&quot;b&quot;</span> { <span class="keyword">delete</span>(d, k) }</span><br><span class="line">           <span class="keyword">if</span> k == <span class="string">&quot;c&quot;</span> { d[<span class="string">&quot;a&quot;</span>] = <span class="number">1</span> }</span><br><span class="line">       }</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5185;&#x7F6E;&#x51FD;&#x6570;">&#x5185;&#x7F6E;&#x51FD;&#x6570;</h3>
              <ul>
                <li>close: &#x5173;&#x95ED; channel&#x3002;</li>
                <li>len: &#x83B7;&#x53D6; string&#x3001;array&#x3001;slice &#x957F;&#x5EA6;,map key &#x7684;&#x6570;&#x91CF;, &#x4EE5;&#x53CA; buffer,channel &#x4E2D;&#x5F53;&#x524D;&#x53EF;&#x53D8;&#x6570; &#x636E;&#x6570;&#x91CF;&#x3002;
                </li>
                <li>cap: &#x83B7;&#x53D6; array &#x957F;&#x5EA6;,slice &#x5BB9;&#x91CF;, &#x4EE5;&#x53CA; buffer,channel &#x7684;&#x6700;&#x5927;&#x7F13;&#x51B2;&#x5BB9;&#x91CF;&#x3002;</li>
                <li>new: &#x901A;&#x5E38;&#x7528;&#x4E8E;&#x503C;&#x7C7B;&#x578B;, &#x4E3A;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x5206;&#x914D;&#x521D;&#x59CB;&#x5316;&#x8FC7;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;, &#x8FD4;&#x56DE;&#x6307;&#x9488;&#x3002;</li>
                <li>make: &#x4EC5;&#x7528;&#x4E8E; slice&#x3001;map&#x3001;channel &#x5F15; &#x7C7B;&#x578B;, &#x9664;&#x4E86;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;, &#x8FD8;&#x8D1F;&#x8D23;&#x8BBE;&#x7F6E;&#x76F8;&#x5173;&#x5C5E;&#x6027;&#x3002;</li>
                <li>append: &#x5411; slice &#x8FFD;&#x52A0; (&#x5728;&#x5176;&#x5C3E;&#x90E8;&#x6DFB;&#x52A0;)1 &#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5143;&#x7D20;&#x3002;</li>
                <li>copy: &#x5728;&#x4E0D;&#x540C; slice &#x95F4;&#x590D;&#x5236;&#x6570;&#x636E;&#x3002;</li>
                <li>print/println: &#x4E0D;&#x652F;&#x6301; format, &#x8981;&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;, &#x987B;&#x4F7F;&#x4F7F;&#x7528; fmt &#x5305;&#x3002;</li>
                <li>complex/real/imag: &#x590D;&#x6570;&#x5904;&#x7406;&#x3002;</li>
                <li>panic/recover: &#x9519;&#x8BEF;&#x5904;&#x7406;&#x3002;</li>
              </ul>
              <h3 id="&#x51FD;&#x6570;">&#x51FD;&#x6570;</h3>
              <p>Go &#x51FD;&#x6570;&#x4E0D;&#x652F;&#x6301;&#x5D4C;&#x5957; (nested)&#x3001;&#x91CD;&#x8F7D; (overload) &#x548C;&#x9ED8;&#x8BA4;&#x53C2;&#x6570; (default parameter), &#x4F46;&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x7279;&#x6027;:</p>
              <ul>
                <li>&#x9700;&#x58F0;&#x660E;&#x539F;&#x578B;;</li>
                <li>&#x4E0D;&#x5B9A;&#x53D8;&#x53C2;;</li>
                <li>&#x591A;&#x8FD4;&#x56DE;&#x503C;;</li>
                <li>&#x547D;&#x540D;&#x8FD4;&#x56DE;&#x503C;&#x53C2;&#x6570;;</li>
                <li>&#x533F;&#x540D;&#x51FD;&#x6570;;</li>
                <li>&#x95ED;&#x5305;;</li>
              </ul>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">myprint</span><span class="params">(v interface{})</span></span> { <span class="comment">//go &#x8BED;&#x8A00;&#x4E2D; interface{} &#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x5F53;&#x6210; java &#x4E2D;&#x7684; Object &#x7C7B;&#x578B;</span></span><br><span class="line">    fmt.<span class="type">Println</span>(v)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//  &#x5355;&#x4E2A;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">example</span><span class="params">(x int)</span></span> int {</span><br><span class="line">	<span class="keyword">if</span> x == <span class="number">0</span> {</span><br><span class="line">		<span class="keyword">return</span> <span class="number">5</span></span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">		<span class="keyword">return</span> x</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//  &#x4E0D;&#x5B9A;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">add</span><span class="params">(args... int)</span></span> int {</span><br><span class="line">	sum := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> <span class="number">_</span>, v := range args {</span><br><span class="line">		sum += v</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x63A5;&#x6536;&#x591A;&#x4E2A;&#x53C2;&#x6570;, &#x8FD4;&#x56DE;&#x503C;&#x3002;</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a, b int, <span class="built_in">c</span> string)</span></span> {</span><br><span class="line">    <span class="built_in">println</span>(a, b, <span class="built_in">c</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type callback <span class="func"><span class="keyword">func</span><span class="params">(s string)</span></span>  <span class="comment">// &#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x7C7B;&#x578B;</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a, b int, sum <span class="keyword">func</span><span class="params">(int, int)</span></span></span> int){   <span class="comment">// &#x63A5;&#x6536;&#x51FD;&#x6570;&#x7C7B;&#x578B;&#x53C2;&#x6570;, &#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;  callback &#x7C7B;&#x578B;&#x3002;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>(sum(a, b))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x591A;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(a, b int)</span></span> (int, int) {</span><br><span class="line"><span class="keyword">return</span> b, a</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x547D;&#x540D;&#x8FD4;&#x56DE;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">change</span><span class="params">(a, b int)</span></span> (x, y int) {</span><br><span class="line">    x = a + <span class="number">100</span></span><br><span class="line">    y = b + <span class="number">100</span></span><br><span class="line">   <span class="keyword">return</span>   <span class="comment">// &#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210; return x, y</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a, b := change(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x95ED;&#x5305;</span></span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">closures</span><span class="params">(x int)</span></span> (<span class="func"><span class="keyword">func</span><span class="params">(int)</span></span> int) {</span><br><span class="line">	<span class="comment">// &#x8FD4;&#x56DE;&#x533F;&#x540D;&#x51FD;&#x6570;</span></span><br><span class="line">	<span class="keyword">return</span> <span class="func"><span class="keyword">func</span><span class="params">(y int)</span></span> int {</span><br><span class="line">		<span class="keyword">return</span> x + y</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>Defer</li>
              </ul>
              <p>&#x5E38; &#x6765;&#x505A;&#x8D44;&#x6E90;&#x6E05;&#x7406;&#x3001;&#x5173;&#x95ED; &#x4EF6;&#x3001;&#x89E3;&#x9501;&#x3001;&#x8BB0;&#x5F55;&#x6267; &#x65F6;&#x95F4;&#x7B49;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x7B97;&#x51FD;&#x6570;&#x53D1;
                &#x4E25;&#x91CD;&#x9519;&#x8BEF;,defer &#x4F9D;&#x7136;&#x4F1A;&#x88AB;&#x6267; &#x3002; defer &#x8BED;&#x53E5;&#x4F1A;&#x5EF6;&#x8FDF;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#x76F4;&#x5230;&#x4E0A;&#x5C42;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x3002;</p>
              <p>&#x5EF6;&#x8FDF;&#x8C03;&#x7528;&#x7684;&#x53C2;&#x6570;&#x4F1A;&#x7ACB;&#x523B;&#x751F;&#x6210;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x4E0A;&#x5C42;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x524D;&#x51FD;&#x6570;&#x90FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> main() {</span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x8F93;&#x51FA;</p>
              <p>
                <figure class="highlight nginx">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="title">hello</span></span><br><span class="line">world</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x5EF6;&#x8FDF;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x88AB;&#x538B;&#x5165;&#x4E00;&#x4E2A;&#x6808;&#x4E2D;&#x3002;&#x5F53;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x65F6;, &#x4F1A;&#x6309;&#x7167;&#x540E;&#x8FDB;&#x5148;&#x51FA;&#x7684;&#x987A;&#x5E8F;&#x8C03;&#x7528;&#x88AB;&#x5EF6;&#x8FDF;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x3002;</li>
              </ul>
              <p>
                <figure class="highlight autoit">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td>
                      <td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span> {</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;counting&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span><span class="comment">; i &lt; 10; i++ {</span></span><br><span class="line">		defer fmt.Println(i)</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;done&quot;</span>)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a, b int)</span></span> int {</span><br><span class="line">	defer <span class="built_in">println</span>(<span class="string">&quot;defer1:&quot;</span>, a, <span class="string">&quot;/&quot;</span>, b)</span><br><span class="line">	defer <span class="func"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;defer2:&quot;</span>, a, b)</span><br><span class="line">	}()</span><br><span class="line">	<span class="keyword">return</span> a / b</span><br><span class="line">}</span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	a := test(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">	b := test(<span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="built_in">print</span>(a, b)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="structs">Structs</h3>
              <ul>
                <li>Go &#x6CA1;&#x6709; class, struct &#x6765;&#x5B9E;&#x73B0;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x6A21;&#x578B;&#x3002;</li>
              </ul>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> {</span><br><span class="line">    Id <span class="typename">int</span></span><br><span class="line">    Name <span class="typename">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> main() {</span><br><span class="line">    user1 := User{ <span class="number">1</span>, <span class="string">&quot;Tom&quot;</span> }</span><br><span class="line">    user2 := User{ Name:<span class="string">&quot;Jack&quot;</span> }</span><br><span class="line">    <span class="built_in">println</span>(user1.Id, user1.Name)</span><br><span class="line">    <span class="built_in">println</span>(user2.Id, user2.Name)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x65B9;&#x6CD5;</li>
              </ul>
              <p>&#x65B9;&#x6CD5;&#x63A5;&#x6536;&#x8005; &#x51FA;&#x73B0;&#x5728; func &#x5173;&#x952E;&#x5B57;&#x548C;&#x65B9;&#x6CD5;&#x540D;&#x4E4B;&#x95F4;&#x7684;&#x53C2;&#x6570;&#x4E2D;&#x3002;</p>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td>
                      <td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type <span class="type">Vertex</span> <span class="class"><span class="keyword">struct</span> </span>{</span><br><span class="line">	<span class="type">X</span>, <span class="type">Y</span> float64</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(v *Vertex)</span></span> <span class="type">Abs</span>() float64 {</span><br><span class="line">	<span class="keyword">return</span> math.<span class="type">Sqrt</span>(v.<span class="type">X</span>*v.<span class="type">X</span> + v.<span class="type">Y</span>*v.<span class="type">Y</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	v := &amp;<span class="type">Vertex</span>{<span class="number">3</span>, <span class="number">4</span>}</span><br><span class="line">	fmt.<span class="type">Println</span>(v.<span class="type">Abs</span>())</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>
                <figure class="highlight autoit">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td>
                      <td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type MyInt <span class="built_in">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this MyInt)</span> <span class="title">getVal</span><span class="params">()</span> <span class="title">int</span> {</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(this)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span> {</span></span><br><span class="line">    var myInt MyInt = MyInt(<span class="number">1</span>)</span><br><span class="line">    fmt.Println(myInt.getVal())</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x6539;&#x53D8;&#xFF0C; &#x5982;&#x679C;&#x9700;&#x8981;&#x6539;&#x53D8; struct &#x5185;&#x90E8;&#x7684;&#x503C;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6307;&#x9488;&#xFF0C;&#x800C;&#x4E0D;&#x4F7F;&#x7528;&#x6307;&#x9488;&#x7684;&#x8BDD;&#xFF0C;&#x5219;&#x76F8;&#x5F53;&#x4E8E;&#x5B8C;&#x5168;&#x62F7;&#x8D1D;&#x4E86;&#x4E00;&#x4EFD;&#xFF0C;&#x76F8;&#x6BD4;&#x6307;&#x9488;&#xFF0C;&#x4E00;&#x662F;&#x4E0D;&#x80FD;&#x6539;&#x53D8;&#x53D8;&#x91CF;&#x7684;&#x503C;&#xFF0C;&#x4E8C;&#x662F;&#x6D6A;&#x8D39;&#x50A8;&#x5B58;&#x7A7A;&#x95F4;&#x3002;
              </p>
              <p>
                <figure class="highlight aspectj">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type Person struct {</span><br><span class="line">    Name string</span><br><span class="line">    Age  int64</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func (<span class="keyword">this</span> Person) String() string { <span class="comment">// &#x7C7B;&#x4F3C; java &#x7684; toString &#x65B9;&#x6CD5; </span></span><br><span class="line">    ageStr := strconv.FormatInt(<span class="keyword">this</span>.Age, 10) // &#x628A;<span class="keyword">int</span> &#x8F6C;&#x6362;&#x4E3A; string &#x7C7B;&#x578B;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x6309;&#x7167; 10 &#x8FDB;&#x5236;&#x8F6C;&#x6362;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#x540D;&#x5B57;&#xFF1A;&quot;</span> + <span class="keyword">this</span>.Name + <span class="string">&quot;&#x5E74;&#x9F84;&#xFF1A;&quot;</span> + ageStr</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func (<span class="keyword">this</span> Person) ChangeName1(name string) {</span><br><span class="line">    <span class="keyword">this</span>.Name = name</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func (<span class="keyword">this</span> *Person) ChangeName2(name string) {</span><br><span class="line">    <span class="keyword">this</span>.Name = name</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">func <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    p := Person{Name: <span class="string">&quot;nladuo&quot;</span>, Age: 20}</span><br><span class="line">    fmt.Println(p)</span><br><span class="line">    p.ChangeName1(<span class="string">&quot;Kalen Blue&quot;</span>)</span><br><span class="line">    fmt.Println(p) // &#x6CA1;&#x6709;&#x6539;&#x53D8; name</span><br><span class="line">    p.ChangeName2(<span class="string">&quot;Kalen Blue&quot;</span>)</span><br><span class="line">    fmt.Println(p) //name &#x53D1;&#x751F;&#x6539;&#x53D8;</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>receiver &#x5728;&#x591A;&#x6570;&#x8BED; &#x4E2D;&#x662F;&#x9690;&#x5F0F;&#x4F20;&#x9012;&#x7684; this, &#x5728; Python &#x4E2D;&#x901A;&#x5E38;&#x5199;&#x4F5C; self&#x3002;</p>
              <p>
                <figure class="highlight autoit">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td>
                      <td class="code"><pre><span class="line">type User struct {</span><br><span class="line">    Id <span class="built_in">int</span></span><br><span class="line">   Name <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *User)</span><span class="title">test</span><span class="params">()</span> {</span></span><br><span class="line">    println(this.Id, this.Name)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x5B57;&#x6BB5;&#x6807;&#x7B7E;</li>
              </ul>
              <p>
                <figure class="highlight go">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> {</span><br><span class="line"> Name <span class="typename">string</span> <span class="string">&quot;&#x59D3;&#x540D;&quot;</span></span><br><span class="line"> Age <span class="typename">int</span> <span class="string">&quot;&#x5E74;&#x9F84;&quot;</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x63A5;&#x53E3;">&#x63A5;&#x53E3;</h3>
              <p>&#x63A5; &#x5B9A;&#x4E49;&#x770B;&#x4E0A;&#x53BB;&#x548C; struct &#x7C7B;&#x4F3C;, &#x533A;&#x522B;&#x5728;&#x4E8E;:</p>
              <ul>
                <li>&#x53EA;&#x6709;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;, &#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x3002;</li>
                <li>&#x6CA1;&#x6709;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x3002;</li>
              </ul>
              <p>&#x4E60;&#x60EF;&#x6027;&#x5730;&#x5C06;&#x63A5; &#x547D;&#x540D;&#x4EE5; <code>er</code> &#x7ED3;&#x5C3E;, &#x4E0D;&#x662F;&#x4EE5;&#x5F80;&#x4E60;&#x60EF;&#x6027;&#x5730;&#x4EE5;&#x5927;&#x5199;&#x5B57;<code>&quot;I&quot;</code> &#x5F00;&#x5934;&#x3002;</p>
              <p>
                <figure class="highlight elm">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="typedef"><span class="keyword">type</span> <span class="type">Tester</span> interface <span class="container">{</span><br><span class="line">	<span class="type">Test</span>()</span><br><span class="line">}</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li>&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;</li>
              </ul>
              <p>&#x548C;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x6709;&#x4E9B;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;go &#x8BED;&#x8A00;&#x4E2D;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x53EA;&#x8981;&#x65B9;&#x6CD5;&#x540C;&#x540D;&#x5373;&#x53EF;</p>
              <p>
                <figure class="highlight cs">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">type Users <span class="keyword">struct</span> {</span><br><span class="line">	Id   <span class="keyword">int</span></span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">type Myiner  <span class="keyword">interface</span> {</span><br><span class="line">	show()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">func (<span class="keyword">this</span>  Users) show() {</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;[Id]=%d,[Name]=%s&quot;</span>, <span class="keyword">this</span>.Id, <span class="keyword">this</span>.Name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//   &#x63A8;&#x65AD;&#x5E76;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B9E;&#x73B0;&#x4E86; Myiner &#x63A5;&#x53E3;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;</span></span><br><span class="line"><span class="function">func <span class="title">doSomething</span>(<span class="params"> i <span class="keyword">interface</span>{}</span>)  </span>{</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>  o,ok:=i.(Myiner); ok {</span><br><span class="line">		o.show()</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">func <span class="title">main</span>(<span class="params"></span>) </span>{</span><br><span class="line"></span><br><span class="line">	u := Users{<span class="number">10</span>, <span class="string">&quot;feel&quot;</span>}</span><br><span class="line"></span><br><span class="line">	Myiner(u).show()</span><br><span class="line"></span><br><span class="line">	doSomething(u)</span><br><span class="line">	<span class="comment">// end  main</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5305;">&#x5305;</h3>
              <ul>
                <li>&#x5728; Go &#x4E2D;, &#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x7684;&#x540D;&#x79F0;&#x662F;&#x88AB;&#x5BFC;&#x51FA;&#x7684;&#x3002;</li>
                <li>&#x5728;&#x5BFC;&#x5165;&#x5305;&#x4E4B;&#x540E;&#xFF0C;&#x4F60;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x5305;&#x6240;&#x5BFC;&#x51FA;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4EFB;&#x4F55;&#x672A;&#x5BFC;&#x51FA;&#x7684;&#x540D;&#x5B57;&#x662F;&#x4E0D;&#x80FD;&#x88AB;&#x5305;&#x5916;&#x7684;&#x4EE3;&#x7801;&#x8BBF;&#x95EE;&#x7684;&#x3002;</li>
                <li>go &#x8BED;&#x8A00;&#x5982;&#x679C;&#x8BA9;&#x5916;&#x90E8;&#x5F15;&#x5165;&#x5305;&#x7684;&#x8BDD;&#xFF0C;&#x51FD;&#x6570;&#x540D;&#x79F0;&#x5F00;&#x5934;&#x5FC5;&#x987B;&#x5927;&#x5199;&#xFF0C;&#x5982;&#x679C;&#x5F00;&#x5934;&#x5C0F;&#x5199;&#x7684;&#x51FD;&#x6570;&#x53EA;&#x80FD;&#x5728;&#x5F53;&#x524D;&#x5305;&#x5185;&#x90E8;&#x5F15;&#x7528;&#x3002;</li>
                <li>&#x5305;&#x5F15;&#x5165;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x7684;&#x8BDD;&#x4F1A;&#x62A5;&#x9519;&#x3002;</li>
              </ul>
              <h3 id="&#x5305;&#x7684;&#x5BFC;&#x5165;">&#x5305;&#x7684;&#x5BFC;&#x5165;</h3>
              <ul>
                <li>
                  <p>&#x5728; Go &#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; go get &#x547D;&#x4EE4;&#x5B89;&#x88C5;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E2D;&#x6258;&#x7BA1;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4E0D;&#x540C;&#x4E8E;
                    Ruby Gem&#x3001;pypi &#x7B49;&#x96C6;&#x4E2D;&#x5F0F;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x673A;&#x5236;&#xFF0C; Go &#x8BED;&#x8A00;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x662F;&#x53BB;&#x4E2D;&#x5FC3;&#x5316;&#x7684;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BB2;&#xFF0C;go
                    get &#x547D;&#x4EE4;&#x652F;&#x6301;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x6258;&#x7BA1;&#x7684; Git &#x6216; Mercurial &#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x65E0;&#x8BBA;&#x662F; Github &#x8FD8;&#x662F; Google Code &#x4E0A;&#x7684;&#x5305;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5B89;&#x88C5;&#x3002;
                    &#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x5728; Go &#x8BED;&#x8A00;&#x4E2D;&#x7684; import &#x8BED;&#x53E5;&#x5BF9;&#x4E8E;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528; go get &#x5B89;&#x88C5;&#x5230;&#x672C;&#x5730;&#x7684;&#x5305;&#xFF0C;&#x4F9D;&#x7136;&#x8981;&#x4F7F;&#x7528;&#x5176;&#x53BB;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x5F15;&#x5165;&#x3002;
                    &#x6BD4;&#x5982;&#x5BF9;&#x4E8E;&#x4ECE; Github &#x4E0A;&#x5B89;&#x88C5;&#x7684; goji&#xFF0C;&#x5176;&#x5728; Github &#x4E0A;&#x7684;&#x8DEF;&#x5F84; URL &#x662F; <code>https://github.com/zenazn/</code> goji&#xFF0C;&#x56E0;&#x6B64;&#x5728;
                    import &#x5B83;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;
                  </p>
                </li>
                <li>
                  <p>&#x5305;&#x7684;&#x5B89;&#x88C5;</p>
                </li>
              </ul>
              <p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; go get &#x6765;&#x4E0B;&#x8F7D;&#x4E00;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#xFF0C;&#x4E0B;&#x8F7D;&#x6765;&#x90FD;&#x4F1A;&#x4FDD;&#x5B58;&#x5230; $GOPATH &#x4E0B;&#x9762;</p>
              <p>
                <figure class="highlight vim">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">go</span> <span class="built_in">get</span> -<span class="keyword">u</span> -<span class="keyword">v</span> github.<span class="keyword">com</span>/kardianos/govendor</span><br><span class="line"><span class="keyword">go</span> <span class="built_in">get</span> -<span class="keyword">u</span> -<span class="keyword">v</span> github.<span class="keyword">com</span>/tools/godep</span><br><span class="line"><span class="keyword">go</span> <span class="built_in">get</span> -<span class="keyword">u</span> -<span class="keyword">v</span>  github.<span class="keyword">com</span>/astaxie/beedb</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>
                <figure class="highlight aspectj">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/zenazn/goji&quot;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="&#x5305;&#x91CD;&#x547D;&#x540D;">&#x5305;&#x91CD;&#x547D;&#x540D;</h4>
              <p>&#x5728;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x5305;&#x51FD;&#x6570;&#x540D;&#x4E00;&#x6837;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x662F;&#x5305;&#x522B;&#x540D;&#x6765;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x3002;</p>
              <p>
                <figure class="highlight swift">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td>
                      <td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    a <span class="string">&quot;github.com/pkgtest/pkg1&quot;</span></span><br><span class="line">    b <span class="string">&quot;github.com/pkgtest/pkg2&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    a.<span class="type">Foo</span>()</span><br><span class="line">    b.<span class="type">Foo</span>()</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>

        <article class="post">

          <div class="post-content">
            <header>

              <div class="icon"></div>
              <time datetime="2016-09-21T11:14:01.000Z"><a href="/2016/09/21/kotlin学习/">2016-09-21</a></time>

              <h1 class="title"><a href="/2016/09/21/kotlin学习/">kotlin 学习</a></h1>
            </header>
            <div class="entry">

              <p>Statically typed programming language for the JVM, Android and the browser 100% interoperable with Java&#x2122;</p>
              <p> &#x6B63;&#x5982;&#x5B98;&#x7F51;&#x6240;&#x8BF4;&#xFF0C;kotlin &#x5B8C;&#x5168;&#x517C;&#x5BB9; java &#x800C;&#x4E0D;&#x50CF; scala &#x4E00;&#x6837;&#xFF0C;&#x5F88;&#x591A;&#x7C7B;&#x5E93;&#x90FD;&#x662F;&#x81EA;&#x5DF1;&#x6574;&#x4E00;&#x5957;&#x3002;&#x5E9F;&#x8BDD;&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x53BB;&#x5B66;&#x5B66;&#x5B83;&#x7684;&#x8BED;&#x6CD5;&#x3002;</p>
              <h3 id="&#x5B9A;&#x4E49;&#x51FD;&#x6570;"> &#x5B9A;&#x4E49;&#x51FD;&#x6570; </h3>
              <p>
                <figure class="highlight crystal">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">max</span></span>(<span class="symbol">a:</span> <span class="constant">Int</span>, <span class="symbol">b:</span> <span class="constant">Int</span>)<span class="symbol">:</span> <span class="constant">Int</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">if</span> (a &gt; b) a <span class="keyword">else</span> b</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>&lt;!--more--&gt;</p>
              <h3 id="&#x5B57;&#x7B26;&#x4E32;&#x6A21;&#x677F;"> &#x5B57;&#x7B26;&#x4E32;&#x6A21;&#x677F; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="typename">Array&lt;String&gt;</span>)</span> {</span></span><br><span class="line">    <span class="keyword">if</span> (args.size &gt; <span class="number">0</span>) {</span><br><span class="line">        <span class="variable"><span class="keyword">val</span> name</span> = args[<span class="number">0</span>]</span><br><span class="line">        println(<span class="string">&quot;Hello, $name!&quot;</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x4F7F;&#x7528;&#x7A7A;&#x503C;&#x53CA;-null-&#x68C0;&#x67E5;"> &#x4F7F;&#x7528;&#x7A7A;&#x503C;&#x53CA; null &#x68C0;&#x67E5; </h3>
              <ul>
                <li> &#x5F53;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x4E3A; null &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x58F0;&#x660E;&#x5904;&#x7684;&#x7C7B;&#x578B;&#x540E;&#x6DFB;&#x52A0; &#xFF1F; &#x6765;&#x6807;&#x8BC6;&#x8BE5;&#x5F15;&#x7528;&#x53EF;&#x4EE5;&#x4E3A;&#x7A7A;&#x503C;
                </li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strLenSafe</span><span class="params">(s: <span class="typename">String?</span>)</span>: Int =</span></span><br><span class="line">    <span class="keyword">if</span> (s != <span class="literal">null</span>) s.length <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="typename">Array&lt;String&gt;</span>)</span> {</span></span><br><span class="line">    <span class="variable"><span class="keyword">val</span> x</span>: String? = <span class="literal">null</span></span><br><span class="line">    println(strLenSafe(x))</span><br><span class="line">    println(strLenSafe(<span class="string">&quot;abc&quot;</span>))</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x7C7B;&#x578B;&#x5224;&#x65AD;"> &#x7C7B;&#x578B;&#x5224;&#x65AD; </h3>
              <p>is &#x8FD0;&#x7B97;&#x7B26;&#x7528;&#x4E8E;&#x7C7B;&#x578B;&#x7684;&#x5224;&#x65AD; </p>
              <p>
                <figure class="highlight dart">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(obj <span class="keyword">is</span> <span class="built_in">String</span>){</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5FAA;&#x73AF;&#x548C;&#x8FED;&#x4EE3;&#x4E8E;&#x533A;&#x95F4;"> &#x5FAA;&#x73AF;&#x548C;&#x8FED;&#x4EE3;&#x4E8E;&#x533A;&#x95F4; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.100</span>) {</span><br><span class="line">        print(fizzBuzz(i))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (c <span class="keyword">in</span> &apos;A&apos;..&apos;F&apos;) {</span><br><span class="line">       <span class="variable"><span class="keyword">val</span> binary</span> = Integer.toBinaryString(c.toInt())</span><br><span class="line">       binaryReps[c] = binary</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ((letter, binary) <span class="keyword">in</span> binaryReps) {</span><br><span class="line">       println(<span class="string">&quot;$letter = $binary&quot;</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">isLetter</span><span class="params">(c: <span class="typename">Char</span>)</span> = c <span class="keyword">in</span> &apos;a&apos;..&apos;z&apos; || c <span class="keyword">in</span> &apos;A&apos;..&apos;Z&apos;</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">isNotDigit</span><span class="params">(c: <span class="typename">Char</span>)</span> = c !<span class="keyword">in</span> &apos;0&apos;..&apos;9&apos;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="when-&#x8868;&#x8FBE;&#x5F0F;">when   &#x8868;&#x8FBE;&#x5F0F; </h3>
              <p>
                <figure class="highlight livescript">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td>
                      <td class="code"><pre><span class="line">fun getMnemonic(<span class="attribute">color</span>: Color) =</span><br><span class="line">    <span class="keyword">when</span> (color) {</span><br><span class="line">        Color.RED<span class="function"> -&gt;</span> <span class="string">&quot;Richard&quot;</span></span><br><span class="line">        Color.ORANGE<span class="function"> -&gt;</span> <span class="string">&quot;Of&quot;</span></span><br><span class="line">        Color.YELLOW<span class="function"> -&gt;</span> <span class="string">&quot;York&quot;</span></span><br><span class="line">        Color.GREEN<span class="function"> -&gt;</span> <span class="string">&quot;Gave&quot;</span></span><br><span class="line">        Color.BLUE<span class="function"> -&gt;</span> <span class="string">&quot;Battle&quot;</span></span><br><span class="line">        Color.INDIGO<span class="function"> -&gt;</span> <span class="string">&quot;In&quot;</span></span><br><span class="line">        Color.VIOLET<span class="function"> -&gt;</span> <span class="string">&quot;Vain&quot;</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun recognize(<span class="attribute">c</span>: Char) = <span class="keyword">when</span> (c) {</span><br><span class="line">        <span class="keyword">in</span> <span class="string">&apos;0&apos;</span>..<span class="string">&apos;9&apos;</span><span class="function"> -&gt;</span> <span class="string">&quot;It&apos;s a digit!&quot;</span></span><br><span class="line">        <span class="keyword">in</span> <span class="string">&apos;a&apos;</span>..<span class="string">&apos;z&apos;</span>, <span class="keyword">in</span> <span class="string">&apos;A&apos;</span>..<span class="string">&apos;Z&apos;</span><span class="function"> -&gt;</span> <span class="string">&quot;It&apos;s a letter!&quot;</span></span><br><span class="line">        <span class="keyword">else</span><span class="function"> -&gt;</span> <span class="string">&quot;I don&apos;t know...&quot;</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x679A;&#x4E3E;-enum"> &#x679A;&#x4E3E;  enum</h3>
              <p>
                <figure class="highlight crystal">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">class</span> <span class="title">Color</span> {</span></span><br><span class="line">    <span class="constant">RED</span>, <span class="constant">ORANGE</span>, <span class="constant">YELLOW</span>, <span class="constant">GREEN</span>, <span class="constant">BLUE</span>, <span class="constant">INDIGO</span>, <span class="constant">VIOLET</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">class</span> <span class="title">Color</span>(<span class="title">val</span> <span class="title">rgb</span>: <span class="title">Int</span>) {</span></span><br><span class="line">    <span class="constant">RED</span>(<span class="number">0xFF0000</span>),</span><br><span class="line">    <span class="constant">GREEN</span>(<span class="number">0x00FF00</span>),</span><br><span class="line">    <span class="constant">BLUE</span>(<span class="number">0x0000FF</span>)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x521B;&#x5EFA;&#x6570;&#x636E;-dto-pojopoco"> &#x521B;&#x5EFA;&#x6570;&#x636E; DTO &#xFF08;POJO/POCO)</h3>
              <ul>
                <li> &#x6240;&#x6709;&#x5C5E;&#x6027;&#x90FD;&#x6709; getters , var &#x5B9A;&#x4E49;&#x7684;&#x8FD8;&#x6709; setters</li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line">data <span class="class"><span class="keyword">class</span> <span class="title">Client</span></span>(<span class="variable"><span class="keyword">val</span> name</span>: String, <span class="variable"><span class="keyword">var</span> postalCode</span>: <span class="typename">Int</span>)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6570;&#x636E;&#x590D;&#x5236;"> &#x6570;&#x636E;&#x590D;&#x5236; </h3>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td>
                      <td class="code"><pre><span class="line">fun <span class="function"><span class="title">copy</span><span class="params">(name: String = this.name, age: Int = this.age)</span></span> = <span class="function"><span class="title">User</span><span class="params">(name, age)</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">val jack = <span class="function"><span class="title">User</span><span class="params">(name = <span class="string">&quot;Jack&quot;</span>, age = <span class="number">1</span>)</span></span></span><br><span class="line">val olderJack = jack.<span class="function"><span class="title">copy</span><span class="params">(age = <span class="number">2</span>)</span></span></span><br><span class="line"></span><br><span class="line">val jane = <span class="function"><span class="title">User</span><span class="params">(<span class="string">&quot;Jane&quot;</span>, <span class="number">35</span>)</span></span></span><br><span class="line">val (name, age) = jane</span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(<span class="string">&quot;$name, $age years of age&quot;</span>)</span></span> <span class="comment">// prints &quot;Jane, 35 years of age&quot;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x53D8;&#x96C6;&#x5408;"> &#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x53D8;&#x96C6;&#x5408; </h3>
              <p>
                <figure class="highlight cpp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line">val <span class="built_in">set</span> = setOf(<span class="number">1</span>, <span class="number">7</span>, <span class="number">53</span>)</span><br><span class="line">val <span class="built_in">list</span> = listOf(<span class="number">1</span>, <span class="number">7</span>, <span class="number">53</span>)</span><br><span class="line">val <span class="built_in">map</span> = mapOf(<span class="number">1</span> to <span class="string">&quot;one&quot;</span>, <span class="number">7</span> to <span class="string">&quot;seven&quot;</span>, <span class="number">53</span> to <span class="string">&quot;fifty-three&quot;</span>)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5EF6;&#x8FDF;&#x5C5E;&#x6027;"> &#x5EF6;&#x8FDF;&#x5C5E;&#x6027; </h3>
              <p>
                <figure class="highlight scala">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="function"><span class="keyword">val</span> <span class="title">emails</span> <span class="title">by</span> <span class="title">lazy</span> {</span> loadEmails(<span class="keyword">this</span>) }</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6269;&#x5C55;&#x51FD;&#x6570;"> &#x6269;&#x5C55;&#x51FD;&#x6570; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> String.<span class="title">lastChar</span><span class="params">()</span>: Char = this.<span class="title">get</span><span class="params">(this.length - 1)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="typename">Array&lt;String&gt;</span>)</span> {</span></span><br><span class="line">    println(<span class="string">&quot;Kotlin&quot;</span>.lastChar())</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5185;&#x8054;&#x51FD;&#x6570;"> &#x5185;&#x8054;&#x51FD;&#x6570; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">data <span class="class"><span class="keyword">class</span> <span class="title">FileContent</span></span>(<span class="variable"><span class="keyword">val</span> file</span>: List<span class="type">&lt;String&gt;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * &#x6269;&#x5C55; Gson &#x65B9;&#x6CD5; </span><br><span class="line"> * &#x5185;&#x8054;&#x51FD;&#x6570; </span><br><span class="line"> * &#x5B9E;&#x4F53;&#x5316;&#x7684;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#xFF0C;&#x5173;&#x952E;&#x5B57; reified</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;<span class="keyword">reified</span> T : Any&gt;</span> Gson.<span class="title">fromJson</span><span class="params">(json: <span class="typename">String</span>)</span>: T {</span></span><br><span class="line">    <span class="keyword">return</span> fromJson(json, T::<span class="class"><span class="keyword">class</span>.<span class="title">java</span>)</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="typename">Array&lt;String&gt;</span>)</span> {</span></span><br><span class="line"></span><br><span class="line">    <span class="variable"><span class="keyword">val</span> json</span> = File(ClassLoader::<span class="class"><span class="keyword">class</span>.<span class="title">java</span>.<span class="title">getResource</span></span>(<span class="string">&quot;/list.json&quot;</span>).path).readText()</span><br><span class="line"></span><br><span class="line">    <span class="variable"><span class="keyword">val</span> result</span>: FileContent = Gson().fromJson(json)</span><br><span class="line"></span><br><span class="line">    println(result)</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="with-&#x7684;&#x4F7F;&#x7528;">with &#x7684;&#x4F7F;&#x7528; </h3>
              <p> &#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x9700;&#x8981;&#x8C03;&#x7528;&#x591A;&#x4E2A;&#x65B9;&#x6CD5; </p>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">alphabet</span><span class="params">()</span>: String {</span></span><br><span class="line">    <span class="variable"><span class="keyword">val</span> stringBuilder</span> = StringBuilder()</span><br><span class="line">    <span class="keyword">return</span> with(stringBuilder) {</span><br><span class="line">        <span class="keyword">for</span> (letter <span class="keyword">in</span> &apos;A&apos;..&apos;Z&apos;) {</span><br><span class="line">            this.append(letter)</span><br><span class="line">        }</span><br><span class="line">        append(<span class="string">&quot;\nNow I know the alphabet!&quot;</span>)</span><br><span class="line">        this.toString()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="apply-&#x7684;&#x4F7F;&#x7528;">apply &#x7684;&#x4F7F;&#x7528; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">alphabet</span><span class="params">()</span> = <span class="title">StringBuilder</span><span class="params">()</span>.apply {</span></span><br><span class="line">    <span class="keyword">for</span> (letter <span class="keyword">in</span> &apos;A&apos;..&apos;Z&apos;) {</span><br><span class="line">        append(letter)</span><br><span class="line">    }</span><br><span class="line">    append(<span class="string">&quot;\nNow I know the alphabet!&quot;</span>)</span><br><span class="line">}.toString()</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5C3E;&#x9012;&#x5F52;"> &#x5C3E;&#x9012;&#x5F52; </h3>
              <p>
                <figure class="highlight nimrod">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">class <span class="type">Result</span>(<span class="keyword">var</span> value: <span class="type">BigInteger</span> = <span class="type">BigInteger</span>.valueOf(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x5C3E;&#x9012;&#x5F52;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;  tailrec</span><br><span class="line"> */</span><br><span class="line">tailrec fun fac(num: <span class="type">Int</span>, <span class="literal">result</span>: <span class="type">Result</span>) {</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>) <span class="literal">result</span>.value <span class="keyword">else</span> {</span><br><span class="line">        <span class="literal">result</span>.value = <span class="literal">result</span>.value.times(<span class="type">BigInteger</span>.valueOf(num.toLong()))</span><br><span class="line">        fac(num - <span class="number">1</span>, <span class="literal">result</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fun main(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;) {</span><br><span class="line"></span><br><span class="line">    val <span class="literal">result</span> = <span class="type">Result</span>()</span><br><span class="line">    fac(<span class="number">5</span>, <span class="literal">result</span>)</span><br><span class="line">    print(<span class="literal">result</span>.value)</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x6211;&#x4EEC;&#x4F7F;&#x7528; kotlin &#x53CD;&#x7F16;&#x8BD1;&#x5B57;&#x8282;&#x7801;, &#x53D1;&#x73B0;&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x66FF;&#x4EE3;&#x4E86; </p>
              <p>
                <figure class="highlight nimrod">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td>
                      <td class="code"><pre><span class="line">public <span class="keyword">static</span> final <span class="type">void</span> fac(<span class="type">int</span> num, @<span class="type">NotNull</span> <span class="type">Result</span> <span class="literal">result</span>) {</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) {</span><br><span class="line">       <span class="type">Intrinsics</span>.checkParameterIsNotNull(<span class="literal">result</span>, <span class="string">&quot;result&quot;</span>);</span><br><span class="line">       <span class="keyword">if</span>(num == <span class="number">0</span>) {</span><br><span class="line">          <span class="literal">result</span>.getValue();</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="type">BigInteger</span> var2 = <span class="literal">result</span>.getValue();</span><br><span class="line">       <span class="type">BigInteger</span> var10001 = <span class="type">BigInteger</span>.valueOf((long)num);</span><br><span class="line">       <span class="type">Intrinsics</span>.checkExpressionValueIsNotNull(var10001, <span class="string">&quot;BigInteger.valueOf(num.toLong())&quot;</span>);</span><br><span class="line">       <span class="type">BigInteger</span> var3 = var10001;</span><br><span class="line">       <span class="type">BigInteger</span> var10000 = var2.multiply(var3);</span><br><span class="line">       <span class="type">Intrinsics</span>.checkExpressionValueIsNotNull(var10000, <span class="string">&quot;this.multiply(other)&quot;</span>);</span><br><span class="line">       <span class="type">BigInteger</span> var5 = var10000;</span><br><span class="line">       <span class="literal">result</span>.setValue(var5);</span><br><span class="line">       --num;</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x800C; java &#x91CC;&#x9762;&#x600E;&#x4E48;&#x8FDB;&#x884C;&#x5C3E;&#x9012;&#x5F52;&#x4F18;&#x5316;&#x5462;&#xFF0C; &#x4E00;&#x822C;&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x800C;&#x4E0D;&#x662F;&#x9012;&#x5F52;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5982;&#x4E0B;&#xFF1A;</p>
              <p>
                <figure class="highlight nimrod">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="type">int</span> factorial(<span class="type">int</span> n) {</span><br><span class="line">   <span class="type">int</span> <span class="literal">result</span> = <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> t=n; t &gt; <span class="number">1</span>; t--)</span><br><span class="line">       <span class="literal">result</span> *= t;</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">result</span>;</span><br><span class="line"> }</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6570;&#x7EC4;&#x7684;&#x521B;&#x5EFA;"> &#x6570;&#x7EC4;&#x7684;&#x521B;&#x5EFA; </h3>
              <p>
                <figure class="highlight lisp">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line">arrayOf<span class="list">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span></span><br><span class="line"></span><br><span class="line">val asc=Array<span class="list">(<span class="number">5</span>,{i-&gt;<span class="list">(<span class="keyword">i*i</span>)</span>.toString<span class="list">()</span>})</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x7C7B;"> &#x7C7B; </h3>
              <p>
                <figure class="highlight actionscript">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Invoice</span> </span>{</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6784;&#x9020;&#x51FD;&#x6570;"> &#x6784;&#x9020;&#x51FD;&#x6570; </h3>
              <h3 id="&#x4E3B;&#x6784;&#x9020;&#x51FD;&#x6570;"> &#x4E3B;&#x6784;&#x9020;&#x51FD;&#x6570; </h3>
              <p>constructor &#x4E00;&#x822C;&#x53EF;&#x4EE5;&#x7701;&#x7565; </p>
              <p>
                <figure class="highlight delphi">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">class</span> Person <span class="function"><span class="keyword">constructor</span><span class="params">(firstName: <span class="keyword">String</span>)</span> <span class="comment">{</span><br><span class="line">}</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x4E3B;&#x6784;&#x9020;&#x51FD;&#x6570;&#x521D;&#x59CB;&#x5316;"> &#x4E3B;&#x6784;&#x9020;&#x51FD;&#x6570;&#x521D;&#x59CB;&#x5316; </h3>
              <p>
                <figure class="highlight typescript">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">class</span> User <span class="constructor"><span class="keyword">constructor</span>(_nickname: String) </span>{</span><br><span class="line">    val nickname: <span class="built_in">String</span></span><br><span class="line"></span><br><span class="line">    init {</span><br><span class="line">        nickname = _nickname</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> User(_nickname: <span class="built_in">String</span>) {</span><br><span class="line">    val nickname = _nickname</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> User(val nickname: <span class="built_in">String</span>,</span><br><span class="line">           val isSubscribed: <span class="built_in">Boolean</span> = <span class="literal">true</span>)</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6B21;&#x6784;&#x9020;&#x51FD;&#x6570;"> &#x6B21;&#x6784;&#x9020;&#x51FD;&#x6570; </h3>
              <ul>
                <li> &#x7C7B;&#x4E5F;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x524D;&#x7F00;&#x6709; constructor &#x7684;&#x6B21;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1A;</li>
              </ul>
              <p>
                <figure class="highlight typescript">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">class</span> Person {</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(parent: Person) </span>{</span><br><span class="line">        parent.children.add(<span class="keyword">this</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p> &#x5982;&#x679C;&#x7C7B;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x6B21;&#x6784;&#x9020;&#x51FD;&#x6570;&#x9700;&#x8981;&#x59D4;&#x6258;&#x7ED9;&#x4E3B;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;
                &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x59D4;&#x6258;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x522B;&#x7684;&#x6B21;&#x6784;&#x9020;&#x51FD;&#x6570;&#x95F4;&#x63A5;&#x59D4;&#x6258;&#x3002;&#x59D4;&#x6258;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;
                &#x7528; this &#x5173;&#x952E;&#x5B57;&#x5373;&#x53EF;&#xFF1A;</p>
              <p>
                <figure class="highlight typescript">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">class</span> Person(val name: <span class="built_in">String</span>) {</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(name: String, parent: Person) : this(name) </span>{</span><br><span class="line">        parent.children.add(<span class="keyword">this</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x79C1;&#x6709;&#x6784;&#x9020;"> &#x79C1;&#x6709;&#x6784;&#x9020; </h3>
              <p>
                <figure class="highlight delphi">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">class</span> DontCreateMe <span class="keyword">private</span> <span class="function"><span class="keyword">constructor</span> <span class="params">()</span> <span class="comment">{</span><br><span class="line">}</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x521B;&#x5EFA;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;"> &#x521B;&#x5EFA;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B; </h3>
              <p>
                <figure class="highlight stylus">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line">val invoice = <span class="function"><span class="title">Invoice</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">val customer = <span class="function"><span class="title">Customer</span><span class="params">(<span class="string">&quot;Joe Smith&quot;</span>)</span></span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x7C7B;&#x7684;&#x7EE7;&#x627F;"> &#x7C7B;&#x7684;&#x7EE7;&#x627F; </h3>
              <ul>
                <li> &#x7EE7;&#x627F;&#x4F7F;&#x7528; &#xFF1A;</li>
                <li> &#x5728; Kotlin &#x4E2D;&#x6240;&#x6709;&#x7C7B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5171;&#x540C;&#x7684;&#x8D85;&#x7C7B; Any&#xFF0C;&#x8FD9;&#x5BF9;&#x4E8E;&#x6CA1;&#x6709;&#x8D85;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x7684;&#x7C7B;&#x662F;&#x9ED8;&#x8BA4;&#x8D85;&#x7C7B;&#xFF1A;</li>
                <li> &#x5728; Kotlin &#x4E2D;&#x6240;&#x6709;&#x7684;&#x7C7B;&#x90FD;&#x662F; final. &#x9664;&#x975E;&#x6709; open &#x4FEE;&#x9970;&#xFF0C;&#x5426;&#x5219;&#x5B50;&#x7C7B;&#x4E0D;&#x80FD;&#x7EE7;&#x627F; </li>
                <li> &#x7C7B;&#x548C;&#x6210;&#x5458;&#x9ED8;&#x8BA4; final</li>
              </ul>
              <p>
                <figure class="highlight typescript">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td>
                      <td class="code"><pre><span class="line">open <span class="keyword">class</span> Base(p: Int)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Derived(p: Int) : Base(p)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> MyView : View {</span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(ctx: Context) : super(ctx) </span>{</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(ctx: Context, attrs: AttributeSet) : super(ctx, attrs) </span>{</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x65B9;&#x6CD5;&#x7684;&#x8986;&#x5199;"> &#x65B9;&#x6CD5;&#x7684;&#x8986;&#x5199; </h3>
              <ul>
                <li> &#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57; override</li>
                <li> &#x9700;&#x8981;&#x80FD;&#x88AB;&#x5B50;&#x7C7B; override &#x7684;&#x65B9;&#x6CD5; &#x9700;&#x8981;&#x52A0;&#x4E0A;&#x5173;&#x952E;&#x5B57; open</li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>{</span><br><span class="line">  <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">v</span><span class="params">()</span> {}</span></span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">nv</span><span class="params">()</span> {}</span></span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span></span>() : Base() {</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">v</span><span class="params">()</span> {}</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x4F7F;&#x7528;-super-&#x6765;&#x6307;&#x5B9A;-&#x5B9E;&#x73B0;&#x90A3;&#x4E2A;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;"> &#x4F7F;&#x7528; super &#x6765;&#x6307;&#x5B9A; &#x5B9E;&#x73B0;&#x90A3;&#x4E2A;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>{</span><br><span class="line">  <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;A&quot;)</span> }</span></span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">a</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;a&quot;)</span> }</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">interface B {</span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;B&quot;)</span> } <span class="comment">// &#x63A5;&#x53E3;&#x6210;&#x5458;&#x9ED8;&#x8BA4;&#x5C31;&#x662F; &apos;open&apos; &#x7684; </span></span></span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">b</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;b&quot;)</span> }</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span>() : A(), B {</span><br><span class="line">  <span class="comment">// &#x7F16;&#x8BD1;&#x5668;&#x8981;&#x6C42;&#x8986;&#x76D6; f()&#xFF1A;</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span> {</span></span><br><span class="line">    super<span class="type">&lt;A&gt;</span>.f() <span class="comment">// &#x8C03;&#x7528; A.f()</span></span><br><span class="line">    super<span class="type">&lt;B&gt;</span>.f() <span class="comment">// &#x8C03;&#x7528; B.f()</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x4F34;&#x751F;&#x5BF9;&#x8C61;"> &#x4F34;&#x751F;&#x5BF9;&#x8C61; </h3>
              <ul>
                <li> &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x58F0;&#x660E;&#x5728;&#x4E00;&#x4E2A;&#x7C7B;&#x91CC;&#x53EF;&#x4EE5;&#x6807;&#x5FD7;&#x4E0A; companion &#x8FD9;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#xFF1A;</li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>{</span><br><span class="line">  <span class="keyword">companion</span> <span class="keyword">object</span> Factory {</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">create</span><span class="params">()</span>: MyClass = <span class="title">MyClass</span><span class="params">()</span></span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x5185;&#x90E8;&#x7C7B;-inner"> &#x5185;&#x90E8;&#x7C7B;  inner</h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>{</span><br><span class="line">  <span class="keyword">private</span> <span class="variable"><span class="keyword">val</span> bar</span>: <span class="typename">Int</span> = <span class="number">1</span></span><br><span class="line">  inner <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span> = bar</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable"><span class="keyword">val</span> demo</span> = Outer().Inner().foo() <span class="comment">// == 1</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6700;&#x7EC8;&#x7C7B;"> &#x6700;&#x7EC8;&#x7C7B; </h3>
              <p> &#x4F7F;&#x7528; sealed &#x5173;&#x952E;&#x5B57;&#x4FEE;&#x9970; </p>
              <p>
                <figure class="highlight scala">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="class"><span class="keyword">class</span> <span class="title">SealedClassTest</span> {</span></span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">getStop</span> :</span> <span class="type">Opertion</span>()</span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">getStart</span> :</span> <span class="type">Opertion</span>()</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x59D4;&#x6258;&#x7C7B;"> &#x59D4;&#x6258;&#x7C7B; </h3>
              <ul>
                <li>
                  <p> &#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57; by</p>
                </li>
                <li>
                  <p> &#x5728;&#x7236;&#x7C7B; Derived &#x4E2D;&#x7684; by- &#x8BED;&#x53E5;&#x8868;&#x793A; b &#x5C06;&#x4F1A;&#x88AB; &#x50A8;&#x5B58;&#x5728; Derived &#x7684;&#x5185;&#x90E8;&#x5BF9;&#x8C61;&#x4E2D; &#x5E76;&#x4E14;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x751F;&#x6210;&#x6240;&#x6709;&#x7684;&#x7528;&#x4E8E;&#x8F6C;&#x53D1;&#x7ED9;
                    b &#x7684; base &#x7684;&#x65B9;&#x6CD5; </p>
                </li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">interface Base {</span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseImpl</span></span>(<span class="variable"><span class="keyword">val</span> x</span>: <span class="typename">Int</span>) : Base {</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">print</span><span class="params">()</span> { <span class="title">print</span><span class="params">(x)</span> }</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span></span>(b: Base) : Base by b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="typename">Array&lt;String&gt;</span>)</span> {</span></span><br><span class="line">  <span class="variable"><span class="keyword">val</span> b</span> = BaseImpl(<span class="number">10</span>)</span><br><span class="line">  Derived(b).print() <span class="comment">// prints 10</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x62BD;&#x8C61;&#x7C7B;"> &#x62BD;&#x8C61;&#x7C7B; </h3>
              <ul>
                <li> &#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x7528; open &#x6807;&#x6CE8;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#x6216;&#x8005;&#x51FD;&#x6570;&#x2014;&#x2014;&#x56E0;&#x4E3A;&#x8FD9;&#x4E0D;&#x8A00;&#x800C;&#x55BB;&#x3002;</li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>{</span><br><span class="line">  <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span> {}</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Derived</span> : <span class="typename">Base</span></span>() {</span><br><span class="line">  <span class="keyword">override</span> abstract <span class="function"><span class="keyword">fun</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x63A5;&#x53E3;"> &#x63A5;&#x53E3; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td>
                      <td class="code"><pre><span class="line">interface MyInterface {</span><br><span class="line">    <span class="variable"><span class="keyword">val</span> property</span>: <span class="typename">Int</span> <span class="comment">// abstract</span></span><br><span class="line"></span><br><span class="line">    <span class="variable"><span class="keyword">val</span> propertyWithImplementation</span>: String</span><br><span class="line">        <span class="keyword">get</span>() = <span class="string">&quot;foo&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span> {</span></span><br><span class="line">        print(property)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> : <span class="typename">MyInterface {</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="variable"><span class="keyword">val</span> property</span>: <span class="typename">Int</span> = <span class="number">29</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x591A;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x51B2;&#x7A81;&#x89E3;&#x51B3;"> &#x591A;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x51B2;&#x7A81;&#x89E3;&#x51B3; </h3>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">interface A {</span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;A&quot;)</span> }</span></span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">interface B {</span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;B&quot;)</span> }</span></span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">bar</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;bar&quot;)</span> }</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> : <span class="typename">A {</span></span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">bar</span><span class="params">()</span> { <span class="title">print</span><span class="params">(&quot;bar&quot;)</span> }</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> : <span class="typename">A</span>, <span class="typename">B {</span></span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span> {</span></span><br><span class="line">    super<span class="type">&lt;A&gt;</span>.foo()</span><br><span class="line">    super<span class="type">&lt;B&gt;</span>.foo()</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x4F7F;&#x7528;-retrofit2-&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6570;&#x636E;"> &#x4F7F;&#x7528; retrofit2 &#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6570;&#x636E; </h3>
              <ol>
                <li> &#x4F9D;&#x8D56;&#x5305;&#xFF1A;</li>
              </ol>
              <p>
                <figure class="highlight xml">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">groupId</span>&gt;</span>com.squareup.retrofit2<span class="tag">&lt;/<span class="title">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">artifactId</span>&gt;</span>retrofit<span class="tag">&lt;/<span class="title">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="title">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">groupId</span>&gt;</span>com.squareup.retrofit2<span class="tag">&lt;/<span class="title">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">artifactId</span>&gt;</span>converter-gson<span class="tag">&lt;/<span class="title">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="title">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">dependency</span>&gt;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> retrofit2.Call</span><br><span class="line"><span class="keyword">import</span> retrofit2.Retrofit</span><br><span class="line"><span class="keyword">import</span> retrofit2.converter.gson.GsonConverterFactory</span><br><span class="line"><span class="keyword">import</span> retrofit2.http.GET</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Created by feel on 2016/12/14.</span><br><span class="line"> * https://api.github.com/repos/Bestfeel/spring-cloud-project/stargazers</span><br><span class="line"> */</span></span><br><span class="line">interface IContent {</span><br><span class="line"></span><br><span class="line">    @GET(<span class="string">&quot;/repos/Bestfeel/spring-cloud-project/stargazers&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getFiles</span><span class="params">()</span>: Call<span class="type">&lt;List&lt;FileDonwload&gt;</span>&gt;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">data <span class="class"><span class="keyword">class</span> <span class="title">FileDonwload</span></span>(<span class="variable"><span class="keyword">val</span> login</span>: String, <span class="variable"><span class="keyword">val</span> id</span>: <span class="typename">Int</span>, <span class="variable"><span class="keyword">val</span> url</span>: String)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">object</span> Service {</span><br><span class="line">    <span class="variable"><span class="keyword">val</span> getContent</span>: IContent by lazy {</span><br><span class="line">        Retrofit.Builder()</span><br><span class="line">                .addConverterFactory(GsonConverterFactory.create())</span><br><span class="line">                .baseUrl(<span class="string">&quot;https://api.github.com&quot;</span>)</span><br><span class="line">                .build().create(IContent::<span class="class"><span class="keyword">class</span>.<span class="title">java</span>)</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="typename">Array&lt;String&gt;</span>)</span> {</span></span><br><span class="line">    </span><br><span class="line">    <span class="variable"><span class="keyword">val</span> body</span> = Service.getContent.getFiles().execute().body()</span><br><span class="line"></span><br><span class="line">    print(body)</span><br><span class="line"></span><br><span class="line">    body.map(::println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6CDB;&#x578B;-&#x534F;&#x53D8;"> &#x6CDB;&#x578B; &#xFF08;&#x534F;&#x53D8;&#xFF09;</h3>
              <ul>
                <li> &#x5728; java &#x4E2D;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x6709;&#x901A;&#x914D;&#x7B26;&#x7C7B;&#x578B; ? extends T</li>
              </ul>
              <p> &#x5982;&#xFF1A; Collection&lt;String&gt; &#x8868;&#x793A;&#x4E3A; Collection&lt;? extends Object&gt; &#x7684;&#x5B50;&#x7C7B;&#x578B; &#x7C7B;&#x4F3C;&#x4E8E; scala &#x4E2D;&#x7684;&#x534F;&#x53D8; </p>
              <ul>
                <li> &#x5728; kotlin &#x4E2D;&#x5B9A;&#x4E49;&#x534F;&#x53D8;&#xFF0C;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57; out &#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x751F;&#x4EA7;&#x8005; </li>
              </ul>
              <p>
                <figure class="highlight crystal">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td>
                      <td class="code"><pre><span class="line"> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Source</span><span class="inheritance">&lt;<span class="parent">out</span></span> <span class="title">T</span>&gt; {</span></span><br><span class="line">  <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">nextT</span></span>()<span class="symbol">:</span> <span class="constant">T</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">demo</span></span>(<span class="symbol">strs:</span> <span class="constant">Source</span>&lt;<span class="constant">String</span>&gt;) {</span><br><span class="line">  val <span class="symbol">objects:</span> <span class="constant">Source</span>&lt;<span class="constant">Any</span>&gt; = strs /<span class="regexp">/ This is OK, since T is an out-parameter</span><br><span class="line">  /</span><span class="regexp">/ ...</span><br><span class="line">}</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x9006;&#x53D8;"> &#x9006;&#x53D8; </h3>
              <ul>
                <li> &#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57; in</li>
              </ul>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Comparable</span>&lt;<span class="type">in T</span>&gt; </span>{</span><br><span class="line">  abstract <span class="function"><span class="keyword">fun</span> <span class="title">compareTo</span><span class="params">(other: <span class="typename">T</span>)</span>: Int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">demo</span><span class="params">(x: <span class="typename">Comparable&lt;Number&gt;</span>)</span> {</span></span><br><span class="line">  x.compareTo(<span class="number">1.0</span>) <span class="comment">// 1.0 has type Double, which is a subtype of Number</span></span><br><span class="line">  <span class="comment">// Thus, we can assign x to a variable of type Comparable&lt;Double&gt;</span></span><br><span class="line">  <span class="variable"><span class="keyword">val</span> y</span>: Comparable<span class="type">&lt;Double&gt;</span> = x <span class="comment">// OK!</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fill</span><span class="params">(dest: <span class="typename">Array&lt;in String&gt;, value: String</span>)</span> {</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x661F;-&#x9884;&#x6D4B;"> &#x661F; - &#x9884;&#x6D4B; </h3>
              <p>
                <figure class="highlight fortran">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="function"><span class="keyword">Function</span></span>&lt;*, String&gt; means <span class="function"><span class="keyword">Function</span></span>&lt;<span class="type">in</span> Nothing, String&gt;;</span><br><span class="line"><span class="function"><span class="keyword">Function</span></span>&lt;<span class="built_in">Int</span>, *&gt; means <span class="function"><span class="keyword">Function</span></span>&lt;<span class="built_in">Int</span>, <span class="type">out</span> <span class="built_in">Any</span>?&gt;;</span><br><span class="line"><span class="function"><span class="keyword">Function</span></span>&lt;*, *&gt; means <span class="function"><span class="keyword">Function</span></span>&lt;<span class="type">in</span> Nothing, <span class="type">out</span> <span class="built_in">Any</span>?&gt;.</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="&#x6CDB;&#x578B;&#x7EA6;&#x675F;-&#x4E0A;&#x754C;&#x4E8E;&#x4E0B;&#x754C;"> &#x6CDB;&#x578B;&#x7EA6;&#x675F; &#xFF08;&#x4E0A;&#x754C;&#x4E8E;&#x4E0B;&#x754C;&#xFF09;</h3>
              <h4 id="&#x4E0A;&#x754C;"> &#x4E0A;&#x754C; </h4>
              <p>
                <figure class="highlight kotlin">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td>
                      <td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T : Comparable&lt;T&gt;</span>&gt; <span class="title">sort</span><span class="params">(list: <span class="typename">List&lt;T&gt;</span>)</span> {</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">sort(listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)) <span class="comment">// OK. Int is a subtype of Comparable&lt;Int&gt;</span></span><br><span class="line">sort(listOf(HashMap<span class="type">&lt;Int, String&gt;</span>())) <span class="comment">// Error: HashMap&lt;Int, String&gt; is not a subtype of Comparable&lt;HashMap&lt;Int, String&gt;&gt;</span></span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>
              <ul>
                <li> &#x591A;&#x4E2A;&#x4E0A;&#x754C; </li>
              </ul>
              <p> &#x4F7F;&#x7528; where &#x5B50;&#x53E5; </p>
              <p>
                <figure class="highlight crystal">
                  <table>
                    <tr>
                      <td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td>
                      <td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">&lt;</span></span><span class="constant">T</span>&gt; cloneWhenGreater(<span class="symbol">list:</span> <span class="constant">List</span>&lt;<span class="constant">T</span>&gt;, <span class="symbol">threshold:</span> <span class="constant">T</span>)<span class="symbol">:</span> <span class="constant">List</span>&lt;<span class="constant">T</span>&gt;</span><br><span class="line">    where <span class="constant">T</span> <span class="symbol">:</span> <span class="constant">Comparable</span>,</span><br><span class="line">          <span class="constant">T</span> <span class="symbol">:</span> <span class="constant">Cloneable</span> {</span><br><span class="line">  <span class="keyword">return</span> list.filter { it &gt; threshold }.map { it.clone() }</span><br><span class="line">}</span><br></pre></td>
                    </tr>
                  </table>
                </figure>
              </p>

            </div>
            <footer>




              <div class="clearfix"></div>
            </footer>
          </div>
        </article>


        <nav id="pagination">


          <a href="/page/2/" class="alignright next">下一页</a>

          <div class="clearfix"></div>
        </nav>
      </div>
    </div>
    <aside id="sidebar" class="alignright">
      <div class="widget tag">
        <h3 class="title">最新文章</h3>
        <ul class="entry">

          <li>
            <a href="/2017/01/04/python下安装MySQLdb/">python 下安装 MySQLdb 填坑</a>
          </li>

          <li>
            <a href="/2016/12/23/scala元编程/">scala 元编程</a>
          </li>

          <li>
            <a href="/2016/11/22/线程安全问题/">线程安全问题</a>
          </li>

          <li>
            <a href="/2016/11/22/Peterson无锁互斥算法/">Peterson 无锁互斥算法</a>
          </li>

          <li>
            <a href="/2016/11/15/mysql5-7版本新特性/">mysql5.7 版本新特性</a>
          </li>

        </ul>
      </div>

      <div class="widget tag">
        <h3 class="title">分类</h3>
        <ul class="entry">

          <li><a href="/categories/bigtata/">bigdata</a><small>2</small></li>

          <li><a href="/categories/css3/">css3</a><small>2</small></li>

          <li><a href="/categories/go/">go</a><small>2</small></li>

          <li><a href="/categories/java/">java</a><small>4</small></li>

          <li><a href="/categories/kotlin/">kotlin</a><small>1</small></li>

          <li><a href="/categories/linux/">linux</a><small>6</small></li>

          <li><a href="/categories/nginx/">nginx</a><small>1</small></li>

          <li><a href="/categories/nginx常用错误/">nginx常用错误</a><small>1</small></li>

          <li><a href="/categories/python/">python</a><small>1</small></li>

          <li><a href="/categories/scala/">scala</a><small>3</small></li>

          <li><a href="/categories/tool/">tool</a><small>1</small></li>

          <li><a href="/categories/web/">web</a><small>2</small></li>

          <li><a href="/categories/数据库/">数据库</a><small>1</small></li>

        </ul>
      </div>

      <div class="widget tag">
        <h3 class="title">标签</h3>
        <ul class="entry">

          <li><a href="/tags/bigtata/">bigdata</a><small>2</small></li>

          <li><a href="/tags/css3/">css3</a><small>2</small></li>

          <li><a href="/tags/go/">go</a><small>2</small></li>

          <li><a href="/tags/java/">java</a><small>3</small></li>

          <li><a href="/tags/java并发编程/">java并发编程</a><small>2</small></li>

          <li><a href="/tags/kotlin/">kotlin</a><small>1</small></li>

          <li><a href="/tags/linux/">linux</a><small>6</small></li>

          <li><a href="/tags/mysql/">mysql</a><small>1</small></li>

          <li><a href="/tags/nginx/">nginx</a><small>2</small></li>

          <li><a href="/tags/nginx信号量/">nginx信号量</a><small>1</small></li>

          <li><a href="/tags/python下安装MySQLdb填坑/">python下安装MySQLdb填坑</a><small>1</small></li>

          <li><a href="/tags/scala/">scala</a><small>3</small></li>

          <li><a href="/tags/sqoop/">sqoop</a><small>1</small></li>

          <li><a href="/tags/tool/">tool</a><small>1</small></li>

          <li><a href="/tags/web/">web</a><small>3</small></li>

          <li><a href="/tags/web前端/">web前端</a><small>1</small></li>

          <li><a href="/tags/前端样式框架/">前端样式框架</a><small>1</small></li>

          <li><a href="/tags/样式/">样式</a><small>1</small></li>

        </ul>
      </div>
    </aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner">
    <div class="alignleft">

      &copy; 2017 feel

    </div>
    <div class="clearfix"></div>
  </footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/js/jquery.imagesloaded.min.js"></script>
  <script src="/js/gallery.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    (function($) {
      $('.fancybox').fancybox();
    })(jQuery);
  </script>
</body>

