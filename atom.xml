<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Feel's blog]]></title>
  <subtitle><![CDATA[知识从未如此性感]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://wwww.feel88.cn/"/>
  <updated>2016-04-03T16:04:48.000Z</updated>
  <id>http://wwww.feel88.cn/</id>
  
  <author>
    <name><![CDATA[feel]]></name>
    <email><![CDATA[568824204@qq.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[CGlib 实现动态代理]]></title>
    <link href="http://wwww.feel88.cn/2016/04/03/CGlib%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/"/>
    <id>http://wwww.feel88.cn/2016/04/03/CGlib实现动态代理/</id>
    <published>2016-04-03T15:52:26.000Z</published>
    <updated>2016-04-03T16:04:48.000Z</updated>
    <content type="html"><![CDATA[<p>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x662F;&#x5E38;&#x7528;&#x7684; java &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x4ED6;&#x7684;&#x7279;&#x5F81;&#x662F;&#x4EE3;&#x7406;&#x7C7B;&#x4E0E;&#x59D4;&#x6258;&#x7C7B;&#x6709;&#x540C;&#x6837;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7406;&#x7C7B;&#x4E3B;&#x8981;&#x8D1F;&#x8D23;&#x4E3A;&#x59D4;&#x6258;&#x7C7B;&#x9884;&#x5904;&#x7406;&#x6D88;&#x606F;&#x3001;&#x8FC7;&#x6EE4;&#x6D88;&#x606F;&#x3001;&#x628A;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x7ED9;&#x59D4;&#x6258;&#x7C7B;&#xFF0C;&#x4EE5;&#x53CA;&#x4E8B;&#x540E;&#x5904;&#x7406;&#x6D88;&#x606F;&#x7B49;&#x3002;&#x4EE3;&#x7406;&#x7C7B;&#x4E0E;&#x59D4;&#x6258;&#x7C7B;&#x4E4B;&#x95F4;&#x901A;&#x5E38;&#x4F1A;&#x5B58;&#x5728;&#x5173;&#x8054;&#x5173;&#x7CFB;&#xFF0C;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x4E0E;&#x4E00;&#x4E2A;&#x59D4;&#x6258;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#xFF0C;&#x4EE3;&#x7406;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x771F;&#x6B63;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x59D4;&#x6258;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#xFF0C;&#x6765;&#x63D0;&#x4F9B;&#x7279;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x3002; &#x6309;&#x7167;&#x4EE3;&#x7406;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x671F;&#xFF0C;&#x4EE3;&#x7406;&#x7C7B;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF1A;</p>
<p>&#x9759;&#x6001;&#x4EE3;&#x7406;&#xFF1A;&#x7531;&#x7A0B;&#x5E8F;&#x5458;&#x521B;&#x5EFA;&#x6216;&#x7279;&#x5B9A;&#x5DE5;&#x5177;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x518D;&#x5BF9;&#x5176;&#x7F16;&#x8BD1;&#x3002;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x524D;&#xFF0C;&#x4EE3;&#x7406;&#x7C7B;&#x7684;.class &#x6587;&#x4EF6;&#x5C31;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E86;&#xFF1B;<br>&#x52A8;&#x6001;&#x4EE3;&#x7406;&#xFF1A;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x8FD0;&#x7528;&#x53CD;&#x5C04;&#x673A;&#x5236;&#x52A8;&#x6001;&#x521B;&#x5EFA;&#x800C;&#x6210;&#x3002;</p>
<a id="more"></a>
<h2 id="jdk-&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x521B;&#x5EFA;&#x673A;&#x5236;-&#x901A;&#x8FC7;&#x63A5;&#x53E3;">JDK &#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x521B;&#x5EFA;&#x673A;&#x5236;&#x2014;- &#x901A;&#x8FC7;&#x63A5;&#x53E3; </h2><p> &#x4F7F;&#x7528; JDK &#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#xFF0C;JDK &#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x53EA;&#x80FD;&#x5BF9;&#x5B9E;&#x73B0;&#x4E86;&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x8FDB;&#x884C;&#x4EE3;&#x7406;, &#x88AB;&#x4EE3;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x8981;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x3002;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x6848;&#x4F8B;&#x3002;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.gizwits.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IPerson</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.gizwits.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">IPerson</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;&#x4EBA;&#x8981;&#x5403;&#x996D;!!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package com.gizwits.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.gizwits.bean.<span class="type">Person</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.<span class="type">InvocationHandler</span>;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.<span class="type">Method</span>;</span><br><span class="line"></span><br><span class="line">public class <span class="type">PersonInvocationHandler</span> implements <span class="type">InvocationHandler</span> {</span><br><span class="line"></span><br><span class="line">    private <span class="type">Person</span> person;</span><br><span class="line"></span><br><span class="line">    public <span class="type">PersonInvocationHandler</span>(<span class="type">Person</span> person) {</span><br><span class="line">        this.person = person;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @<span class="type">Override</span></span><br><span class="line">    public <span class="type">Object</span> invoke(<span class="type">Object</span> proxy, <span class="type">Method</span> <span class="keyword">method</span>, <span class="type">Object</span>[] args) throws <span class="type">Throwable</span> {</span><br><span class="line"></span><br><span class="line">        <span class="type">System</span>.<span class="keyword">out</span>.println(<span class="string">&quot;&#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x524D;&#x8981;&#x6D17;&#x624B;.....&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> invoke = <span class="keyword">method</span>.invoke(person, args);</span><br><span class="line"></span><br><span class="line">        <span class="type">System</span>.<span class="keyword">out</span>.println(<span class="string">&quot;&#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x540E;&#x8981;&#x6D17;&#x7897;...&quot;</span>);</span><br><span class="line">        //   &#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x503C;, &#x5177;&#x4F53;&#x770B;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x503C;.</span><br><span class="line">        <span class="keyword">return</span> invoke;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package com.gizwits.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.gizwits.bean.IPerson;</span><br><span class="line"><span class="keyword">import</span> com.gizwits.bean.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*</span><br><span class="line"> *</span><br><span class="line"> * &#x4F7F;&#x7528; jdk &#x539F;&#x751F;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x4EE3;&#x7406;</span><br><span class="line"> */</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">JDKPorxy</span> </span>{</span><br><span class="line"></span><br><span class="line">    public static <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) {</span><br><span class="line"></span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//   &#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;. &#x4EBA;&#x8981;&#x5403;&#x996D;&#x4E4B;&#x524D;&#x8981; &#x6D17;&#x624B;, &#x5403;&#x996D;&#x4E4B;&#x540E;&#x8FD8;&#x6709;&#x6D17;&#x7897;.</span></span><br><span class="line">        <span class="built_in">Object</span> o = <span class="built_in">Proxy</span>.newProxyInstance(p.getClass().getClassLoader(), p.getClass().getInterfaces(), <span class="keyword">new</span> PersonInvocationHandler(p));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x63A5;&#x53E3;</span></span><br><span class="line">        IPerson person = (IPerson) o;</span><br><span class="line"></span><br><span class="line">        person.eat();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//end  main</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x6700;&#x540E;&#x8F93;&#x51FA;&#xFF1A;</p>
<figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x524D;&#x8981;&#x6D17;&#x624B;.....</span><br><span class="line">&#x4EBA;&#x8981;&#x5403;&#x996D; <span class="exclamation_mark">!</span><span class="exclamation_mark">!</span></span><br><span class="line"> &#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x540E;&#x8981;&#x6D17;&#x7897;...</span><br></pre></td></tr></table></figure>
<h2 id="cglib-&#x751F;&#x6210;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x7684;&#x673A;&#x5236;-&#x901A;&#x8FC7;&#x7C7B;&#x7EE7;&#x627F;">cglib &#x751F;&#x6210;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x7684;&#x673A;&#x5236;&#x2014;- &#x901A;&#x8FC7;&#x7C7B;&#x7EE7;&#x627F;</h2><p>JDK &#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x751F;&#x6210;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x7684;&#x673A;&#x5236;&#x6709;&#x4E2A;&#x9C9C;&#x660E;&#x7684;&#x7279;&#x70B9;&#x662F;&#xFF1A; &#x67D0;&#x4E2A;&#x7C7B;&#x5FC5;&#x987B;&#x6709;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7406;&#x7C7B;&#x4E5F;&#x53EA;&#x80FD;&#x4EE3;&#x7406;&#x67D0;&#x4E2A;&#x7C7B;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5982;&#x679C;&#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x7684; ElectricCar &#x5B9E;&#x73B0;&#x4E86;&#x7EE7;&#x627F;&#x81EA;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x5916;&#xFF0C;&#x53E6;&#x5916;&#x5B9E;&#x73B0;&#x4E86;&#x65B9;&#x6CD5; bee() , &#x5219;&#x5728;&#x4EA7;&#x751F;&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x4E2D;&#x4E0D;&#x4F1A;&#x6709;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E86;&#xFF01;&#x66F4;&#x6781;&#x7AEF;&#x7684;&#x60C5;&#x51B5;&#x662F;&#xFF1A;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x7C7B;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C31;&#x4E0D;&#x80FD;&#x540C; JDK &#x4EA7;&#x751F;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x4E86;&#xFF01;<br> &#x5E78;&#x597D;&#x6211;&#x4EEC;&#x6709; cglib&#x3002;&#x201C;CGLIB&#xFF08;Code Generation Library&#xFF09;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#xFF0C;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x9AD8;&#x8D28;&#x91CF;&#x7684; Code &#x751F;&#x6210;&#x7C7B;&#x5E93;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x8FD0;&#x884C;&#x671F;&#x6269;&#x5C55; Java &#x7C7B;&#x4E0E;&#x5B9E;&#x73B0; Java &#x63A5;&#x53E3;&#x3002;&#x201D;</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package com.gizwits.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span> {</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span>(<span class="params"></span>) </span>{</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;&#x4EBA;&#x8981;&#x5403;&#x996D;!!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x7684;&#x62E6;&#x622A;&#x5668;">&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x7684;&#x62E6;&#x622A;&#x5668;</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.gizwits.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> net.sf.cglib.proxy.MethodInterceptor;</span><br><span class="line"><span class="keyword">import</span> net.sf.cglib.proxy.MethodProxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CGlibInterceptor</span> <span class="keyword">implements</span> <span class="title">MethodInterceptor</span> </span>{</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object obj, Method method, Object[] args, MethodProxy proxy)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;&#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x524D;&#x8981;&#x6D17;&#x624B;.....&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Object invoke = proxy.invokeSuper(obj, args);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;&#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x540E;&#x8981;&#x6D17;&#x7897;...&quot;</span>);</span><br><span class="line">        <span class="comment">//   &#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x503C;, &#x5177;&#x4F53;&#x770B;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x503C;.</span></span><br><span class="line">        <span class="keyword">return</span> invoke;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.gizwits.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.gizwits.bean.User;</span><br><span class="line"><span class="keyword">import</span> net.sf.cglib.proxy.Enhancer;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CGlibProxy</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//cglib &#x4E2D;&#x52A0;&#x5F3A;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x4EE3;&#x7406; </span></span><br><span class="line">        Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x8BBE;&#x7F6E;&#x8981;&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7684;&#x7C7B;</span></span><br><span class="line">        enhancer.setSuperclass(user.getClass());</span><br><span class="line">        <span class="comment">// &#x8BBE;&#x7F6E;&#x56DE;&#x8C03;(&#x65B9;&#x6CD5;&#x62E6;&#x622A;&#x5668;)&#xFF0C;&#x8FD9;&#x91CC;&#x76F8;&#x5F53;&#x4E8E;&#x662F;&#x5BF9;&#x4E8E;&#x4EE3;&#x7406;&#x7C7B;&#x4E0A;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x90FD;&#x4F1A;&#x8C03;&#x7528; CallBack&#xFF0C;&#x800C; Callback &#x5219;&#x9700;&#x8981;&#x5B9E;&#x884C; intercept() &#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x62E6;&#x622A;</span></span><br><span class="line">        enhancer.setCallback(<span class="keyword">new</span> CGlibInterceptor());</span><br><span class="line"></span><br><span class="line">        User u = (User) enhancer.create();</span><br><span class="line"></span><br><span class="line">        u.eat();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//end  main</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8F93;&#x51FA;&#xFF1A;</p>
<figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x524D;&#x8981;&#x6D17;&#x624B;.....</span><br><span class="line">&#x4EBA;&#x8981;&#x5403;&#x996D; <span class="exclamation_mark">!</span><span class="exclamation_mark">!</span></span><br><span class="line"> &#x4EBA;&#x5403;&#x996D;&#x4E4B;&#x540E;&#x8981;&#x6D17;&#x7897;...</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>代理模式是常用的java设计模式，他的特征是代理类与委托类有同样的接口，代理类主要负责为委托类预处理消息、过滤消息、把消息转发给委托类，以及事后处理消息等。代理类与委托类之间通常会存在关联关系，一个代理类的对象与一个委托类的对象关联，代理类的对象本身并不真正实现服务，而是通过调用委托类的对象的相关方法，来提供特定的服务。 按照代理的创建时期，代理类可以分为两种：</p>
<p>静态代理：由程序员创建或特定工具自动生成源代码，再对其编译。在程序运行前，代理类的.class文件就已经存在了；<br>动态代理：在程序运行时，运用反射机制动态创建而成。</p>]]>
    
    </summary>
    
      <category term="java" scheme="http://wwww.feel88.cn/tags/java/"/>
    
      <category term="java" scheme="http://wwww.feel88.cn/categories/java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[linux  交换分区]]></title>
    <link href="http://wwww.feel88.cn/2016/03/08/linux-%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA/"/>
    <id>http://wwww.feel88.cn/2016/03/08/linux-交换分区/</id>
    <published>2016-03-08T03:03:46.000Z</published>
    <updated>2016-03-08T03:14:38.000Z</updated>
    <content type="html"><![CDATA[<p>&#x5229;&#x7528; swapoff &#x548C; swapon &#x5237;&#x65B0; swap &#x7F13;&#x5B58;</p>
<h2 id="&#x5982;&#x4F55;&#x6E05;&#x9664;-linux-&#x7684;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;">&#x5982;&#x4F55;&#x6E05;&#x9664; Linux &#x7684;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;&#xFF1F;</h2><p>&#x6709;&#x65F6;&#x8FD0;&#x884C;&#x5927;&#x91CF;&#x7684;&#x8FDB;&#x7A0B;&#x540E; swap &#x5927;&#x91CF;&#x5360;&#x7528;&#xFF0C;&#x8FBE;&#x5230; 30% &#x7684;&#x8BDD;&#x673A;&#x5668;&#x4F1A;&#x53D8;&#x5F97;&#x5F88;&#x6162; <br> &#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x547D;&#x4EE4;&#x6E05;&#x9664;&#x5237;&#x65B0; swap</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">swapoff -<span class="literal">a</span> &amp;&amp; swapon -<span class="literal">a</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>&#x4EE5;&#x4E0B;&#x662F;&#x8BBE;&#x7F6E; swap &#x4F18;&#x5148;&#x7EA7;&#x7684;&#x65B9;&#x6CD5;</p>
<p>swappiness<br>Ubuntu Feisty &#x9ED8;&#x8BA4;&#x7684; vm.swappiness &#x503C;&#x662F; 60, &#x8FD9;&#x4E00;&#x9ED8;&#x8BA4;&#x503C;&#x5DF2;&#x7ECF;&#x5F88;&#x5408;&#x9002;&#x4E86;&#x3002;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x6539;&#x5C0F;&#x4E00;&#x4E9B;&#x964D;&#x4F4E; swap &#x7684;&#x52A0;&#x8F7D;&#xFF0C;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x4F1A;&#x6709;&#x4E00;&#x70B9;&#x70B9;&#x7684;&#x63D0;&#x5347; <br> &#x8F93; &#x5165;&#xFF1A;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -<span class="tag">q</span> vm.swappiness</span><br></pre></td></tr></table></figure>
<p>&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x503C;&#x662F; 60&#xFF0C; &#x66F4;&#x6539;:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl vm.swappiness=<span class="number">10</span></span><br></pre></td></tr></table></figure>
<p>&#x8FD9; &#x6837;&#x4F60;&#x5C31;&#x5C06;&#x503C;&#x7531; 60 &#x6539;&#x4E3A; 10, &#x8FD9;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x7CFB;&#x7EDF;&#x5BF9;&#x4E8E; swap &#x7684;&#x5199;&#x5165;&#xFF0C;&#x5EFA;&#x8BAE;&#x5185;&#x5B58;&#x4E3A; 512m &#x6216;&#x66F4;&#x591A;&#x7684;&#x670B;&#x53CB;&#x91C7;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x4F60;&#x4F60;&#x53D1;&#x73B0;&#x4F60;&#x5BF9;&#x4E8E; swap &#x7684;&#x4F7F;&#x7528;&#x6781;&#x5C11;&#xFF0C;&#x53EF; &#x4EE5;&#x5C06;&#x503C;&#x8BBE;&#x4E3A; 0&#x3002;&#x8FD9;&#x5E76;&#x4E0D;&#x4F1A;&#x7981;&#x6B62;&#x4F60;&#x5BF9; swap &#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#x5BF9;&#x4E8E; swap &#x7684;&#x5199;&#x5165;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5C11;&#xFF0C;&#x540C;&#x65F6;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x7684;&#x4F7F;&#x7528;&#x4F60;&#x7684;&#x5B9E;&#x9645;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x5BF9;&#x4E8E;&#x4F60;&#x5728;&#x5207;&#x6362;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; &#x65F6;&#x6709;&#x7740;&#x5DE8;&#x5927;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5B83;&#x4EEC;&#x662F;&#x5728;&#x7269;&#x7406;&#x5185;&#x5B58;&#x800C;&#x975E; swap &#x5206;&#x533A;&#x4E2D;&#x3002;<br>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x6C38;&#x4E45;&#x5F97;&#x6539;&#x53D8;&#x8FD9;&#x4E00;&#x503C;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x66F4;&#x6539; sysctl.conf &#x6587;&#x4EF6;&#xFF1A;</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vim</span> /etc/sysctl.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure>
<p>&#x6DFB;&#x52A0;&#xFF1A;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.swappiness=<span class="number">10</span></span><br></pre></td></tr></table></figure>
<p>&#x5230;&#x672B;&#x884C;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x542F;&#x751F;&#x6548;&#x3002;<br>&#x6211;&#x53D1;&#x73B0;&#x5BF9; &#x4E8E;&#x6211;&#x7684; 1G &#x5185;&#x5B58;&#xFF0C;&#x5C06;&#x6B64;&#x503C;&#x8BBE;&#x4E3A; 5 &#x662F;&#x6700;&#x5408;&#x9002;&#x7684;&#x3002;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>利用swapoff和swapon刷新swap缓存</p>
<h2 id="如何清除Linux的交换空间？">如何清除Linux的交换空间？</h2><p>有时运行大量的进程后swap大量占用，达到30%的话机器会变得很慢<br>可以用以下两个命令清除刷新swap</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">swapoff -<span class="literal">a</span> &amp;&amp; swapon -<span class="literal">a</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="linux" scheme="http://wwww.feel88.cn/tags/linux/"/>
    
      <category term="linux" scheme="http://wwww.feel88.cn/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ssl 双向认证]]></title>
    <link href="http://wwww.feel88.cn/2016/01/02/ssl%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81/"/>
    <id>http://wwww.feel88.cn/2016/01/02/ssl双向认证/</id>
    <published>2016-01-02T14:52:17.000Z</published>
    <updated>2016-03-19T13:59:12.000Z</updated>
    <content type="html"><![CDATA[<p>&#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x4E00;&#x4E9B;&#x7AEF;&#x53E3;&#x548C;&#x7F51;&#x7AD9;&#x9700;&#x8981; ssl &#x53CC;&#x5411;&#x8BA4;&#x8BC1;</p>
<p>1. &#x5B89;&#x88C5; htpasswd</p>
<p>ubuntu  </p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="keyword">get</span> install apache2-utils</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>centos</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> -y httpd-tools</span><br></pre></td></tr></table></figure>
<ol>
<li>&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#x751F;&#x4EA7;&#x5BC6;&#x7801;</li>
</ol>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -bcs  kibana<span class="class">.passwd</span>      user   passwd</span><br></pre></td></tr></table></figure>
<ol>
<li>&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#x751F;&#x6210; ssl &#x79C1;&#x94A5; <br> &#x65B0;&#x5EFA; CA/private</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(umask <span class="number">077</span>;openssl genrsa -out cakey.pem <span class="number">2048</span>)</span><br><span class="line">openssl req -<span class="keyword">new</span> -x509 -key <span class="keyword">private</span>/cakey.pem -out cacert.pem -days <span class="number">365500</span></span><br></pre></td></tr></table></figure>
<ol>
<li>&#x751F;&#x6210; ssl </li>
</ol>
<p>&#x6B64;&#x65F6;&#x4F1A;&#x6709;&#x8BC1;&#x4E66;&#x5BC6;&#x7801; </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="tag">umask</span> 077;<span class="tag">openssl</span> <span class="tag">genrsa</span> <span class="tag">-out</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.key</span> 1024)</span><br><span class="line"></span><br><span class="line"><span class="tag">openssl</span> <span class="tag">req</span> <span class="tag">-new</span> <span class="tag">-key</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.key</span> <span class="tag">-out</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.csr</span></span><br><span class="line"></span><br><span class="line"><span class="tag">openssl</span> <span class="tag">ca</span> <span class="tag">-in</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.csr</span> <span class="tag">-out</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.crt</span> <span class="tag">-days</span> 365500</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="tag">umask</span> 077;<span class="tag">openssl</span> <span class="tag">genrsa</span> <span class="tag">-out</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.key</span> 1024)</span><br><span class="line"></span><br><span class="line"><span class="tag">openssl</span> <span class="tag">req</span> <span class="tag">-new</span> <span class="tag">-key</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.key</span> <span class="tag">-out</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.csr</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">openssl</span> <span class="tag">ca</span> <span class="tag">-in</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.csr</span> <span class="tag">-out</span> <span class="tag">kibana</span><span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.crt</span> <span class="tag">-days</span> 365500</span><br></pre></td></tr></table></figure>
<p>&#x5C06;&#x6587;&#x672C;&#x683C;&#x5F0F;&#x7684;&#x8BC1;&#x4E66;&#x8F6C;&#x6362;&#x6210;&#x53EF;&#x4EE5;&#x5BFC;&#x5165;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BC1;&#x4E66;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl pkcs12 -export -clcerts -<span class="keyword">in</span> kibana<span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.crt</span> -inkey kibana<span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.key</span> -out kibana<span class="class">.gizwits</span><span class="class">.com</span><span class="class">.client</span><span class="class">.p12</span></span><br></pre></td></tr></table></figure>
<p>5.nginx  &#x914D;&#x7F6E;</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">server </span><span class="expression">{</span><br><span class="line">       </span><br><span class="line">    <span class="variable">listen</span>      443  ;</span><br><span class="line">    <span class="variable">root</span> <span class="end-block">/usr</span><span class="end-block">/share</span><span class="end-block">/nginx</span><span class="end-block">/html</span>;</span><br><span class="line">    <span class="variable">index</span> <span class="variable">index.html</span> <span class="variable">index.htm</span>;</span><br><span class="line"></span><br><span class="line">    <span class="begin-block"># Make site accessible from http</span>:/<span class="end-block">/localhost</span>/</span><br><span class="line">    <span class="variable">server</span>_<span class="variable">name</span> <span class="variable">localhost</span>;</span><br><span class="line">    <span class="variable">ssl</span> <span class="variable">on</span>;</span><br><span class="line">    <span class="variable">ssl</span>_<span class="variable">certificate</span>         <span class="end-block">/etc</span><span class="end-block">/nginx</span><span class="end-block">/kibanassl</span><span class="end-block">/kibana.gizwits.com.crt</span>;</span><br><span class="line">    <span class="variable">ssl</span>_<span class="variable">certificate</span>_<span class="variable">key</span>     <span class="end-block">/etc</span><span class="end-block">/nginx</span><span class="end-block">/kibanassl</span><span class="end-block">/kibana.gizwits.com.key</span>;</span><br><span class="line">    <span class="variable">ssl</span>_<span class="variable">client</span>_<span class="variable">certificate</span>  <span class="end-block">/etc</span><span class="end-block">/nginx</span><span class="end-block">/kibanassl</span><span class="end-block">/CA</span><span class="end-block">/cacert.pem</span>;</span><br><span class="line">    <span class="variable">ssl</span>_<span class="variable">session</span>_<span class="variable">timeout</span>     20<span class="variable">m</span>;</span><br><span class="line">    <span class="variable">ssl</span>_<span class="variable">verify</span>_<span class="variable">client</span>       <span class="variable">on</span>;</span><br><span class="line">    <span class="variable">ssl</span>_<span class="variable">protocols</span>           <span class="variable">SSLv</span>2 <span class="variable">SSLv</span>3 <span class="variable">TLSv</span>1;</span><br><span class="line">    <span class="begin-block">#charset koi</span>8<span class="variable">-r</span>;</span><br><span class="line">    <span class="begin-block">#access</span>_<span class="variable">log</span>  <span class="end-block">/var</span><span class="end-block">/log</span><span class="end-block">/nginx</span><span class="end-block">/log</span><span class="end-block">/host.access.log  main</span>;</span><br><span class="line"> </span><br><span class="line">   </span><br><span class="line">    <span class="variable">location</span> <span class="end-block">/ </span>{</span><br><span class="line">      <span class="variable">auth</span>_<span class="variable">basic</span> <span class="string">&quot;Restricted&quot;</span>;</span><br><span class="line">      <span class="variable">auth</span>_<span class="variable">basic</span>_<span class="variable">user</span>_<span class="variable">file</span> <span class="end-block">/etc</span><span class="end-block">/nginx</span><span class="end-block">/httppasswd</span><span class="end-block">/kibana.passwd</span>;</span><br><span class="line">      <span class="variable">proxy</span>_<span class="variable">pass</span> <span class="variable">http</span>:/<span class="end-block">/localhost</span>:5601;</span><br><span class="line">      <span class="variable">index</span>  <span class="variable">index.html</span> <span class="variable">index.htm</span>;</span><br><span class="line">      </span><br><span class="line">    }</span><span class="xml"></span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>6. &#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line"><span class="comment">#  coding &quot;feel&quot;</span></span><br><span class="line"><span class="comment">#  /etc/sysconfig/iptables</span></span><br><span class="line"><span class="comment"># ssh root@MachineB &apos;bash -s&apos; &lt; local_script.sh</span></span><br><span class="line"><span class="comment"># use puppet later</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">declare</span> -A hosts</span><br><span class="line"></span><br><span class="line"><span class="comment">#   &#x5BF9;&#x4EE5;&#x4E0B;&#x673A;&#x5668; &#x7AEF;&#x53E3;&#x5168;&#x90E8;&#x5F00;&#x653E;</span></span><br><span class="line">hosts=(</span><br><span class="line">  [feel]=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">#  &#x672C;&#x673A;&#x9700;&#x8981;&#x5BF9;&#x5916;&#x5F00;&#x653E;&#x7684;&#x7AEF;&#x53E3;</span></span><br><span class="line"><span class="built_in">declare</span> -A  mports     </span><br><span class="line">mports=(</span><br><span class="line">  [website]=<span class="number">80</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># &#x58F0;&#x660E; &#x4E3B;&#x673A;&#x540D;</span></span><br><span class="line"><span class="built_in">declare</span>  -x  localname</span><br><span class="line"><span class="comment">#  &#x4E3B;&#x673A;&#x540D;</span></span><br><span class="line">localname=<span class="string">&quot;cloud&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  &#x6E05;&#x9664;&#x89C4;&#x5219;</span></span><br><span class="line"></span><br><span class="line">iptables  -F</span><br><span class="line">iptables  -t nat -L</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">iptables  -P INPUT DROP</span><br><span class="line">iptables  -P FORWARD DROP</span><br><span class="line">iptables  -P OUTPUT ACCEPT</span><br><span class="line"></span><br><span class="line"><span class="comment">#  22  &#x4E3A; ssh &#x7AEF;&#x53E3;, &#x9632;&#x6B62;&#x81EA;&#x9501;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;</span></span><br><span class="line"></span><br><span class="line">iptables   -A INPUT -p tcp -m state --state NEW -m tcp --dport <span class="number">22</span> -j ACCEPT</span><br><span class="line"></span><br><span class="line">iptables   -A  INPUT -i lo -j ACCEPT</span><br><span class="line"></span><br><span class="line">iptables   -A   INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [<span class="string">&quot;<span class="variable">$(hostname)</span>&quot;</span> == <span class="string">&quot;<span class="variable">$localname</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="comment">#iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 443 -j DNAT --to-destination :5601</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$localname</span>&quot;</span></span><br><span class="line">  <span class="keyword">for</span> p <span class="keyword">in</span> <span class="string">&quot;<span class="variable">${!mports[@]}</span>&quot;</span></span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">echo</span>  <span class="string">&quot;&#x5916;&#x7F51;&#x5F00;&#x653E;&#x7AEF;&#x53E3; <span class="variable">${mports[$p]}</span>&quot;</span></span><br><span class="line">   iptables   -A INPUT -p tcp -m state --state NEW -m tcp --dport <span class="variable">${mports[$p]}</span> -j ACCEPT</span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> h <span class="keyword">in</span> <span class="string">&quot;<span class="variable">${!hosts[@]}</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> [<span class="string">&quot;<span class="variable">$(hostname)</span>&quot;</span> != <span class="string">&quot;<span class="variable">$h</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    iptables -A INPUT <span class="operator">-s</span> <span class="variable">${hosts[$h]}</span> -j ACCEPT</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#iptables -A INPUT -p icmp --icmp-type 8 -i eth0 -j ACCEPT</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5C4F;&#x853D;&#x4E86; nmap &#x63A2;&#x6D4B;&#x7684; icmp &#x56DE;&#x5E94;, &#x4EE5;&#x4E0B;&#x89C4;&#x5219;&#x662F;&#x9488;&#x5BF9;&#x6211;&#x81EA;&#x5DF1;&#x7684; vps &#x6DFB;&#x52A0;&#x7684;</span></span><br><span class="line">iptables -A INPUT -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#iptables -A INPUT -p tcp --dport 443 -j ACCEPT</span></span><br><span class="line"></span><br><span class="line">/sbin/iptables-save</span><br><span class="line"></span><br><span class="line">iptables -L -v</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#   close</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#iptables -P INPUT ACCEPT </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#iptables -P FORWARD ACCEPT </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#iptables -P OUTPUT ACCEPT </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#iptables -F </span></span><br><span class="line"><span class="comment">#iptables -t nat -L</span></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>有时候我们一些端口和网站需要ssl 双向认证</p>
<p>1.安装htpasswd</p>
<p>ubuntu  </p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="keyword">get</span> install apache2-utils</span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="linux" scheme="http://wwww.feel88.cn/tags/linux/"/>
    
      <category term="nginx" scheme="http://wwww.feel88.cn/tags/nginx/"/>
    
      <category term="linux" scheme="http://wwww.feel88.cn/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[autossh 隧道搭建私服]]></title>
    <link href="http://wwww.feel88.cn/2015/12/27/autossh%E9%9A%A7%E9%81%93%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D/"/>
    <id>http://wwww.feel88.cn/2015/12/27/autossh隧道搭建私服/</id>
    <published>2015-12-27T11:40:43.000Z</published>
    <updated>2015-12-27T11:45:12.000Z</updated>
    <content type="html"><![CDATA[<p> &#x5E94;&#x540C;&#x4E8B;&#x7684;&#x8981;&#x6C42;&#xFF1A;&#x4ED6;&#x60F3;&#x5B9E;&#x73B0;&#x8FDC;&#x7A0B;&#x767B;&#x5165;&#x5BB6;&#x91CC;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p> &#x60C5;&#x51B5;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x3002;&#x5BB6;&#x91CC;&#x6709;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x7B14;&#x8BB0;&#x672C;&#x5373;&#x53EF;&#xFF09;&#x3002;&#x4E00;&#x53F0;&#x5916;&#x7F51;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p> &#x60F3;&#x901A;&#x8FC7;&#x5728;&#x516C;&#x53F8;&#x8FDC;&#x7A0B;&#x767B;&#x5165;&#x5BB6;&#x91CC;&#x7684;&#x90A3;&#x53F0;&#x5C40;&#x57DF;&#x7F51;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p> &#x5F00;&#x59CB;&#x6211;&#x7684;&#x60F3;&#x6CD5;&#x662F;&#xFF1A;&#x642D;&#x5EFA; openvpn &#x3002;&#x4F46;&#x662F;&#x6BD5;&#x7ADF;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x4EBA;&#x90FD;&#x80FD;&#x642D;&#x5EFA;&#x6210;&#x529F;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x7F3A;&#x70B9;&#x3002; &#x64CD;&#x4F5C;&#x590D;&#x6742; </p>
<p> &#x4E00;&#x4E2A;&#x5468;&#x672B;&#x7684;&#x4E0B;&#x5348;&#x6211;&#x7A81;&#x7136;&#x60F3;&#x8D77;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x96A7;&#x9053;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x51FA;&#x53BB;&#x3002;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x4E0D;&#x9519;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x2013;&gt;(&#x8FD9;&#x4E2A;&#x60F3;&#x6CD5;&#x6765;&#x81EA;&#x6211;&#x73B0;&#x5728;&#x7684;&#x4E0A; google &#x7684;&#x65B9;&#x5F0F;&#xFF09;</p>
<a id="more"></a>
<p> &#x7406;&#x8BBA;&#x57FA;&#x7840;&#xFF1A;autossh &#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x542F;&#x52A8; ssh &#x5E76;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x5728;&#x9700;&#x8981;&#x65F6;&#x91CD;&#x542F; ssh&#xFF0C;&#x4F8B;&#x5982;&#x7A0B;&#x5E8F;&#x6302;&#x6389;&#x6216;&#x8005;&#x662F;&#x7F51;&#x7EDC;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x3002;&#x5176;&#x7075;&#x611F;&#x548C;&#x673A;&#x5236;&#x6765;&#x81EA;&#x4E8E; rstunnel  (Reliable SSH Tunnel). autossh 1.2 &#x7684;&#x65B9;&#x6CD5;&#x5DF2;&#x7ECF;&#x6539;&#x53D8;&#xFF1A;autossh &#x4F7F;&#x7528; ssh &#x6765;&#x6784;&#x9020;&#x4E00;&#x4E2A; ssh &#x91CD;&#x5B9A;&#x5411;&#x5FAA;&#x73AF;&#xFF08;&#x672C;&#x5730;&#x5230;&#x8FDC;&#x7A0B;&#x548C;&#x8FDC;&#x7A0B;&#x5230;&#x672C;&#x5730;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x9001;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5E76;&#x83B7;&#x5F97;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;</p>
<p> &#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#xFF1A; &#x4E00;&#x53F0;&#x5916;&#x7F51;&#x670D;&#x52A1;&#x5668;&#x3002;<br>          &#x4E00;&#x53F0;&#x5C40;&#x57DF;&#x7F51;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x673A;&#xFF09;</p>
<p> &#x5916;&#x7F51;&#x673A;&#x5668; ip &#xFF08;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E3A; google)<strong>*</strong></p>
<p> &#x865A;&#x62DF;&#x673A; ip &#x67E5;&#x770B; &#x4E3A;  192.168.1.100 </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]<span class="preprocessor"># ifconfig |grep <span class="string">&quot;inet addr&quot;</span></span></span><br><span class="line">          inet addr:<span class="number">192.168</span><span class="number">.1</span><span class="number">.100</span>  Bcast:<span class="number">192.168</span><span class="number">.1</span><span class="number">.255</span>  Mask:<span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span></span><br><span class="line">          inet addr:<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>  Mask:<span class="number">255.0</span><span class="number">.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>
<p> &#x7F16;&#x5199; &#x811A;&#x672C;&#xFF1A; &#x8BE5;&#x811A;&#x672C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x548C;&#x7F16;&#x5199; </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]<span class="comment"># cat a.sh </span></span><br><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span><br><span class="line"></span></span><br><span class="line">autossh -M <span class="number">5678</span> -NR <span class="number">19999</span>:localhost:<span class="number">22</span> feel@google</span><br></pre></td></tr></table></figure>
<p> &#x5916;&#x7F51;&#x670D;&#x52A1;&#x5668; &#x6253;&#x5F00;&#x7AEF;&#x53E3; 19999<br> &#x6DFB;&#x52A0;&#x9632;&#x706B;&#x5899;&#x89C4;&#x5219;&#xFF1A;</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -p tcp -m <span class="keyword">state</span> --state NEW -m tcp --dport <span class="number">19999</span> -j ACCEPT</span><br></pre></td></tr></table></figure>
<p> &#x4E4B;&#x540E;&#x91CD;&#x542F;&#x9632;&#x706B;&#x5899; </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[feel<span class="annotation">@cloud</span> ~]$ sudo service  iptables  restart</span><br><span class="line"><span class="string">iptables:</span> Setting chains to policy <span class="string">ACCEPT:</span> filter nat      [OK]</span><br><span class="line"><span class="string">iptables:</span> Flushing firewall <span class="string">rules:</span>                         [OK]</span><br><span class="line"><span class="string">iptables:</span> Unloading <span class="string">modules:</span>                               [OK]</span><br><span class="line"><span class="string">iptables:</span> Applying firewall <span class="string">rules:</span>                         [OK]</span><br></pre></td></tr></table></figure>
<p> &#x5728;&#x865A;&#x62DF;&#x673A;&#x90A3;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x6267;&#x884C;&#x521A;&#x624D;&#x7684;&#x811A;&#x672C; </p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@centos</span> ~]<span class="comment"># sh a.sh </span></span><br><span class="line">feel<span class="property">@google</span><span class="string">&apos;s password:</span></span><br></pre></td></tr></table></figure>
<p> &#x5728;&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x4E0A;&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#xFF0C;&#x53EF;&#x77E5;&#x5DF2;&#x7ECF;&#x88AB;&#x76D1;&#x542C;&#x4E86; </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[feel@cloud ~]$ sudo  netstat  -tanpl |grep <span class="number">19999</span></span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">19999</span>             <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:*                   LISTEN      <span class="number">6109</span>/sshd           </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> ::<span class="number">1</span>:<span class="number">19999</span>                   :::*                        LISTEN      <span class="number">6109</span>/sshd</span><br></pre></td></tr></table></figure>
<p> &#x90A3;&#x4E48;&#x5C31;&#x8FD9;&#x6837;&#x5C31;&#x6210;&#x529F;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5411;&#x767B;&#x5165;&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x7684;&#x65B9;&#x5F0F;&#x767B;&#x5165;&#x6211;&#x4EEC;&#x5C40;&#x57DF;&#x7F51;&#x90A3;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E86; </p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[feel<span class="comment">@cloud ~]$ ssh  -p  19999   root@localhost</span></span><br><span class="line"><span class="label">root</span><span class="comment">@localhost&apos;s password: </span></span><br><span class="line"><span class="label">Last</span> login: Sun Oct <span class="number">18</span> <span class="number">01</span>:<span class="number">52</span>:<span class="number">57</span> <span class="number">2015</span> from localhost</span><br><span class="line">[root<span class="comment">@centos ~]# pwd</span></span><br><span class="line">/root</span><br><span class="line">[root<span class="comment">@centos ~]# ifconfig</span></span><br><span class="line"><span class="label">eth0</span>      Link encap:Ethernet  HWaddr <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="literal">F0</span>:EB:AE  </span><br><span class="line">          inet <span class="keyword">addr:192.168.1.100 </span> <span class="keyword">Bcast:192.168.1.255 </span> Mask:<span class="number">255</span>.<span class="number">255</span>.<span class="number">255</span>.<span class="number">0</span></span><br><span class="line">          inet6 <span class="keyword">addr: </span>fe80::<span class="number">20</span>c:<span class="number">29</span>ff:fef0:ebae/<span class="number">64</span> Scope:Link</span><br><span class="line">          UP <span class="keyword">BROADCAST </span>RUNNING <span class="keyword">MULTICAST </span> MTU:<span class="number">1500</span>  Metric:<span class="number">1</span></span><br><span class="line">          RX packets:<span class="number">10482</span> errors:<span class="number">0</span> dropped:<span class="number">0</span> overruns:<span class="number">0</span> frame:<span class="number">0</span></span><br><span class="line">          TX packets:<span class="number">5908</span> errors:<span class="number">0</span> dropped:<span class="number">0</span> overruns:<span class="number">0</span> carrier:<span class="number">0</span></span><br><span class="line"><span class="label">          collisions:</span><span class="number">0</span> txqueuelen:<span class="number">1000</span> </span><br><span class="line">          RX <span class="keyword">bytes:10781447 </span>(<span class="number">10</span>.<span class="number">2</span> MiB)  TX <span class="keyword">bytes:526988 </span>(<span class="number">514</span>.<span class="number">6</span> KiB)</span><br><span class="line"></span><br><span class="line"><span class="label">lo</span>        Link encap:Local Loopback  </span><br><span class="line">          inet <span class="keyword">addr:127.0.0.1 </span> Mask:<span class="number">255</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span></span><br><span class="line">          inet6 <span class="keyword">addr: </span>::<span class="number">1</span>/<span class="number">128</span> Scope:Host</span><br><span class="line">          UP LOOPBACK RUNNING  MTU:<span class="number">16436</span>  Metric:<span class="number">1</span></span><br><span class="line">          RX packets:<span class="number">550</span> errors:<span class="number">0</span> dropped:<span class="number">0</span> overruns:<span class="number">0</span> frame:<span class="number">0</span></span><br><span class="line">          TX packets:<span class="number">550</span> errors:<span class="number">0</span> dropped:<span class="number">0</span> overruns:<span class="number">0</span> carrier:<span class="number">0</span></span><br><span class="line"><span class="label">          collisions:</span><span class="number">0</span> txqueuelen:<span class="number">0</span> </span><br><span class="line">          RX <span class="keyword">bytes:64483 </span>(<span class="number">62</span>.<span class="number">9</span> KiB)  TX <span class="keyword">bytes:64483 </span>(<span class="number">62</span>.<span class="number">9</span> KiB)</span><br></pre></td></tr></table></figure>
<p> &#x81F3;&#x6B64;&#x4F7F;&#x7528;&#x6210;&#x529F;&#xFF01;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>应同事的要求：他想实现远程登入家里的局域网服务器。</p>
<p>情况是这样的。家里有台服务器（笔记本即可）。一台外网服务器。</p>
<p>想通过在公司远程登入家里的那台局域网服务器。</p>
<p>开始我的想法是：搭建openvpn 。但是毕竟不是什么人都能搭建成功，而且还有很多缺点。 操作复杂</p>
<p>一个周末的下午我突然想起可以通过隧道反向代理出去。也是一个非常不错的方法。–&gt;(这个想法来自我现在的上google 的方式）</p>]]>
    
    </summary>
    
      <category term="linux" scheme="http://wwww.feel88.cn/tags/linux/"/>
    
      <category term="linux" scheme="http://wwww.feel88.cn/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[修改 linux 时区]]></title>
    <link href="http://wwww.feel88.cn/2015/12/13/%E4%BF%AE%E6%94%B9linux%E6%97%B6%E5%8C%BA/"/>
    <id>http://wwww.feel88.cn/2015/12/13/修改linux时区/</id>
    <published>2015-12-12T18:57:09.000Z</published>
    <updated>2015-12-26T12:36:07.000Z</updated>
    <content type="html"><![CDATA[<p>linux &#x7684;&#x65F6;&#x533A;&#x4E3A; UTC &#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E3A; CST &#x65F6;&#x533A;</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install  -y ntpdate ntp</span><br><span class="line">service ntpd <span class="built_in">stop</span></span><br><span class="line">service ntpdate <span class="built_in">start</span></span><br><span class="line">chkconfig ntpdate <span class="command"><span class="keyword">on</span></span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>&#x4FEE;&#x6539;&#x65F6;&#x533A;<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>sysconfig/clock</span><br><span class="line"></span><br><span class="line">ZONE=<span class="string">&quot;Asia/Shanghai&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mv <span class="regexp">/etc/</span>localtime <span class="regexp">/etc/</span>localtime.bak</span><br><span class="line">ln -s <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>Asia<span class="regexp">/Shanghai  /</span>etc/localtime</span><br></pre></td></tr></table></figure></p>
<p>&#x5C06;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x548C;&#x65E5;&#x671F;&#x5199;&#x5165; BIOS&#xFF0C;&#x907F;&#x514D;&#x91CD;&#x542F;&#x540E;&#x5931;&#x6548; </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hwclock</span><br></pre></td></tr></table></figure>
<p>&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x53D1;&#x73B0;&#x4E0A;&#x9762;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x80FD;&#x5168;&#x90E8;&#x5E94;&#x7528;&#x751F;&#x6548;&#x3002; &#x6700;&#x597D;&#x8FD8;&#x662F;&#x91CD;&#x542F; reboot  &#x89E3;&#x51B3;&#x3002;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install  -y ntpdate ntp</span><br><span class="line"></span><br><span class="line">ntpdate asia<span class="class">.pool</span><span class="class">.ntp</span><span class="class">.org</span></span><br></pre></td></tr></table></figure>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x7CFB;&#x7EDF;&#x65F6;&#x533A;&#x914D;&#x7F6E; </span><br><span class="line">GMT</span><br><span class="line">cp <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>GMT  <span class="regexp">/etc/</span>localtime</span><br><span class="line"> &#x518D;&#x628A;  <span class="regexp">/etc/</span>sysconfig/clock  &#x4FEE;&#x6539;&#x6210;&#x5982;&#x4E0B;&#x5185;&#x5BB9; </span><br><span class="line">ZONE=<span class="string">&quot;GMT&quot;</span></span><br><span class="line">UTC=<span class="literal">false</span></span><br><span class="line">ARC=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#x7F8E;&#x4E1C;&#x65F6;&#x95F4; </span><br><span class="line">cp <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>Brazil<span class="regexp">/West  /</span>etc/localtime</span><br><span class="line"> &#x518D;&#x628A;  <span class="regexp">/etc/</span>sysconfig/clock  &#x4FEE;&#x6539;&#x6210;&#x5982;&#x4E0B;&#x5185;&#x5BB9; </span><br><span class="line">ZONE=<span class="string">&quot;America/New_York&quot;</span></span><br><span class="line">UTC=<span class="literal">false</span></span><br><span class="line">ARC=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"> &#x7F8E;&#x4E1C;&#x65F6;&#x95F4; </span><br><span class="line">cp <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>America<span class="regexp">/New_York /</span>etc/localtime </span><br><span class="line"> &#x518D;&#x628A;  <span class="regexp">/etc/</span>sysconfig/clock  &#x4FEE;&#x6539;&#x6210;&#x5982;&#x4E0B;&#x5185;&#x5BB9; </span><br><span class="line">ZONE=<span class="string">&quot;America/New_York&quot;</span></span><br><span class="line">UTC=<span class="literal">false</span></span><br><span class="line">ARC=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#x4E2D;&#x56FD;&#x65F6;&#x533A; </span><br><span class="line"><span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>Asia<span class="regexp">/Hong_Kong   /</span>etc/localtime</span><br><span class="line"> &#x518D;&#x628A;  <span class="regexp">/etc/</span>sysconfig/clock  &#x4FEE;&#x6539;&#x6210;&#x5982;&#x4E0B;&#x5185;&#x5BB9; </span><br><span class="line">ZONE=<span class="string">&quot;Asia/Hong_Kong&quot;</span></span><br><span class="line">UTC=<span class="literal">false</span></span><br><span class="line">ARC=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> &#x65F6;&#x95F4;&#x540C;&#x6B65;&#x547D;&#x4EE4; (&#x5F53;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x5B89;&#x88C5; ntp &#x5373;&#x53EF;)</span><br><span class="line"><span class="regexp">/usr/</span>sbin/ntpdate -u <span class="number">192.43</span><span class="number">.244</span><span class="number">.18</span> </span><br><span class="line"><span class="regexp">/usr/</span>sbin/ntpdate time.asia.apple.com</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#x6DFB;&#x52A0;&#x540C;&#x6B65;&#x65F6;&#x949F;&#x811A;&#x672C; </span><br><span class="line">crontab -e</span><br><span class="line"> &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x884C;&#x5373;&#x53EF;</span><br><span class="line">*<span class="regexp">/5 * * * * /</span>usr<span class="regexp">/sbin/</span>ntpdate -u <span class="number">192.43</span><span class="number">.244</span><span class="number">.18</span> &gt;<span class="regexp">/dev/</span><span class="literal">null</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>linux 的时区为UTC ，我们需要修改为CST时区</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install  -y ntpdate ntp</span><br><span class="line">service ntpd <span class="built_in">stop</span></span><br><span class="line">service ntpdate <span class="built_in">start</span></span><br><span class="line">chkconfig ntpdate <span class="command"><span class="keyword">on</span></span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="linux" scheme="http://wwww.feel88.cn/tags/linux/"/>
    
      <category term="linux" scheme="http://wwww.feel88.cn/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[动态生成密码]]></title>
    <link href="http://wwww.feel88.cn/2015/12/06/%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E5%AF%86%E7%A0%81/"/>
    <id>http://wwww.feel88.cn/2015/12/06/动态生成密码/</id>
    <published>2015-12-05T17:39:51.000Z</published>
    <updated>2015-12-05T17:45:07.000Z</updated>
    <content type="html"><![CDATA[<p> &#x6709;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x5019;&#x7ECF;&#x5E38;&#x66F4;&#x6362;&#x5BC6;&#x7801;&#xFF0C;&#x4E0B;&#x9762;&#x6709;&#x51E0;&#x79CD;&#x52A8;&#x6001;&#x751F;&#x6210;&#x5BC6;&#x7801;&#x7684;&#x65B9;&#x5F0F; </p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash </span></span><br><span class="line"><span class="keyword">if</span> [<span class="variable">$#</span> <span class="operator">-lt</span> <span class="number">1</span> ];</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;bash  8 (&#x5BC6;&#x7801;&#x957F;&#x5EA6;)&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">cat /dev/urandom | head -<span class="number">1</span> | md5 |base64 | head -c <span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">date |md5 |base64  |head -c <span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">date +%s |shasum |base64 |head  -c <span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">openssl rand -base64 <span class="number">256</span> |head -c  <span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p> &#x5982;&#x6211;&#x4EEC;&#x8981;&#x751F;&#x6210; 8 &#x4F4D;&#x7684;&#x5BC6;&#x7801;&#xFF1A;<br> &#x6267;&#x884C; <br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./genpasswd<span class="class">.sh</span> <span class="number">8</span></span><br></pre></td></tr></table></figure></p>
<p> &#x8F93;&#x51FA; </p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">ZmI3N2E3</span></span><br><span class="line">ZjA1YjNi</span><br><span class="line">OTY5ZWE4</span><br><span class="line">GcBj1ikc</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>有时候，我们在管理服务器的时候经常更换密码，下面有几种动态生成密码的方式</p>]]>
    
    </summary>
    
      <category term="linux" scheme="http://wwww.feel88.cn/tags/linux/"/>
    
      <category term="linux" scheme="http://wwww.feel88.cn/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx 信号量]]></title>
    <link href="http://wwww.feel88.cn/2015/09/04/nginx%E4%BF%A1%E5%8F%B7%E9%87%8F/"/>
    <id>http://wwww.feel88.cn/2015/09/04/nginx信号量/</id>
    <published>2015-09-04T08:46:48.000Z</published>
    <updated>2015-09-30T10:09:09.000Z</updated>
    <content type="html"><![CDATA[<p> &#x5728;&#x6211;&#x4EEC;&#x4F7F;&#x7528; nginx , &#x6211;&#x4EEC;&#x591A;&#x591A;&#x5C11;&#x5C11;&#x90FD;&#x9700;&#x8981;&#x4F7F;&#x7528; nginx &#x7684;&#x4FE1;&#x53F7;&#x6765;&#x63A7;&#x5236; nginx</p>
<a id="more"></a>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">|<span class="string"> ERM, INT   </span>|<span class="string">  Quick shutdown    &#x7ACB;&#x5373;&#x7ED3;&#x675F;&#x8FDB;&#x7A0B;                                                                       </span><br><span class="line">      </span><br><span class="line"></span>|<span class="string">  QUIT      </span>|<span class="string"> Graceful shutdown  &#x4F18;&#x96C5;&#x7684;&#x5173;&#x95ED;&#x8FDB;&#x7A0B;, &#x5373;&#x7B49;&#x8BF7;&#x6C42;&#x7ED3;&#x675F;&#x540E;&#x518D;&#x5173;&#x95ED;  </span><br><span class="line"> </span><br><span class="line"></span>|<span class="string">  HUP       </span>|<span class="string">  Configuration reload ,Start the new  worker processes with  </span><br><span class="line">             </span>|<span class="string"> a  new configuration Gracefully shutdown the old worker processes </span><br><span class="line">             </span>|<span class="string"> &#x6539;&#x53D8;&#x914D;&#x7F6E;&#x6587;&#x4EF6;, &#x5E73;&#x6ED1;&#x7684;&#x91CD;&#x8BFB;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#xFF08;&#x5F53;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x5E73;&#x6ED1;&#x5347;&#x7EA7;&#xFF0C;&#x91CD;&#x542F;&#xFF0C;&#x4E2D;&#x95F4;&#x8FC7;&#x7A0B;&#x4E0D;&#x662F;&#x7ACB;&#x5373;&#x751F;&#x6548; </span><br><span class="line"></span><br><span class="line"></span>|<span class="string">  USR1      </span>|<span class="string">  Reopen the log files &#x91CD;&#x8BFB;&#x65E5;&#x5FD7;, &#x5728;&#x65E5;&#x5FD7;&#x6309;&#x6708; / &#x65E5;&#x5206;&#x5272;&#x65F6;&#x6709;&#x7528; &#xFF08;&#x5728;&#x4F7F;&#x7528;&#x65E5;&#x5FD7;&#x5206;&#x9694;&#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x7B80;&#x5355;&#x7684;&#x6539;&#x540D;&#x505A;&#x5907;&#x4EFD;  </span><br><span class="line">      </span><br><span class="line"></span>|<span class="string">  USR2       </span>|<span class="string">  Upgrade Executable on the fly &#x5E73;&#x6ED1;&#x7684;&#x5347;&#x7EA7;             </span><br><span class="line"> </span><br><span class="line"></span>|<span class="string">  WINCH     </span>|<span class="string">  Gracefully shutdown the worker processes  &#x4F18;&#x96C5;&#x5173;&#x95ED;&#x65E7;&#x7684;&#x8FDB;&#x7A0B; (&#x914D;&#x5408; USR2 &#x6765;&#x8FDB;&#x884C;&#x5347;&#x7EA7;)</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x5177;&#x4F53;&#x8BED;&#x6CD5;"> &#x5177;&#x4F53;&#x8BED;&#x6CD5;:</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">Kill</span>  - &#x4FE1;&#x53F7;&#x9009;&#x9879; nginx &#x7684;&#x4E3B;&#x8FDB;&#x7A0B;&#x53F7; </span><br><span class="line"><span class="keyword">Kill</span>  -HUP <span class="number">4873</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">Kill</span>  - &#x4FE1;&#x53F7;&#x63A7;&#x5236; <span class="string">`cat /xxx/path/log/nginx.pid`</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">Kill</span>   -USR1 <span class="string">`cat /xxx/path/log/nginx.pid`</span></span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>在我们使用nginx ,我们多多少少都需要使用nginx 的信号来控制nginx</p>]]>
    
    </summary>
    
      <category term="nginx信号量" scheme="http://wwww.feel88.cn/tags/nginx%E4%BF%A1%E5%8F%B7%E9%87%8F/"/>
    
      <category term="nginx" scheme="http://wwww.feel88.cn/categories/nginx/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx 403 forbidden]]></title>
    <link href="http://wwww.feel88.cn/2015/09/04/nginx-403-forbidden/"/>
    <id>http://wwww.feel88.cn/2015/09/04/nginx-403-forbidden/</id>
    <published>2015-09-03T19:38:05.000Z</published>
    <updated>2016-01-02T15:15:38.000Z</updated>
    <content type="html"><![CDATA[<p>nginx 403 forbidden &#x4E09;&#x79CD;&#x539F;&#x56E0; <br> &#x5F15;&#x8D77; nginx 403 forbidden &#x6709;&#x4E09;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x4E00;&#x662F;&#x7F3A;&#x5C11;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#xFF0C;&#x4E8C;&#x6743;&#x9650;&#x95EE;&#x9898;&#xFF0C;&#x4E09;&#x662F; selinux</p>
<a id="more"></a>
<h4 id="1&#x7F3A;&#x5C11;-indexhtml-&#x6216;&#x8005;-indexphp-&#x6587;&#x4EF6;">1&#xFF0C;&#x7F3A;&#x5C11; index.html &#x6216;&#x8005; index.php &#x6587;&#x4EF6;</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title">server</span> {  </span><br><span class="line"> <span class="title">listen</span>       <span class="number">80</span>;  </span><br><span class="line"> <span class="title">server_name</span>  localhost;  </span><br><span class="line"> <span class="title">index</span>  index.php index.html;  </span><br><span class="line"> <span class="title">root</span>  /home/feel/www;</span><br></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x5728; /home/zhang/www &#x4E0B;&#x9762;&#x6CA1;&#x6709; index.php,index.html &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x57DF;&#x540D;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x6587;&#x4EF6;&#xFF0C;&#x4F1A;&#x62A5; 403 forbidden&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x4F60;&#x8BBF;&#x95EE; www.test.com &#x800C;&#x8FD9;&#x4E2A;&#x57DF;&#x540D;&#xFF0C;&#x5BF9;&#x5E94;&#x7684; root &#x6307;&#x5B9A;&#x7684;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x3002;</p>
<h4 id="2&#x6743;&#x9650;&#x95EE;&#x9898;">2&#xFF0C;&#x6743;&#x9650;&#x95EE;&#x9898; </h4><p> &#x56E0;&#x4E3A;&#x6743;&#x9650;&#x95EE;&#x9898;&#x5F15;&#x8D77;&#x7684; 403&#xFF0C;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;&#x6BD4;&#x8F83;&#x96BE;&#x67E5;&#x627E;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x65F6;&#x60F3;&#x4E0D;&#x8D77;</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">server</span> {  </span><br><span class="line"> <span class="title">listen</span>       <span class="number">80</span>;  </span><br><span class="line"> <span class="title">server_name</span>  localhost;  </span><br><span class="line"> <span class="title">index</span>  index.php index.html;  </span><br><span class="line"> <span class="title">root</span>  /home/feel/www;</span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x628A; web &#x76EE;&#x5F55;&#x653E;&#x5728;&#x7528;&#x6237;&#x7684;&#x6240;&#x5C5E;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#xFF0C;nginx &#x7684;&#x542F;&#x52A8;&#x7528;&#x6237;&#x9ED8;&#x8BA4;&#x662F; nginx &#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x76EE;&#x5F55;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x8BFB;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x62A5; 403 &#x9519;&#x8BEF;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x628A; web &#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;&#x6539;&#x5927;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x628A; nginx &#x7684;&#x542F;&#x52A8;&#x7528;&#x6237;&#x6539;&#x6210;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x5C5E;&#x7528;&#x6237;&#xFF0C;&#x91CD;&#x8D77;&#x4E00;&#x4E0B;&#x5C31;&#x80FD;&#x89E3;&#x51B3;&#x3002;</p>
<h4 id="3-&#x6CA1;&#x6709;&#x5173;&#x95ED;-selinux">3. &#x6CA1;&#x6709;&#x5173;&#x95ED; selinux</h4><p>&#x8FD9;&#x4E2A;&#x56F0;&#x6270;&#x4E86;&#x6211;&#x597D;&#x4E45;&#xFF0C;&#x6700;&#x540E;&#x6211;&#x5C1D;&#x8BD5;&#x5173;&#x95ED; selinux. &#x91CD;&#x542F;&#x670D;&#x52A1;&#x5668;&#x3002;&#x6700;&#x540E;&#x89E3;&#x51B3;&#x4E86;&#xFF01;&#xFF01;&#xFF01;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed  -<span class="tag">i</span> <span class="string">&apos;s/SELINUX=enforcing/SELINUX=disabled/g&apos;</span> /etc/selinux/config</span><br><span class="line">sed  -<span class="tag">i</span> <span class="string">&apos;/SELINUX=disabled/s/^#*//&apos;</span>  /etc/selinux/config</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>nginx 403 forbidden 三种原因<br>引起nginx 403 forbidden有三种原因，一是缺少索引文件，二权限问题，三是 selinux</p>]]>
    
    </summary>
    
      <category term="nginx" scheme="http://wwww.feel88.cn/tags/nginx/"/>
    
      <category term="nginx常用错误" scheme="http://wwww.feel88.cn/categories/nginx%E5%B8%B8%E7%94%A8%E9%94%99%E8%AF%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[progress Bar]]></title>
    <link href="http://wwww.feel88.cn/2015/08/23/progress-Bar/"/>
    <id>http://wwww.feel88.cn/2015/08/23/progress-Bar/</id>
    <published>2015-08-23T13:56:15.000Z</published>
    <updated>2015-09-30T10:09:09.000Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x5173;&#x4E8E;&#x8FDB;&#x5EA6;&#x6761;-progress-bar">&#x5173;&#x4E8E;&#x8FDB;&#x5EA6;&#x6761; -progress Bar</h1><ol>
<li>&#x63D0;&#x5230;&#x8FDB;&#x5EA6;&#x6761;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x60F3;&#x5230; css3 &#x91CC;&#x9762;&#x7684;&#x65B0;&#x589E;&#x6807;&#x7B7E; progress&#xFF0C;&#x5B83;&#x7684;&#x7528;&#x6CD5;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x548C;&#x5355;&#x4E00;&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;value &#x548C; max&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x503C;&#x548C;&#x6700;&#x5927;&#x503C;&#x3002;&#x4ECA;&#x5929;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x6709;&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x4F46;&#x662F;&#x8D77;&#x521D;&#x7528;&#x4E86;&#x8FD9;&#x4E2A;&#xFF0C;&#x53D1;&#x73B0;&#x5F88;&#x96BE;&#x8C03;&#x6837;&#x5F0F;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x6837;&#x5F0F;&#x5C31;&#x6839;&#x672C;&#x4E0D;&#x600E;&#x4E48;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6682;&#x65F6;&#x4F5C;&#x7F62;&#xFF0C;&#x53E6;&#x5916;&#x5BFB;&#x6C42;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;</li>
</ol>
<a id="more"></a>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">progress</span> <span class="attribute">value</span>=<span class="value">&quot;60&quot;</span> <span class="attribute">max</span>=<span class="value">&quot;100&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">progress</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>&#x7136;&#x540E;&#x60F3;&#x5230;&#x4E86; bootstrap &#x7684;&#x8FDB;&#x5EA6;&#x6761;&#x7EC4;&#x4EF6;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x7528;&#xFF0C;&#x5F15;&#x5165;&#x4E86; bootstrap.css &#x548C; jquery &#x548C; bootstrap.js &#x7136;&#x540E;&#x628A;&#x5B98;&#x65B9;&#x7684;&#x6848;&#x4F8B;&#x653E;&#x8FDB;&#x53BB;, &#x53D1;&#x73B0;&#x5E76;&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x6548;&#x679C;&#x3002;&#x665A;&#x4E0A;&#x56DE;&#x5230;&#x5BB6;&#xFF0C;&#x53C8;&#x67E5;&#x4E86;&#x8D44;&#x6599;&#xFF0C;&#x53C8;&#x628A; bootstrap-theme.css &#x5F15;&#x5165;&#x8FDB;&#x53BB;&#x624D;&#x8D77;&#x6548;&#x679C;&#x3002;</li>
</ol>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">&quot;progress&quot;</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">&quot;progress-bar&quot;</span> role=<span class="string">&quot;progressbar&quot;</span> aria-valuenow=<span class="string">&quot;60&quot;</span> aria-valuemin=<span class="string">&quot;0&quot;</span> aria-valuemax=<span class="string">&quot;100&quot;</span> style= <span class="string">&quot;width: 60%;&gt;</span><br><span class="line">        60%</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x9762;&#x7684;&#x6848;&#x4F8B;&#x662F; bootstrap &#x5B98;&#x65B9;&#x6587;&#x6863;&#x91CC;&#x9762;&#x7684;&#x6848;&#x4F8B;&#xFF0C;&#x662F;&#x6700;&#x57FA;&#x672C;&#x7684;&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x540E;&#x9762;&#x8FD8;&#x6709;&#x5E26;&#x6761;&#x7EB9;&#x7684;&#x8FDB;&#x5EA6;&#x6761;&#x3002;&#x800C;&#x6211;&#x7684;&#x9700;&#x6C42;&#x5C31;&#x662F;&#x8981;&#x4FEE;&#x6539;&#x4E0A;&#x9762;&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x6837;&#x5F0F;&#x3002;&#x5BA1;&#x67E5;&#x5B8C;&#x6837;&#x5F0F;&#x4E4B;&#x540E;&#x6211;&#x8BD5;&#x7740;&#x628A;&#x8FD9;&#x4E24;&#x4E2A; div &#x90FD;&#x52A0;&#x4E86;&#x5706;&#x89D2;&#x5C5E;&#x6027;&#xFF0C;&#x800C;&#x4E14;&#x7ED9;&#x5916;&#x9762; div &#x5BBD;&#x7684;&#x767E;&#x5206;&#x6BD4;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x5BBD;&#x5EA6;&#x3002;</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">&quot;progress&quot;</span> style=<span class="string">&quot;border-radius: 10px; width:80%;&quot;</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">&quot;progress-bar&quot;</span> role=<span class="string">&quot;progressbar&quot;</span> aria-valuenow=<span class="string">&quot;60&quot;</span> aria-valuemin=<span class="string">&quot;0&quot;</span> aria-valuemax=<span class="string">&quot;100&quot;</span> style= <span class="string">&quot;width: 60%; border-radius: 10px;&quot;</span>&gt;</span><br><span class="line">        <span class="number">60</span>%</span><br><span class="line">      &lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x63D2;&#x4EF6;&#xFF1A;bootstrap-progressbar<br>&#x8FD9;&#x662F;&#x5728; jquery &#x4E4B;&#x5BB6;&#x627E;&#x5230;&#x7684;&#x63D2;&#x4EF6; <a href="http://www.htmleaf.com" target="_blank" rel="external">jquery &#x4E4B;&#x5BB6; </a> &#x529F;&#x80FD;&#x5F88;&#x5F3A;&#x5927;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7F51;&#x7AD9;&#x4E0B;&#x8F7D;&#x548C;&#x4F7F;&#x7528;<br> &#x5177;&#x4F53;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x53C2;&#x7167; <a href="http://www.html5cn.org/forum.php?mod=viewthread&amp;tid=87382" target="_blank" rel="external">&#x57FA;&#x4E8E; bootstrap &#x529F;&#x80FD;&#x9F50;&#x5168;&#x7684; jQuery &#x8FDB;&#x5EA6;&#x6761;&#x63D2;&#x4EF6;</a> &#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x3002;</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="关于进度条-progress_Bar">关于进度条-progress Bar</h1><ol>
<li>提到进度条，首先会想到css3里面的新增标签progress，它的用法比较简单和单一，有两个属性：value和max，也就是当前值和最大值。今天在项目中有进度条的需求，但是起初用了这个，发现很难调样式，或者说样式就根本不怎么起作用，所以就暂时作罢，另外寻求解决方法。</li>
</ol>]]>
    
    </summary>
    
      <category term="css3" scheme="http://wwww.feel88.cn/tags/css3/"/>
    
      <category term="css3" scheme="http://wwww.feel88.cn/categories/css3/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[css3 伪元素]]></title>
    <link href="http://wwww.feel88.cn/2015/08/18/css3%E4%BC%AA%E5%85%83%E7%B4%A0/"/>
    <id>http://wwww.feel88.cn/2015/08/18/css3伪元素/</id>
    <published>2015-08-17T17:12:18.000Z</published>
    <updated>2015-09-30T10:09:09.000Z</updated>
    <content type="html"><![CDATA[<h1 id="css3-&#x4F2A;&#x7C7B;&#x5143;&#x7D20;">css3- &#x4F2A;&#x7C7B;&#x5143;&#x7D20; </h1><h3 id="1-&#x4F2A;&#x7C7B;&#x5143;&#x7D20;&#x7684;&#x5B9A;&#x4E49;">1. &#x4F2A;&#x7C7B;&#x5143;&#x7D20;&#x7684;&#x5B9A;&#x4E49;</h3><p> &#x6240;&#x8C13;&#x2018;&#x4F2A;&#x5143;&#x7D20;&#x2019;&#xFF0C;&#x5C31;&#x662F;&#x672C;&#x8EAB;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x9875;&#x9762;&#x5143;&#x7D20;&#xFF0C;HTML &#x4EE3;&#x7801;&#x91CC;&#x5E76;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x4F46;&#x5728;&#x9875;&#x9762;&#x663E;&#x793A;&#x65F6;&#xFF0C;&#x4F60;&#x5374;&#x80FD;&#x770B;&#x5230;&#x8FD9;&#x4E9B;&#x672C;&#x6765;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5143;&#x7D20;&#x53D1;&#x6325;&#x7740;&#x4F5C;&#x7528;&#x3002;<br><a id="more"></a><br>&#x4F2A;&#x5143;&#x7D20;&#x9ED8;&#x8BA4;&#x7684;&#x662F;&#x884C;&#x5185;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7ED9;&#x5BBD;&#x9AD8;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x8F6C;&#x6362;&#x4E3A;&#x5757;&#x7EA7;&#x5143;&#x7D20;</p>
<h3 id="2-&#x4F2A;&#x7C7B;&#x5143;&#x7D20;&#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5;">2. &#x4F2A;&#x7C7B;&#x5143;&#x7D20;&#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5; </h3><p> &#x5E73;&#x5E38;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x5C06;&#x8FD9;&#x4E24;&#x4E2A;&#x4F2A;&#x5143;&#x7D20;&#x7528;&#x4E8E;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x7B26;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x4F7F;&#x7528;&#x4F2A;&#x7C7B;&#x4F7F;&#x7528;&#x7684;&#x5355;&#x5192;&#x53F7;&#x5199;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF1A;<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">div</span><span class="pseudo">:before</span>{</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x4E0D;&#x8FC7;&#xFF0C;&#x5728; CSS3 &#x4E2D;&#x4E3A;&#x4E86;&#x533A;&#x522B;&#x4F2A;&#x5143;&#x7D20;&#x548C;&#x4F2A;&#x7C7B;&#x4E3A;&#x4F2A;&#x5143;&#x7D20;&#x4F7F;&#x7528;&#x4E86;&#x53CC;&#x5192;&#x53F7;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86; display &#x6216;&#x8005; width &#x7B49;&#x5C5E;&#x6027;&#x65F6;&#x4F7F;&#x5F97;&#x663E;&#x793A;&#x8131;&#x79BB;&#x4E86;&#x539F;&#x672C;&#x5143;&#x7D20;&#x540E;&#xFF0C;&#x5EFA;&#x8BAE;&#x6309;&#x7167;&#x6807;&#x51C6;&#x53CC;&#x5199;&#x3002;<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">div</span><span class="pseudo">::after</span>{</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<ul>
<li>[String] &#x2013; &#x4F7F;&#x7528;&#x5F15;&#x53F7;&#x5305;&#x62EC;&#x4E00;&#x6BB5;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5C06;&#x4F1A;&#x5411;&#x5143;&#x7D20;&#x5185;&#x5BB9;&#x4E2D;&#x6DFB;&#x52A0;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x793A;&#x4F8B;&#xFF1A;</li>
</ul>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">a</span><span class="pseudo">:after</span> { </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&#x2197;&quot;</span>; </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li>attr() &#x2013; &#x8C03;&#x7528;&#x5F53;&#x524D;&#x5143;&#x7D20;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x7684;&#x6BD4;&#x5982;&#x5C06;&#x56FE;&#x7247;&#x7684; Alt &#x63D0;&#x793A;&#x6587;&#x5B57;&#x6216;&#x8005;&#x94FE;&#x63A5;&#x7684; Href &#x5730;&#x5740;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;&#x793A;&#x4F8B;&#xFF1A;</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">a</span>:<span class="value">after {</span><br><span class="line">    content:<span class="string">&quot;(&quot;</span> <span class="function">attr</span>(href) <span class="string">&quot;)&quot;</span></span></span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li>url() / uri() &#x2013; &#x7528;&#x4E8E;&#x5F15;&#x7528;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x3002;&#x793A;&#x4F8B;&#xFF1A;</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">h1</span><span class="pseudo">::before</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="function">url</span>(logo.png)</span></span>; </span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<ul>
<li>counter() &#x2013;  &#x8C03;&#x7528;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x4F7F;&#x7528;&#x5217;&#x8868;&#x5143;&#x7D20;&#x5B9E;&#x73B0;&#x5E8F;&#x53F7;&#x529F;&#x80FD;&#x3002;&#x5177;&#x4F53;&#x8BF7;&#x53C2;&#x89C1; counter-increment &#x548C;<br>counter-reset &#x5C5E;&#x6027;&#x7684;&#x7528;&#x6CD5;&#x3002;&#x793A;&#x4F8B;&#xFF1A;</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">h2</span><span class="pseudo">:before</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">counter-increment</span>:<span class="value"> chapter</span></span>; <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">&quot;Chapter&quot;</span> <span class="function">counter</span>(chapter) <span class="string">&quot;.&quot;</span> </span><br><span class="line">}</span></span></span></span><br></pre></td></tr></table></figure>
<h3 id="3-&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x4F2A;&#x5143;&#x7D20;&#x7684;&#x652F;&#x6301;">3, &#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x4F2A;&#x5143;&#x7D20;&#x7684;&#x652F;&#x6301; </h3><p> &#x7136;&#x800C;&#xFF0C;&#x4E0D;&#x8BBA;&#x4F60;&#x4F7F;&#x7528;&#x5355;&#x5192;&#x53F7;&#x8FD8;&#x662F;&#x53CC;&#x5192;&#x53F7;&#x8BED;&#x6CD5;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x80FD;&#x8BC6;&#x522B;&#x3002;&#x56E0;&#x4E3A; IE8 &#x53EA;&#x652F;&#x6301;&#x5355;&#x5192;&#x53F7;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x517C;&#x5BB9; IE8&#xFF0C;&#x4FDD;&#x9669;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x5355;&#x5192;&#x53F7;&#x3002;</p>
<h3 id="4-before-&#x548C;after-&#x4F2A;&#x5143;&#x7D20;&#x7684;-css-&#x6837;&#x5F0F;">4  :before &#x548C;:after &#x4F2A;&#x5143;&#x7D20;&#x7684; CSS &#x6837;&#x5F0F;</h3><p>:before &#x548C;:after &#x867D;&#x7136;&#x662F;&#x4F2A;&#x5143;&#x7D20;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x6240;&#x6709;&#x7528;&#x6CD5;&#x548C;&#x884C;&#x4E3A;&#x8868;&#x73B0;&#x548C;&#x771F;&#x6B63;&#x7684;&#x5143;&#x7D20;&#x51E0;&#x4E4E;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#xFF1B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x5B83;&#x4EEC;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x7684; CSS &#x6837;&#x5F0F;&#x8BBE;&#x7F6E;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x6539;&#x53D8;&#x5B83;&#x4EEC;&#x7684;&#x524D;&#x666F;&#x989C;&#x8272;&#xFF0C;&#x589E;&#x52A0;&#x80CC;&#x666F;&#x8272; / &#x56FE;&#xFF0C;&#x8C03;&#x6574;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#xFF0C;&#x8C03;&#x6574;&#x5BF9;&#x9F50;&#x65B9;&#x5F0F;&#x7B49;&#x7B49;&#x3002;<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">blockquote</span>:<span class="value">before {</span><br><span class="line">    content: open-quote</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">24pt</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">42px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#ddd</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">30px</span></span></span>;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="rule"><span class="attribute">blockquote</span>:<span class="value">after {</span><br><span class="line">    content: close-quote</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">24pt</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">42px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#ddd</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">float</span>:<span class="value"> right</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">bottom</span>:<span class="value"> <span class="number">40px</span></span></span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<h3 id="5-before-&#x548C;after-&#x4F2A;&#x5143;&#x7D20;&#x7684;&#x8BE6;&#x7EC6;&#x4F7F;&#x7528;&#x8BF4;&#x660E;">5 :before &#x548C;:after &#x4F2A;&#x5143;&#x7D20;&#x7684;&#x8BE6;&#x7EC6;&#x4F7F;&#x7528;&#x8BF4;&#x660E;</h3><ol>
<li>&#x4F7F;&#x7528;&#x4F2A;&#x5143;&#x7D20;&#x6765;&#x63D2;&#x5165;&#x5185;&#x5BB9;&#xFF1A;&#x4F8B;&#xFF0C;</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span> <span class="attribute">lang</span>=<span class="value">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>before &#x63D2;&#x5165;&#x6587;&#x5B57; <span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">&quot;text/css&quot;</span>&gt;</span><span class="css"></span><br><span class="line">      <span class="tag">h2</span><span class="pseudo">:before</span><span class="rules">{</span><br><span class="line">          <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">&quot;feel&#xFF1A;&quot;</span></span></span>;</span><br><span class="line">          <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;</span><br><span class="line">          <span class="rule"><span class="attribute">background</span>:<span class="value"> black</span></span>;</span><br><span class="line">      }</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6211;&#x7231;&#x4F60;<span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2. &#x6307;&#x5B9A;&#x4E2A;&#x522B;&#x5143;&#x7D20;&#x4E0D;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#xFF1A;&#x4F8B;&#xFF0C;</p>
 <figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> h2.sample:before{</span><br><span class="line">    content&#xFF1A;none&#xFF1B;</span><br><span class="line">} </span><br><span class="line">-<span class="ruby">- &#x8868;&#x793A; h2 &#x4E2D; <span class="class"><span class="keyword">class</span> &#x4E3A;<span class="title">sample</span>&#x7684;&#x4E0D;&#x63D2;&#x5165;&#x5185;&#x5BB9; --</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span> <span class="attribute">lang</span>=<span class="value">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>none<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">&quot;text/css&quot;</span>&gt;</span><span class="css"></span><br><span class="line">      <span class="tag">h2</span><span class="pseudo">:after</span><span class="rules">{</span><br><span class="line">          <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">&quot;&#x4F60;&#x597D;&#x554A;&quot;</span></span></span>;</span><br><span class="line">      }</span></span><br><span class="line">      <span class="tag">h2</span><span class="rule"><span class="attribute">.un</span>:<span class="value">after{</span><br><span class="line">          content: none</span></span>;</span><br><span class="line">      }</span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span>&#x6211;&#x4EEC;&#x662F;&#x597D;&#x670B;&#x53CB;&#x554A; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6211;&#x4EEC;&#x662F;&#x597D;&#x670B;&#x53CB;&#x554A; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span> <span class="attribute">class</span>=<span class="value">&quot;un&quot;</span>&gt;</span> &#x6211;&#x4EEC;&#x662F;&#x597D;&#x670B;&#x53CB;&#x554A; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6211;&#x4EEC;&#x662F;&#x597D;&#x670B;&#x53CB;&#x554A; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6211;&#x4EEC;&#x662F;&#x597D;&#x670B;&#x53CB;&#x554A;<span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3. &#x4F7F;&#x7528;&#x9009;&#x62E9;&#x5668;&#x63D2;&#x5165;&#x56FE;&#x50CF;&#xFF1A;&#x4F8B;&#xFF0C;<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">h2</span>&#xFF1A;<span class="keyword">before{</span><br><span class="line"></span>     content&#xFF1A;url&#xFF08;<span class="keyword">mark.png&#xFF09;&#xFF1B;</span><br><span class="line"></span>}</span><br></pre></td></tr></table></figure></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span> <span class="attribute">lang</span>=<span class="value">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>&#x63D2;&#x5165;&#x56FE;&#x7247; <span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">&quot;text/css&quot;</span>&gt;</span><span class="css"></span><br><span class="line">       <span class="tag">h2</span><span class="pseudo">:before</span><span class="rules">{</span><br><span class="line">           <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="function">url</span>(<span class="number">1</span>.png)</span></span>;</span><br><span class="line">       }</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x4F60;&#x5230;&#x5E95;&#x60F3;&#x8BF4;&#x4EC0;&#x4E48;&#xFF1F;<span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h3</span>&gt;</span>&#x4F60;&#x5230;&#x5E95;&#x60F3;&#x8BF4;&#x4EC0;&#x4E48;&#xFF1F;<span class="tag">&lt;/<span class="title">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h4</span>&gt;</span>&#x4F60;&#x5230;&#x5E95;&#x60F3;&#x8BF4;&#x4EC0;&#x4E48;&#xFF1F;<span class="tag">&lt;/<span class="title">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4. &#x4F7F;&#x7528;&#x9009;&#x62E9;&#x5668;&#x63D2;&#x5165;&#x80CC;&#x666F;&#x56FE;&#x50CF;&#xFF1A;&#x4F8B;&#xFF0C;</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">h2</span>&#xFF1A;before{</span><br><span class="line">        <span class="attribute">content</span>&#xFF1A;&quot;&quot;&#xFF1B;</span><br><span class="line">        <span class="attribute">background</span><span class="value">:<span class="function">url</span>(images/<span class="number">01</span>.jpg);</span></span><br><span class="line">   }</span><br></pre></td></tr></table></figure>
<p>5. &#x4F7F;&#x7528; content &#x5C5E;&#x6027;&#x6765;&#x63D2;&#x5165;&#x9879;&#x76EE;&#x7F16;&#x53F7;&#xFF1A;[&#x5728;&#x591A;&#x4E2A;&#x6807;&#x9898;&#x524D;&#x52A0;&#x4E0A;&#x8FDE;&#x7EED;&#x7684;&#x5E8F;&#x53F7;]<br>&#x5728;&#x591A;&#x4E2A;&#x6807;&#x9898;&#x524D;&#x52A0;&#x4E0A;&#x8FDE;&#x7EED;&#x7F16;&#x53F7;&#xFF1A;&#x5728; content &#x5C5E;&#x6027;&#x4E2D;&#x4F7F;&#x7528; counter &#x5C5E;&#x6027;&#x6765;&#x9488;&#x5BF9;&#x591A;&#x4E2A;&#x9879;&#x76EE;&#x8FFD;&#x52A0;&#x8FDE;&#x7EED;&#x7F16;&#x53F7;&#x53E6;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5728;&#x5143;&#x7D20;&#x7684;&#x6837;&#x5F0F;&#x4E2D;&#x8FFD;&#x52A0;&#x5BF9;&#x5143;&#x7D20;&#x7684; counter-increment &#x5C5E;&#x6027;&#x7684;&#x6307;&#x5B9A;&#xFF0C;&#x4E3A;&#x4E86;&#x4F7F;&#x7528;&#x8FDE;&#x7EED;&#x7F16;&#x53F7;&#xFF0C;&#x9700;&#x8981;&#x5C06; counter-increment &#x5C5E;&#x6027;&#x7684;&#x5C5E;&#x6027;&#x503C;&#x8BBE;&#x5B9A;&#x4E3A; before &#x9009;&#x62E9;&#x5668;&#x6216; after &#x9009;&#x62E9;&#x5668;&#x7684; counter &#x5C5E;&#x6027;&#x503C;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x540D;&#x3002;&#x4F8B;&#xFF0C;&#x3010;counter&#xFF1A;&#x540D;&#x8BCD; - &#x8BA1;&#x6570;&#x5668;&#x3011;[increment: &#x540D;&#x8BCD; - &#x589E;&#x52A0;]</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">h1&#xFF1A;before<span class="list">{</span><br><span class="line">    content&#xFF1A;counter&#xFF08;mycounter&#xFF09;&#xFF1B;         </span><br><span class="line">}</span></span><br><span class="line">h1<span class="list">{</span><br><span class="line">    counter-increment&#xFF1A;mycount;    </span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span> <span class="attribute">lang</span>=<span class="value">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>counter<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">&quot;text/css&quot;</span>&gt;</span><span class="css"></span><br><span class="line">      <span class="tag">h2</span><span class="pseudo">:before</span><span class="rules">{</span><br><span class="line">          <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="function">counter</span>(mynumber)</span></span>;</span><br><span class="line">      }</span></span><br><span class="line">      <span class="tag">h2</span><span class="rules">{</span><br><span class="line">          <span class="rule"><span class="attribute">counter-increment</span>:<span class="value"> mynumber</span></span>;</span><br><span class="line">      }</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span>&#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9; <span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9; <span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9; <span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9;<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> 6. &#x5728;&#x9879;&#x76EE;&#x7F16;&#x53F7;&#x4E2D;&#x8FFD;&#x52A0;&#x6587;&#x5B57;&#xFF1A;&#x4F8B;&#xFF0C;<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">h1&#xFF1A;<span class="keyword">before</span>{</span><br><span class="line">    content&#xFF1A;&#x2018;&#x7B2C;&#x2019;counter&#xFF08;mycounter&#xFF09;<span class="string">&apos;&#x7AE0;&apos;</span>&#xFF1B;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span> <span class="attribute">lang</span>=<span class="value">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>counter<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">&quot;text/css&quot;</span>&gt;</span><span class="css"></span><br><span class="line">      <span class="tag">h2</span><span class="pseudo">:before</span><span class="rules">{</span><br><span class="line">          <span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">&apos;&#x7B2C;&apos;</span> <span class="function">counter</span>(mynumber)<span class="string">&apos;&#x8BB2;&#xFF1A;&apos;</span></span></span>;</span><br><span class="line">      }</span></span><br><span class="line">      <span class="tag">h2</span><span class="rules">{</span><br><span class="line">          <span class="rule"><span class="attribute">counter-increment</span>:<span class="value"> mynumber</span></span>;</span><br><span class="line">      }</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span>&#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9; <span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9; <span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9; <span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span> &#x6807;&#x9898; <span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span> &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x662F;&#x5185;&#x5BB9;<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="css3-伪类元素">css3-伪类元素</h1><h3 id="1-_伪类元素的定义">1. 伪类元素的定义</h3><p>所谓‘伪元素’，就是本身不存在的页面元素，HTML代码里并没有这样的元素，但在页面显示时，你却能看到这些本来不存在的元素发挥着作用。<br>]]>
    
    </summary>
    
      <category term="css3" scheme="http://wwww.feel88.cn/tags/css3/"/>
    
      <category term="web" scheme="http://wwww.feel88.cn/tags/web/"/>
    
      <category term="样式" scheme="http://wwww.feel88.cn/tags/%E6%A0%B7%E5%BC%8F/"/>
    
      <category term="css3" scheme="http://wwww.feel88.cn/categories/css3/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[sqoop 时区转换]]></title>
    <link href="http://wwww.feel88.cn/2015/08/17/sqoop%E6%97%B6%E5%8C%BA%E8%BD%AC%E6%8D%A2/"/>
    <id>http://wwww.feel88.cn/2015/08/17/sqoop时区转换/</id>
    <published>2015-08-17T12:55:30.000Z</published>
    <updated>2015-09-30T10:09:09.000Z</updated>
    <content type="html"><![CDATA[<p> &#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x78B0;&#x89C1;&#x5404;&#x79CD;&#x65F6;&#x533A;&#x8F6C;&#x6362;&#x95EE;&#x9898;&#x3002;<br> &#x5728;&#x505A; ETL &#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x65F6;&#x95F4;&#x662F; 0 &#x65F6;&#x533A;&#x7684;&#x3002;&#x9700;&#x8981;&#x8F6C;&#x6362; 8 &#x65F6;&#x533A;&#x3002;</p>
<a id="more"></a>
<p>oracle &#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F; </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sqoop <span class="keyword">import</span> -D oracle.sessionTimeZone=America/Los_Angeles \</span><br><span class="line">    --connect <span class="string">jdbc:</span><span class="string">oracle:</span><span class="string">thin:</span>@<span class="comment">//db.example.com/foo --table bar</span></span><br></pre></td></tr></table></figure>
<p>mysql &#x6CA1;&#x6709;&#x50CF; oracle &#x8FD9;&#x4E48;&#x7B80;&#x5355;&#x3002;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x8F6C;&#x6362;&#x3002;&#x67E5;&#x627E;&#x76F8;&#x5173;&#x8D44;&#x6599; mysql &#x6709; 2 &#x79CD;&#x65B9;&#x5F0F;&#x89E3;&#x51B3;&#x3002;</p>
<p>1. &#x5C06; mysql time_zone &#x8BBE;&#x7F6E;&#x6210; +8&#xFF0C;&#x90A3;&#x4E48;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x5C06;&#x4F1A;&#x81EA;&#x52A8;&#x52A0; 8 &#x5C0F;&#x65F6;&#x3002;</p>
<p>2. &#x4F7F;&#x7528; CONVERT_TZ &#x51FD;&#x6570;&#x8F6C;&#x6362; </p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="header">mysql&gt; SELECT CONVERT_TZ(&apos;2004-01-01 12:00:00&apos;,&apos;GMT&apos;,&apos;MET&apos;);</span><br><span class="line">+---------------------------------------------------------+</span></span><br><span class="line"><span class="header">| CONVERT_TZ(&apos;2004-01-01 12:00:00&apos;,&apos;GMT&apos;,&apos;MET&apos;)           |</span><br><span class="line">+---------------------------------------------------------+</span></span><br><span class="line"><span class="header">| 2004-01-01 13:00:00                                     |</span><br><span class="line">+---------------------------------------------------------+</span></span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"><span class="header">mysql&gt; SELECT CONVERT_TZ(&apos;2004-01-01 12:00:00&apos;,&apos;+00:00&apos;,&apos;+10:00&apos;);</span><br><span class="line">+---------------------------------------------------------+</span></span><br><span class="line"><span class="header">| CONVERT_TZ(&apos;2004-01-01 12:00:00&apos;,&apos;+00:00&apos;,&apos;+10:00&apos;)     |</span><br><span class="line">+---------------------------------------------------------+</span></span><br><span class="line"><span class="header">| 2004-01-01 22:00:00                                     |</span><br><span class="line">+---------------------------------------------------------+</span></span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>sqoop &#x7684;&#x4F7F;&#x7528;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x4E00;&#x4E9B; </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqoop <span class="keyword">import</span> --connect <span class="string">jdbc:</span><span class="string">mysql:</span><span class="comment">//localhost:3306/xcloud -username root-password  root--query &quot;select id,password,CONVERT_TZ(last_login,&apos;+00:00&apos;,&apos;+8:00&apos;) as last_login,is_superuser,username,first_name ,last_name,email,is_staff,is_active ,CONVERT_TZ(date_joined,&apos;+00:00&apos;,&apos;+8:00&apos;) as date_joined from auth_user where id &gt;-100 and \$CONDITIONS&quot;  -m 1   --target-dir /test/auth_user/</span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>在实际应用中，我们经常碰见各种时区转换问题。<br>在做ETL过程中，由于我们的数据时间是0时区的。需要转换8时区。</p>]]>
    
    </summary>
    
      <category term="bigdata" scheme="http://wwww.feel88.cn/tags/bigtata/"/>
    
      <category term="sqoop" scheme="http://wwww.feel88.cn/tags/sqoop/"/>
    
      <category term="bigdata" scheme="http://wwww.feel88.cn/categories/bigtata/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[transform]]></title>
    <link href="http://wwww.feel88.cn/2015/08/17/transform/"/>
    <id>http://wwww.feel88.cn/2015/08/17/transform/</id>
    <published>2015-08-17T12:41:44.000Z</published>
    <updated>2016-01-02T15:16:03.000Z</updated>
    <content type="html"><![CDATA[<h1 id="transform&#x53D8;&#x5F62;">transform&#x2013;&#x53D8;&#x5F62; </h1><p> &#x6807;&#x7B7E;&#xFF1A; transform</p>
 <a id="more"></a>
<hr>
<h3 id="&#x53D8;&#x5F62;">&#x3010;&#x53D8;&#x5F62;&#x3011;</h3><p>transform &#x53D8;&#x5F62;&#x3002;&#x4E5F;&#x53EB;&#x505A;&#x201C;&#x8F6C;&#x6362;&#x201D;&#x3002;<br>&#x53D8;&#x5F62;&#x91D1;&#x521A; transformer</p>
<ul>
<li>2D &#x53D8;&#x5F62; <br> &#x4E00;&#x5171;&#x4E09;&#x79CD;&#xFF1A;<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">transform</span>:<span class="value"><span class="function">rotate</span>(<span class="number">40deg</span>)</span></span>;</span><br><span class="line"><span class="rule"><span class="attribute">transform</span>:<span class="value"><span class="function">scale</span>(<span class="number">3</span>)</span></span>;             </span><br><span class="line"><span class="rule"><span class="attribute">transform</span>:<span class="value"><span class="function">skew</span>(<span class="number">30deg</span>)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5173;&#x4E8E;&#x65CB;&#x8F6C;&#x53D8;&#x5F62;&#xFF1A;<br>:    &#x6B63;&#x65B9;&#x5411;&#x662F;&#x987A;&#x65F6;&#x9488;&#x7684;&#xFF1B;&#x4E2D;&#x5FC3;&#x70B9;&#x9ED8;&#x8BA4;&#x662F;&#x76D2;&#x5B50;&#x7684;&#x4E2D;&#x5FC3;&#x3002;&#x4E00;&#x5708;&#x662F; 360deg&#x3002;</p>
<p>&#x7F29;&#x653E;&#x53D8;&#x5F62;&#xFF1A;<br>:    &#x7F29;&#x653E;&#x4E5F;&#x6709;&#x4E2D;&#x5FC3;&#xFF0C;&#x5C31;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x76D2;&#x5B50;&#x4E2D;&#x5FC3;&#xFF1B;&#x80FD;&#x591F;&#x7F29;&#x5C0F;&#xFF0C;&#x5199;&#x5C0F;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;scale(0.6)<br>:    &#x80FD;&#x591F;&#x7528;&#x9017;&#x53F7;&#xFF0C;&#x9694;&#x5F00;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x8868;&#x793A; x &#x8F74;&#x548C; y &#x8F74;&#x7684;&#x5404;&#x81EA;&#x7F29;&#x653E;&#x500D;&#x6570;&#x3002;</p>
<p>&#x659C;&#x5207;&#x53D8;&#x5F62;&#xFF1A;<br>:    &#x80FD;&#x591F;&#x7528;&#x9017;&#x53F7;&#xFF0C;&#x9694;&#x5F00;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x8868;&#x793A; x &#x8F74;&#x548C; y &#x8F74;&#x7684;&#x5404;&#x81EA;&#x7F29;&#x653E;&#x500D;&#x6570;&#x3002;</p>
<p><strong>&#x5176;&#x4ED6;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A;</strong></p>
<ol>
<li>&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x643A;&#x5E26;&#x591A;&#x79CD;&#x53D8;&#x5F62;&#xFF0C;&#x5C31;&#x7528;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#x5373;&#x53EF;&#xFF1B;<br>    transform:rotate(40deg) scale(3);</li>
<li>&#x53D8;&#x5F62;&#x53EF;&#x4EE5;&#x8FC7;&#x6E21;&#x3002;&#x5C31;&#x662F; transform &#x5C5E;&#x6027;&#x53EF;&#x4EE5; transition</li>
</ol>
<hr>
<h3 id="3d-&#x53D8;&#x5F62;"><strong>3D &#x53D8;&#x5F62;</strong></h3><p>3D &#x53D8;&#x5F62;&#x5C31;&#x4E24;&#x4E2A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">transform</span>:<span class="value"><span class="function">rotateX</span>(<span class="number">30deg</span>)</span></span>;   <span class="comment">/* &#x7ED5; x &#x8F74;&#x65CB;&#x8F6C;&#xFF0C;&#x5355;&#x6760; */</span></span><br><span class="line"><span class="rule"><span class="attribute">transform</span>:<span class="value"><span class="function">rotateY</span>(<span class="number">30deg</span>)</span></span>;   <span class="comment">/* &#x7ED5; y &#x8F74;&#x65CB;&#x8F6C;&#xFF0C;&#x94A2;&#x7BA1;&#x821E; */</span></span><br></pre></td></tr></table></figure>
<p>3D &#x53D8;&#x5F62;&#x79BB;&#x4E0D;&#x5F00;&#x900F;&#x89C6;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#xFF1A;</p>
<pre><code><span class="tag">&lt;<span class="title">div</span>&gt;</span>           
    <span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">&quot;images/baby.png&quot;</span> /&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
</code></pre><p>3D &#x53D8;&#x5F62;&#xFF1A;   </p>
<p>&#x7ED9;&#x6F14;&#x5458;&#x8BBE;&#x7F6E;&#x53D8;&#x5F62; :transform:rotateX(30deg);<br>&#x7ED9;&#x821E;&#x53F0;&#x8BBE;&#x7F6E;&#x666F;&#x6DF1;: perspective:400px;</p>
<p>3D &#x53D8;&#x5F62;&#x4E5F;&#x53EF;&#x4EE5;&#x6709;&#x8FC7;&#x6E21;&#x3002;<br>3D &#x53D8;&#x5F62;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x53EB;&#x505A;&#x80CC;&#x9762;&#x4E0D;&#x53EF;&#x89C1;&#x3002;&#x5982;&#x679C;&#x56FE;&#x7247;&#x88AB;&#x65CB;&#x8F6C;&#x5230;&#x4E86;&#x80CC;&#x9762;&#xFF0C;&#x90A3;&#x4E48;&#x4E0D;&#x53EF;&#x89C1;&#x3002;</p>
<pre><code><span class="rule"><span class="attribute">-webkit-backface-visibility</span>:<span class="value">hidden</span></span>; 
</code></pre><h3 id="&#x7EF4;&#x5EA6;&#x79FB;&#x52A8;translate">&#x7EF4;&#x5EA6;&#x79FB;&#x52A8;&#xFF0C;translate</h3><p>:    &#x6BCF;&#x4E00;&#x4E2A;&#x76D2;&#x5B50;&#xFF0C;&#x90FD;&#x6709;&#x7740;&#x81EA;&#x5DF1;&#x7684;&#x5750;&#x6807;&#x8F74;&#x3002;&#x5F53;&#x81EA;&#x5DF1;&#x53D1;&#x751F; rotate &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;&#x8FD9;&#x4E2A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FFD;&#x52A0;&#x4E00;&#x4E2A; translate&#xFF0C;&#x8868;&#x793A;&#x6CBF;&#x7740;&#x81EA;&#x5DF1;&#x7684;&#x5750;&#x6807;&#x8F74;&#x8FDB;&#x884C;&#x79FB;&#x52A8;&#x3002;</p>
<p>:    &#x6BCF;&#x4E2A;&#x76D2;&#x5B50;&#x90FD;&#x6709;&#x4E09;&#x4E2A;&#x5750;&#x6807;&#x8F74;&#xFF0C;x &#x8F74;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x5DE6;&#x65B9;&#x5411;&#xFF0C;y &#x8F74;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x4E0B;&#x65B9;&#x5411;&#xFF0C;z &#x8F74;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x8138;&#x671D;&#x5411;&#x7684;&#x65B9;&#x5411;&#x3002;</p>
<p><strong>&#x8BED;&#x6CD5;&#xFF1A;</strong><br>&#x5148;&#x65CB;&#x8F6C; 140deg&#xFF0C;&#x7136;&#x540E;&#x6CBF;&#x7740;&#x81EA;&#x5DF1;&#x7684; y &#x7EF4;&#x5EA6;&#x8FDB;&#x884C;&#x79FB;&#x52A8; 200px&#x3002;<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">transform</span>:<span class="value"><span class="function">rotate</span>(<span class="number">140deg</span>) <span class="function">translateY</span>(<span class="number">200px</span>)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x821E;&#x53F0;&#xFF0C;&#x81EA;&#x5DF1;&#x8981;&#x65CB;&#x8F6C;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x4E00;&#x5B9A;&#x8981;&#x8BBE;&#x7F6E;&#x4FDD;&#x6301;&#x821E;&#x53F0;&#x81EA;&#x5DF1;&#x7684; 3D &#x6F14;&#x5458;&#x4F4D;&#x7F6E;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x8BBE;&#x7F6E;&#xFF1A;<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">transform-style</span>:<span class="value">preserve-<span class="number">3</span>d</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>&#x4E00;&#x5B9A;&#x662F;&#x7ED9;&#x821E;&#x53F0;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x662F;&#x5728;&#x821E;&#x53F0;&#x81EA;&#x8EAB;&#x53D1;&#x751F; 3D &#x65CB;&#x8F6C;&#x7684;&#x65F6;&#x5019;&#x7528;&#x7684; <br> &#x53D8;&#x5F62;&#x6837;&#x5F0F;&#xFF1A;preserve &#x8868;&#x793A;&#x201C;&#x4FDD;&#x7559;&#x201D;&#x3002;&#x4FDD;&#x6301;&#x6240;&#x6709;&#x6F14;&#x5458;&#x7684; 3D &#x4F4D;&#x7F6E;&#x3002;</p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="transform–变形">transform–变形</h1><p>标签： transform</p>]]>
    
    </summary>
    
      <category term="web" scheme="http://wwww.feel88.cn/tags/web/"/>
    
      <category term="web前端" scheme="http://wwww.feel88.cn/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="web" scheme="http://wwww.feel88.cn/categories/web/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Stylus 的使用]]></title>
    <link href="http://wwww.feel88.cn/2015/08/16/Stylus%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://wwww.feel88.cn/2015/08/16/Stylus的使用/</id>
    <published>2015-08-16T04:16:16.000Z</published>
    <updated>2015-09-30T10:09:09.000Z</updated>
    <content type="html"><![CDATA[<h3 id="&#x524D;&#x8A00;">&#x524D;&#x8A00; </h3><p> &#x672C;&#x6765;&#x5199;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#x5F00;&#x59CB;&#x6211;&#x662F;&#x62D2;&#x7EDD;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x535A;&#x5BA2;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x8BB0;&#x5F55;&#x81EA;&#x5DF1;&#x7684;&#x6210;&#x957F;&#x7ECF;&#x5386;&#x548C;&#x5B66;&#x4E60;&#x8FC7;&#x7A0B;&#x3002;&#x6211;&#x4E4B;&#x524D;&#x4E5F;&#x7528;&#x8FC7;&#x5F88;&#x591A;&#x535A;&#x5BA2;&#xFF0C;&#x7B14;&#x8BB0;&#x3002;&#x76EE;&#x524D;&#x5927;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x90FD;&#x5728;&#x6211;&#x7684;&#x4E3A;&#x77E5;&#x7B14;&#x8BB0;&#x4E2D;&#x3002;<br>&#x642D;&#x5EFA;&#x8FD9;&#x4E2A;&#x535A;&#x5BA2;&#x6837;&#x5F0F;&#x4F7F;&#x7528;&#x4E86; stylus&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B66;&#x4E60;&#x4E86;&#x4E00;&#x4E0B;&#x3002;</p>
<a id="more"></a>
<p>&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x4E09;&#x4E2A;&#x6700;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206; HTML, Javascript, CSS &#x4E2D;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x6587;&#x6863;&#x8FD8;&#x662F;&#x5DE5;&#x5177;&#xFF0C;&#x5BF9;&#x4E8E; CSS &#x7684;&#x652F;&#x6301;&#x662F;&#x6700;&#x5C11;&#x7684;&#x3002;&#x5728; HTML5+CSS3 &#x7684;&#x65F6;&#x4EE3;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x66F4;&#x52A0;&#x61C2; CSS&#xFF0C;&#x8981;&#x8BA9; CSS &#x4E5F;&#x6210;&#x4E3A;&#x5F00;&#x53D1;&#x7684;&#x5229;&#x5668;&#x3002;<br>&#x5BF9;&#x4E8E;&#x5F00;&#x53D1;&#x6765;&#x8BF4;&#xFF0C;CSS &#x7684;&#x5F31;&#x70B9;&#x5728;&#x4E8E;&#x9759;&#x6001;&#x5316;&#x3002;&#x6211;&#x4EEC;&#x4E0D;&#x5F97;&#x4E0D;&#x80CC; CSS &#x7684;&#x5404;&#x79CD;&#x89C4;&#x8303;&#xFF0C;&#x7136;&#x540E;&#x4E00;&#x5B57;&#x4E00;&#x53E5;&#x7684;&#x7F16;&#x5199;&#x6587;&#x4EF6;&#x3002;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x80FD;&#x63D0;&#x9AD8;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x7684;&#x5DE5;&#x5177;&#xFF0C;LESS, SASS &#x90FD;&#x5728;&#x8FD9;&#x65B9;&#x9762;&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x8D21;&#x732E;&#x3002;<br>Stylus &#x6BD4; LESS &#x66F4;&#x5F3A;&#x5927;&#xFF0C;&#x800C;&#x4E14;&#x57FA;&#x4E8E; nodejs &#x6BD4; SASS &#x66F4;&#x7B26;&#x5408;&#x6211;&#x4EEC;&#x7684;&#x601D;&#x8DEF;&#x3002;</p>
<h3 id="&#x5B89;&#x88C5;">&#x5B89;&#x88C5;</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm <span class="operator"><span class="keyword">install</span> -<span class="keyword">g</span> stylus</span></span><br></pre></td></tr></table></figure>
<h2 id="&#x57FA;&#x7840;&#x8BED;&#x6CD5;">&#x57FA;&#x7840;&#x8BED;&#x6CD5; </h2><p> &#x4E0D;&#x5F97;&#x4E0D;&#x8BF4; styus &#x771F;&#x7684;&#x5F88;&#x5F3A;&#x5927;&#xFF0C;&#x6BD4;&#x5982; sass,lass &#x6765;&#x8BF4;&#x3002;&#x6211;&#x66F4;&#x559C;&#x6B22; stylus</p>
<h3 id="&#x6CE8;&#x91CA;-comments"> &#x6CE8;&#x91CA; (Comments)</h3><p>Stylus &#x652F;&#x6301;&#x4E09;&#x79CD;&#x6CE8;&#x91CA;&#xFF0C;&#x5355;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x4EE5;&#x53CA;&#x591A;&#x884C;&#x7F13;&#x51B2;&#x6CE8;&#x91CA;&#x3002;<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6211;&#x662F;&#x6CE8;&#x91CA;!</span></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">5px</span> <span class="comment">// &#x86CB;&#x75BC;&#x7684; padding</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line"> * &#x7ED9;&#x5B9A;&#x6570;&#x503C;&#x5408;&#x4F53;</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">add</span><span class="params">(a, b)</span></span></span><br><span class="line">  <span class="tag">a</span> + <span class="tag">b</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#x591A;&#x884C;&#x7F13;&#x51B2;&#x6CE8;&#x91CA; </span><br><span class="line"> &#x8DDF;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;<span class="comment">/*!. &#x8FD9;&#x4E2A;&#x76F8;&#x5F53;&#x4E8E;&#x544A;&#x8BC9; Stylus &#x538B;&#x7F29;&#x7684;&#x65F6;&#x5019;&#x8FD9;&#x6BB5;&#x65E0;&#x89C6;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x3002;</span><br><span class="line"><span class="comment">/*!</span><br><span class="line"> * &#x7ED9;&#x5B9A;&#x6570;&#x503C;&#x5408;&#x4F53;</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line">add(a, b)</span><br><span class="line">  a + b</span></span><br></pre></td></tr></table></figure></p>
<h3 id="&#x6761;&#x4EF6;-conditionals"> &#x6761;&#x4EF6; (Conditionals)</h3><p>if / else if / else<br> &#x8FD9;&#x6CA1;&#x4EC0;&#x4E48;&#x597D;&#x8BF4;&#x7684;&#xFF0C;&#x8DDF;&#x4E00;&#x822C;&#x7684;&#x8BED;&#x8A00;&#x4E00;&#x81F4;&#xFF0C;if &#x8868;&#x8FBE;&#x5F0F;&#x6EE1;&#x8DB3; (true) &#x7684;&#x65F6;&#x5019;&#x6267;&#x884C;&#x540E;&#x9762;&#x8BED;&#x53E5;&#x5757;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x7EE7;&#x7EED;&#x540E;&#x9762;&#x7684; else if &#x6216; else.</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">overload-<span class="attribute">padding</span> = true</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> overload-<span class="attribute">padding</span></span><br><span class="line">  <span class="function"><span class="title">padding</span><span class="params">(y, x)</span></span></span><br><span class="line">    <span class="attribute">margin</span> y x</span><br><span class="line"></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">5px</span> <span class="number">10px</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">box</span><span class="params">(x, y, margin-only = false)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="attribute">margin</span>-only</span><br><span class="line">    <span class="attribute">margin</span> y x</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="attribute">padding</span> y x</span><br></pre></td></tr></table></figure>
<p>&#x9664;&#x975E; (unless)<br> &#x719F;&#x6089; Ruby &#x7A0B;&#x5E8F;&#x8BED;&#x8A00;&#x7684;&#x7528;&#x6237;&#x5E94;&#x8BE5;&#x90FD;&#x77E5;&#x9053; unless &#x6761;&#x4EF6;&#xFF0C;&#x5176;&#x57FA;&#x672C;&#x4E0A;&#x4E0E; if &#x76F8;&#x53CD;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F; (!(expr)).<br> &#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x5982;&#x679C; disable-padding-override &#x662F; undefined &#x6216; false, padding &#x5C06;&#x88AB;&#x5E72;&#x6389;&#xFF0C;&#x663E;&#x793A; margin &#x4EE3;&#x66FF;&#x4E4B;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x662F; true, padding &#x5C06;&#x4F1A;&#x5982;&#x671F;&#x7EE7;&#x7EED;&#x8F93;&#x51FA; padding 5px 10px.</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">disable-<span class="attribute">padding</span>-override = true</span><br><span class="line"></span><br><span class="line">unless disable-<span class="attribute">padding</span>-override is defined and disable-<span class="attribute">padding</span>-override</span><br><span class="line">  <span class="function"><span class="title">padding</span><span class="params">(x, y)</span></span></span><br><span class="line">    <span class="attribute">margin</span> y x</span><br><span class="line"></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">5px</span> <span class="number">10px</span></span><br></pre></td></tr></table></figure>
<p>&#x540E;&#x7F00;&#x6761;&#x4EF6;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">negative</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="function"><span class="title">error</span><span class="params">(<span class="string">&apos;&#x65E0;&#x6548;&#x6570;&#x503C;&apos;</span>)</span></span> unless n is <span class="tag">a</span> <span class="string">&apos;unit&apos;</span></span><br><span class="line">  return yes <span class="keyword">if</span> n &lt; <span class="number">0</span></span><br><span class="line">  no</span><br></pre></td></tr></table></figure>
<h3 id="&#x9009;&#x62E9;&#x5668;">&#x9009;&#x62E9;&#x5668; </h3><p> &#x5B83;&#x7684;&#x4E66;&#x5199;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7F29;&#x8FDB;&#xFF0C;&#x7A7A;&#x683C;&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x5206;&#x9694;&#xFF08;&#x5192;&#x53F7;). &#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF08;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF0C;&#x6362;&#x884C;&#xFF09;&#x7B26;&#x6765;&#x4E3A;&#x591A;&#x4E2A;&#x9009;&#x62E9;&#x5668;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">color</span> white</span><br><span class="line"></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">color</span>: white</span><br><span class="line"></span><br><span class="line"><span class="tag">textarea</span>, <span class="tag">input</span></span><br><span class="line">  <span class="attribute">border</span> <span class="number">1px</span> solid <span class="hexcolor">#eee</span></span><br><span class="line"></span><br><span class="line"><span class="tag">textarea</span></span><br><span class="line"><span class="tag">input</span></span><br><span class="line">  <span class="attribute">border</span> <span class="number">1px</span> solid <span class="hexcolor">#eee</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x7236;&#x7EA7;&#x5F15;&#x7528;">&#x7236;&#x7EA7;&#x5F15;&#x7528; </h3><p> &#x5B57;&#x7B26; &amp; &#x6307;&#x5411;&#x7236;&#x9009;&#x62E9;&#x5668;&#x3002;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x4E24;&#x4E2A;&#x9009;&#x62E9;&#x5668; (textarea &#x548C; input) &#x5728;:hover &#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x5668;&#x4E0A;&#x90FD;&#x6539;&#x53D8;&#x4E86; color &#x503C;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">textarea</span></span><br><span class="line"><span class="tag">input</span></span><br><span class="line">  <span class="attribute">color</span> <span class="hexcolor">#A7A7A7</span></span><br><span class="line">  <span class="pseudo">&amp;:hover</span><br><span class="line"></span>    <span class="attribute">color</span> <span class="hexcolor">#000</span></span><br></pre></td></tr></table></figure>
<p>&#x7B49;&#x540C;&#x4E8E;&#xFF1A;</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">textarea</span>,</span><br><span class="line"><span class="tag">input</span> {</span><br><span class="line">  <span class="attribute">color</span>: <span class="hexcolor">#a7a7a7</span>;</span><br><span class="line">}</span><br><span class="line"><span class="tag">textarea</span><span class="pseudo">:hover</span>,</span><br><span class="line"><span class="tag">input</span><span class="pseudo">:hover</span> {</span><br><span class="line">  <span class="attribute">color</span>: <span class="hexcolor">#000</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="&#x53D8;&#x91CF;-variables"> &#x53D8;&#x91CF; (Variables)</h3><p> &#x5B83;&#x7684;&#x53D8;&#x91CF;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x540D;&#x5B57;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x6807;&#x8BC6;&#x7B26;&#xFF08;&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x51FD;&#x6570;&#x7B49;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x5305;&#x62EC; $ &#x5B57;&#x7B26;&#x8868;&#x793A;&#x90FD;&#x53EF;&#x4EE5;</p>
<p>&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#x540D;&#x4F7F;&#x7528;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-size</span> = <span class="number">14px</span></span><br><span class="line"></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">font</span> <span class="attribute">font-size</span> Arial, sans-seri</span><br></pre></td></tr></table></figure>
<p>&#x53D8;&#x91CF;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x5217;&#x8868;&#xFF1A;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-size</span> = <span class="number">14px</span></span><br><span class="line"><span class="attribute">font</span> = <span class="attribute">font-size</span> <span class="string">&quot;Lucida Grande&quot;</span>, Arial</span><br><span class="line"></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">font</span> <span class="attribute">font</span> sans-serif</span><br></pre></td></tr></table></figure>
<p>&#x5C5E;&#x6027;&#x67E5;&#x627E;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="id">#logo</span></span><br><span class="line"> <span class="attribute">position</span>: absolute</span><br><span class="line"> <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line"> <span class="attribute">left</span>: <span class="number">50%</span></span><br><span class="line"> <span class="attribute">width</span>: w = <span class="number">150px</span></span><br><span class="line"> <span class="attribute">height</span>: h = <span class="number">80px</span></span><br><span class="line"> <span class="attribute">margin-left</span>: -(w / <span class="number">2</span>)</span><br><span class="line"> <span class="attribute">margin-top</span>: -(h / <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>&#x4F7F;&#x7528; @ &#x5B57;&#x7B26;&#x5C5E;&#x6027;&#x67E5;&#x627E;</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="id">#logo</span></span><br><span class="line">  <span class="tag">position</span>: <span class="tag">absolute</span></span><br><span class="line">  <span class="tag">top</span>: <span class="tag">50%</span></span><br><span class="line">  <span class="tag">left</span>: <span class="tag">50%</span></span><br><span class="line">  <span class="tag">width</span>: <span class="tag">150px</span></span><br><span class="line">  <span class="tag">height</span>: <span class="tag">80px</span></span><br><span class="line">  <span class="tag">margin-left</span>: <span class="tag">-</span>(<span class="variable">@width</span> / <span class="number">2</span>)</span><br><span class="line">  <span class="tag">margin-top</span>: <span class="tag">-</span>(<span class="variable">@height</span> / <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>&#x5C5E;&#x6027;&#x4F1A;&#x201C;&#x5411;&#x4E0A;&#x5192;&#x6CE1;&#x201D;&#x67E5;&#x627E;&#x5806;&#x6808;&#x76F4;&#x5230;&#x88AB;&#x53D1;&#x73B0;&#xFF0C;&#x6216;&#x8005;&#x8FD4;&#x56DE; null&#xFF08;&#x5982;&#x679C;&#x5C5E;&#x6027;&#x641E;&#x4E0D;&#x5B9A;&#xFF09;&#x3002;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;@color &#x88AB;&#x5F04;&#x6210;&#x4E86; blue.</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">color</span>: red</span><br><span class="line">  <span class="tag">ul</span></span><br><span class="line">    <span class="tag">li</span></span><br><span class="line">      <span class="attribute">color</span>: blue</span><br><span class="line">      <span class="tag">a</span></span><br><span class="line">        <span class="attribute">background-color</span>: @<span class="attribute">color</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x63D2;&#x503C;-interpolation"> &#x63D2;&#x503C; (Interpolation)</h3><p>Stylus &#x652F;&#x6301;&#x901A;&#x8FC7;&#x4F7F;&#x7528;{} &#x5B57;&#x7B26;&#x5305;&#x56F4;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x63D2;&#x5165;&#x503C;&#xFF0C;&#x5176;&#x4F1A;&#x53D8;&#x6210;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x4F8B;&#x5982;&#xFF0C;-webkit-{&#x2018;border&#x2019; + &#x2018;-radius&#x2019;}&#x7B49;&#x540C;&#x4E8E; -webkit-border-radius.<br>&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x79C1;&#x6709;&#x524D;&#x7F00;&#x5C5E;&#x6027;&#x6269;&#x5C55;</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vendor(<span class="keyword">prop</span>, <span class="keyword">args</span>)</span><br><span class="line">  -webkit-{<span class="keyword">prop</span>} <span class="keyword">args</span></span><br><span class="line">  -moz-{<span class="keyword">prop</span>} <span class="keyword">args</span></span><br><span class="line">  {<span class="keyword">prop</span>} <span class="keyword">args</span></span><br><span class="line"></span><br><span class="line">border-radius()</span><br><span class="line">  vendor(&apos;border-radius&apos;, arguments)</span><br><span class="line"></span><br><span class="line">box-shadow()</span><br><span class="line">  vendor(&apos;box-shadow&apos;, arguments)</span><br><span class="line"></span><br><span class="line">button</span><br><span class="line">  border-radius 1px 2px / 3px 4px</span><br></pre></td></tr></table></figure>
<p>&#x53D8;&#x8EAB;&#xFF1A;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">button {</span><br><span class="line">  -webkit-border-radius: <span class="number">1</span>px <span class="number">2</span>px / <span class="number">3</span>px <span class="number">4</span>px;</span><br><span class="line">  -moz-border-radius: <span class="number">1</span>px <span class="number">2</span>px / <span class="number">3</span>px <span class="number">4</span>px;</span><br><span class="line">  border-radius: <span class="number">1</span>px <span class="number">2</span>px / <span class="number">3</span>px <span class="number">4</span>px;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x9009;&#x62E9;&#x5668;&#x63D2;&#x503C; <br> &#x63D2;&#x503C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x9009;&#x62E9;&#x5668;&#x4E0A;&#x8D77;&#x4F5C;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8868;&#x683C;&#x524D; 5 &#x884C;&#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">table</span><br><span class="line">  <span class="keyword">for</span> row in <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">    tr:nth-child({row})</span><br><span class="line">      height: <span class="number">10</span>px * row</span><br></pre></td></tr></table></figure>
<p>&#x4E5F;&#x5C31;&#x662F;&#xFF1A;</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">table</span> <span class="tag">tr</span><span class="pseudo">:nth-child</span>(<span class="number">1</span>) {</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="tag">table</span> <span class="tag">tr</span><span class="pseudo">:nth-child</span>(<span class="number">2</span>) {</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="tag">table</span> <span class="tag">tr</span><span class="pseudo">:nth-child</span>(<span class="number">3</span>) {</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="tag">table</span> <span class="tag">tr</span><span class="pseudo">:nth-child</span>(<span class="number">4</span>) {</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="tag">table</span> <span class="tag">tr</span><span class="pseudo">:nth-child</span>(<span class="number">5</span>) {</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="&#x8FD0;&#x7B97;&#x7B26;operators"> &#x8FD0;&#x7B97;&#x7B26;(Operators)</h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[]</span><br><span class="line">! ~ + -</span><br><span class="line">is defined</span><br><span class="line"><span class="bullet">** </span>* / %</span><br><span class="line">+ -</span><br><span class="line"><span class="bullet">... </span>..</span><br><span class="line">&lt;= &gt;= &lt; &gt;</span><br><span class="line">in</span><br><span class="line"><span class="header">== is != is not isnt</span></span><br><span class="line">is a</span><br><span class="line">&amp;&amp; and || or</span><br><span class="line">?:</span><br><span class="line"><span class="header">= := ?= += -= *= /= %=</span></span><br><span class="line">not</span><br><span class="line">if unless</span><br></pre></td></tr></table></figure>
<p>&#x8303;&#x56F4;.. &#x2026;<br>&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x5305;&#x542B;&#x754C;&#x7EBF;&#x64CD;&#x4F5C;&#x7B26; (..) &#x548C;&#x8303;&#x56F4;&#x64CD;&#x4F5C;&#x7B26;(&#x2026;)&#xFF0C;&#x89C1;&#x4E0B;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5305;&#x542B;&#x8FB9;&#x754C;</span></span><br><span class="line"><span class="number">1.</span><span class="number">.5</span></span><br><span class="line"><span class="comment">// =&gt; 1 2 3 4 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4E0D;&#x5305;&#x542B;&#x8FB9;&#x754C;</span></span><br><span class="line"><span class="number">1.</span>.<span class="number">.5</span></span><br><span class="line"><span class="comment">// =&gt; 1 2 3 4</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x65B9;&#x6CD5;-functions"> &#x65B9;&#x6CD5; (Functions)</h3><p> &#x51FD;&#x6570; <br>Stylus &#x5F3A;&#x5927;&#x4E4B;&#x5904;&#x5C31;&#x5728;&#x4E8E;&#x5176;&#x5185;&#x7F6E;&#x7684;&#x8BED;&#x8A00;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x3002;&#x5176;&#x5B9A;&#x4E49;&#x4E0E;&#x6DF7;&#x5165;(mixins) &#x4E00;&#x81F4;&#xFF1B;&#x5374;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">add</span><span class="params">(a, b)</span></span></span><br><span class="line">  <span class="tag">a</span> + b</span><br></pre></td></tr></table></figure>
<p>&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">body</span> </span><br><span class="line">  <span class="attribute">padding</span> <span class="function"><span class="title">add</span><span class="params">(<span class="number">10px</span>, <span class="number">5</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>&#x751F;&#x6210;<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">body</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure></p>
<p>&#x9ED8;&#x8BA4;&#x53C2;&#x6570;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">add</span><span class="params">(a, b = a)</span></span></span><br><span class="line">  <span class="tag">a</span> + <span class="tag">b</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">add</span><span class="params">(<span class="number">10</span>, <span class="number">5</span>)</span></span></span><br><span class="line"><span class="comment">// =&gt; 15</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">add</span><span class="params">(<span class="number">10</span>)</span></span></span><br><span class="line"><span class="comment">// =&gt; 20</span></span><br></pre></td></tr></table></figure>
<p>&#x51FD;&#x6570;&#x4F53; <br> &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x7B80;&#x5355;&#x7684; add()&#x65B9;&#x6CD5;&#x66F4;&#x8FDB;&#x4E00;&#x6B65;&#x3002;&#x901A;&#x8FC7;&#x5185;&#x7F6E; unit()&#x628A;&#x5355;&#x4F4D;&#x90FD;&#x53D8;&#x6210; px, &#x56E0;&#x4E3A;&#x8D4B;&#x503C;&#x5728;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x65E0;&#x89C6;&#x5355;&#x4F4D;&#x6362;&#x7B97;&#x3002;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">add</span><span class="params">(a, b = a)</span></span></span><br><span class="line">  <span class="tag">a</span> = <span class="function"><span class="title">unit</span><span class="params">(a, px)</span></span></span><br><span class="line">  <span class="tag">b</span> = <span class="function"><span class="title">unit</span><span class="params">(b, px)</span></span></span><br><span class="line">  <span class="tag">a</span> + <span class="tag">b</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">add</span><span class="params">(<span class="number">15%</span>, <span class="number">10deg</span>)</span></span></span><br><span class="line"><span class="comment">// =&gt; 25</span></span><br></pre></td></tr></table></figure>
<p>&#x5B9A;&#x4E49;&#x6570;&#x7EC4;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sizes = <span class="number">15</span>px <span class="number">10</span>px</span><br><span class="line"></span><br><span class="line">sizes[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// =&gt; 15px</span></span><br></pre></td></tr></table></figure>
<p>&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x6B67;&#x4E49;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF08;&#xFF09;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">sizes</span><span class="params">()</span></span></span><br><span class="line"> <span class="number">15px</span> <span class="number">10px</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">sizes</span><span class="params">()</span></span>[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// =&gt; 15px</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">swap</span><span class="params">(a, b)</span></span></span><br><span class="line">  (<span class="tag">b</span> a)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">swap</span><span class="params">(a, b)</span></span></span><br><span class="line">  return <span class="tag">b</span> a</span><br></pre></td></tr></table></figure>
<p>&#x522B;&#x540D;</p>
<p>&#x7ED9;&#x51FD;&#x6570;&#x8D77;&#x4E2A;&#x522B;&#x540D;&#xFF0C;&#x548C;&#x7B80;&#x5355;&#xFF0C;&#x76F4;&#x63A5;&#x7B49;&#x4E8E;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4F8B;&#x5982;&#x4E0A;&#x9762;&#x7684; add()&#x5F04;&#x4E2A;&#x522B;&#x540D; plus(), &#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plus = add</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">plus</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>)</span></span></span><br><span class="line"><span class="comment">// =&gt; 3</span></span><br></pre></td></tr></table></figure>
<p>&#x51FD;&#x6570;&#x4E00;&#x7B49;&#x516C;&#x6C11; <br> &#x5728;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F88;&#x597D;&#x7406;&#x89E3;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">invoke</span><span class="params">(a, b, fn)</span></span></span><br><span class="line">  <span class="function"><span class="title">fn</span><span class="params">(a, b)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">add</span><span class="params">(a, b)</span></span></span><br><span class="line">  <span class="tag">a</span> + <span class="tag">b</span></span><br><span class="line"></span><br><span class="line"><span class="tag">body</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="function"><span class="title">invoke</span><span class="params">(<span class="number">5</span>, <span class="number">10</span>, add)</span></span></span><br><span class="line">  <span class="attribute">padding</span> <span class="function"><span class="title">invoke</span><span class="params">(<span class="number">5</span>, <span class="number">10</span>, sub)</span></span></span><br></pre></td></tr></table></figure>
<p>&#x53C2;&#x6570;<br>arguments &#x662F;&#x6240;&#x6709;&#x51FD;&#x6570;&#x4F53;&#x90FD;&#x6709;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x5305;&#x542B;&#x4F20;&#x9012;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x3002;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">sum</span><span class="params">()</span></span></span><br><span class="line">  n = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> num <span class="keyword">in</span> arguments</span><br><span class="line">    n = n + num</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">sum</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span></span></span><br><span class="line"><span class="comment">// =&gt; 15</span></span><br></pre></td></tr></table></figure>
<h3 id="hash-&#x7ED3;&#x6784;">hash  &#x7ED3;&#x6784; </h3><p> &#x7ED9;&#x5B9A; hash , &#x548C; key, &#x5982;&#x679C;&#x5B58;&#x5728;&#x8FD4;&#x56DE; value</p>
<p>&#x6211;&#x4EEC;&#x5B9A;&#x4E49; get(hash, key)&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6765;&#x8FD4;&#x56DE; key &#x503C;&#x6216; null. &#x6211;&#x4EEC;&#x904D;&#x5386;&#x6BCF;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x5982;&#x679C;&#x952E;&#x503C;&#x5339;&#x914D;&#xFF0C;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">get(<span class="built_in">hash</span>, key)</span><br><span class="line">  <span class="built_in">return</span> pair[<span class="number">1</span>] <span class="keyword">if</span> pair[<span class="number">0</span>] == key <span class="keyword">for</span> pair <span class="keyword">in</span> <span class="built_in">hash</span></span><br><span class="line"></span><br><span class="line">//pair   &#x8FD9;&#x91CC;&#x7684; pair  &#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x5143;&#x7EC4; pair[<span class="number">1</span>] &#x8868;&#x793A; <span class="built_in">hash</span> &#x4E2D;&#x7684; value ,pair[<span class="number">0</span>] &#x8868;&#x793A;<span class="built_in">hash</span> &#x4E2D;&#x7684; key</span><br></pre></td></tr></table></figure></p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hash = <span class="list">(<span class="keyword">one</span> <span class="number">1</span>)</span> <span class="list">(<span class="keyword">two</span> <span class="number">2</span>)</span> <span class="list">(<span class="keyword">three</span> <span class="number">3</span>)</span></span><br><span class="line"></span><br><span class="line">get<span class="list">(<span class="keyword">hash</span>, two)</span></span><br><span class="line">// =&gt; <span class="number">2</span></span><br><span class="line"></span><br><span class="line">get<span class="list">(<span class="keyword">hash</span>, three)</span></span><br><span class="line">// =&gt; <span class="number">3</span></span><br><span class="line"></span><br><span class="line">get<span class="list">(<span class="keyword">hash</span>, something)</span></span><br><span class="line">// =&gt; null</span><br></pre></td></tr></table></figure>
<p><a href="https://learnboost.github.io/stylus/" target="_blank" rel="external">&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;https://learnboost.github.io/stylus/</a><br><a href="http://www.zhangxinxu.com/jq/stylus/" target="_blank" rel="external">&#x53C2;&#x8003;&#xFF1A; http://www.zhangxinxu.com/jq/stylus/</a><br><a href="http://learnboost.github.io/stylus/try.html" target="_blank" rel="external">&#x5728;&#x7EBF;&#x4F53;&#x9A8C;:http://learnboost.github.io/stylus/try.html</a></p>]]></content>
    <summary type="html">
    <![CDATA[<h3 id="前言">前言</h3><p>本来写这篇博客开始我是拒绝的。这个博客也是为了记录自己的成长经历和学习过程。我之前也用过很多博客，笔记。目前大部分内容都在我的为知笔记中。<br>搭建这个博客样式使用了stylus，所以在使用的过程中学习了一下。</p>]]>
    
    </summary>
    
      <category term="web" scheme="http://wwww.feel88.cn/tags/web/"/>
    
      <category term="前端样式框架" scheme="http://wwww.feel88.cn/tags/%E5%89%8D%E7%AB%AF%E6%A0%B7%E5%BC%8F%E6%A1%86%E6%9E%B6/"/>
    
      <category term="web" scheme="http://wwww.feel88.cn/categories/web/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[git 的使用]]></title>
    <link href="http://wwww.feel88.cn/2015/08/15/git%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://wwww.feel88.cn/2015/08/15/git的使用/</id>
    <published>2015-08-15T12:48:03.000Z</published>
    <updated>2016-01-26T06:56:43.000Z</updated>
    <content type="html"><![CDATA[<h2 id="&#x5220;&#x9664;&#x8FDC;&#x7A0B;&#x5206;&#x652F;">&#x5220;&#x9664;&#x8FDC;&#x7A0B;&#x5206;&#x652F;</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">branch </span>-r -d origin/<span class="keyword">branch-name</span><br><span class="line"></span><span class="label">git</span> <span class="keyword">push </span>origin :<span class="keyword">branch-name</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="git-merge">git merge</h2><p>You have not concluded your merge (MERGE_HEAD exists).<br>Please, commit your changes before you can merge.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="operator"><span class="keyword">merge</span> <span class="comment">--abort [Since git version 1.7.4]</span></span><br><span class="line"></span><br><span class="line">git <span class="keyword">reset</span> <span class="comment">--merge [prior git versions]</span></span></span><br></pre></td></tr></table></figure>
<h2 id="git-&#x4EE3;&#x7801;&#x8FC1;&#x79FB;">git  &#x4EE3;&#x7801;&#x8FC1;&#x79FB; </h2><p> &#x62C9;&#x53D6;&#x641C;&#x6709;&#x5206;&#x652F;&#x5230;&#x672C;&#x5730;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> branch <span class="keyword">in</span> `git branch <span class="operator">-a</span> | grep remotes | grep -v HEAD | grep -v master`; <span class="keyword">do</span></span><br><span class="line">    git branch --track <span class="variable">${branch##*/}</span> <span class="variable">$branch</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>&#x67E5;&#x770B;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5730;&#x5740;</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">git</span> remote -v</span><br></pre></td></tr></table></figure>
<p>&#x66FF;&#x6362;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5730;&#x5740;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="operator"><span class="keyword">set</span>-<span class="keyword">url</span> origin <span class="string">&quot;newurl&quot;</span></span></span><br></pre></td></tr></table></figure>
<p>&#x63A8;&#x9001;&#x6240;&#x6709;&#x5206;&#x652F;&#xFF0C;tag &#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push <span class="comment">--all</span></span><br><span class="line"></span><br><span class="line">git push  <span class="comment">--tags</span></span><br></pre></td></tr></table></figure>
<p>&#x4EE3;&#x7801;&#x51B2;&#x7A81;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="comment">-- others/report/reportallsendMail.sh</span></span><br><span class="line">git status</span><br><span class="line">git <span class="operator"><span class="keyword">merge</span> origin/<span class="keyword">master</span></span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="删除远程分支">删除远程分支</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">branch </span>-r -d origin/<span class="keyword">branch-name</span><br><span class="line"></span><span class="label">git</span> <span class="keyword">push </span>origin :<span class="keyword">branch-name</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="tool" scheme="http://wwww.feel88.cn/tags/tool/"/>
    
      <category term="tool" scheme="http://wwww.feel88.cn/categories/tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[CDH 安装初始化环境]]></title>
    <link href="http://wwww.feel88.cn/2015/08/15/CDH%E5%AE%89%E8%A3%85%E5%88%9D%E5%A7%8B%E5%8C%96%E7%8E%AF%E5%A2%83/"/>
    <id>http://wwww.feel88.cn/2015/08/15/CDH安装初始化环境/</id>
    <published>2015-08-14T17:54:57.000Z</published>
    <updated>2016-04-01T03:15:59.000Z</updated>
    <content type="html"><![CDATA[<h1 id="install-screen">install  screen</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> screen -y</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="init">init</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum  -y <span class="operator"><span class="keyword">install</span> python-devel python-pip libxslt-devel libxml2-devel gcc <span class="keyword">g</span>++ gcc-<span class="keyword">g</span>++</span><br><span class="line">yum -y <span class="keyword">install</span> tree</span><br><span class="line">yum <span class="keyword">install</span> -y python-pip</span><br><span class="line">pip <span class="keyword">install</span> lxml</span></span><br></pre></td></tr></table></figure>
<h1 id="install-httpd">install httpd</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="operator"><span class="keyword">install</span> httpd -y </span><br><span class="line">service httpd <span class="keyword">start</span></span><br><span class="line">chkconfig httpd <span class="keyword">on</span></span><br><span class="line">mkdir -<span class="keyword">p</span> /<span class="keyword">var</span>/www/html/cdh</span></span><br></pre></td></tr></table></figure>
<h1 id="dowload-cdh">dowload cdh</h1><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd  <span class="regexp">/var/</span>www<span class="regexp">/html/</span>cdh</span><br><span class="line">wget <span class="string">http:</span><span class="comment">//archive.cloudera.com/cdh5/parcels/latest/CDH-5.3.0-1.cdh5.3.0.p0.30-el6.parcel.sha1</span></span><br><span class="line">wget <span class="string">http:</span><span class="comment">//archive.cloudera.com/cdh5/parcels/latest/manifest.json</span></span><br><span class="line">wget <span class="string">http:</span><span class="comment">//archive.cloudera.com/cdh5/parcels/latest/CDH-5.3.0-1.cdh5.3.0.p0.30-el6.parcel</span></span><br></pre></td></tr></table></figure>
<h1 id="install-ntp">install ntp</h1><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install  -y ntpdate ntp</span><br><span class="line">service ntpd <span class="built_in">stop</span></span><br><span class="line">service ntpdate <span class="built_in">start</span></span><br><span class="line">chkconfig ntpdate <span class="command"><span class="keyword">on</span></span></span><br><span class="line">service ntpd <span class="built_in">stop</span> </span><br><span class="line">ntpdate asia.pool.ntp.org</span><br><span class="line"> &#x6700;&#x540E;&#x6267;&#x884C; </span><br><span class="line">service ntpd <span class="built_in">start</span></span><br><span class="line">chkconfig ntpd <span class="command"><span class="keyword">on</span></span></span><br></pre></td></tr></table></figure>
<h1 id="&#x8BBE;&#x7F6E;-swappiness"> &#x8BBE;&#x7F6E;  swappiness</h1><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="number">0</span> &gt;/<span class="keyword">proc</span>/sys/vm/swappiness </span><br><span class="line">vi /etc/sysctl.conf</span><br><span class="line">vm.swappiness=<span class="number">0</span></span><br></pre></td></tr></table></figure>
<h1 id="disabled-selinux">disabled  SELINUX</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed  -<span class="tag">i</span> <span class="string">&apos;s/SELINUX=enforcing/SELINUX=disabled/g&apos;</span> /etc/selinux/config</span><br><span class="line">sed  -<span class="tag">i</span> <span class="string">&apos;/SELINUX=disabled/s/^#*//&apos;</span>  /etc/selinux/config</span><br></pre></td></tr></table></figure>
<h1 id="stop-iptable">stop iptable</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service iptables <span class="operator"><span class="keyword">stop</span> </span><br><span class="line">service ip6tables <span class="keyword">stop</span></span><br><span class="line">chkconfig iptables <span class="keyword">off</span></span><br><span class="line">chkconfig ip6tables <span class="keyword">off</span></span></span><br></pre></td></tr></table></figure>
<h1 id="upgrade-openssl">upgrade openssl</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum upgrade openssl</span><br><span class="line">yum <span class="keyword">install</span> opensh-clients -y</span><br></pre></td></tr></table></figure>
<h1 id="mail-service">mail service</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/postconf | <span class="keyword">grep</span> inet_protocols</span><br><span class="line"># inet_protocols = <span class="keyword">all</span></span><br><span class="line"><span class="keyword">vi</span> /etc/postfix/main.<span class="keyword">cf</span></span><br><span class="line">sed  -<span class="keyword">i</span> <span class="string">&apos;s/inet_protocols = all/inet_protocols = ipv4/g&apos;</span> /etc/postfix/main.<span class="keyword">cf</span></span><br><span class="line">sed  -<span class="keyword">i</span> <span class="string">&apos;/inet_protocols = ipv4/s/^#*//&apos;</span>  /etc/postfix/main.<span class="keyword">cf</span></span><br></pre></td></tr></table></figure>
<h1 id="restart-postfix">restart postfix</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/<span class="keyword">init</span>.d/<span class="keyword">postfix</span> restart</span><br></pre></td></tr></table></figure>
<h1 id="download-mysql-driver-jar">download  mysql driver jar</h1><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt</span><br><span class="line">wget <span class="string">http:</span><span class="comment">//central.maven.org/maven2/mysql/mysql-connector-java/5.1.36/mysql-connector-java-5.1.36.jar</span></span><br></pre></td></tr></table></figure>
<h1 id="download-jdk">download jdk</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate --no-cookies --<span class="tag">header</span> <span class="string">&quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;</span> http:<span class="comment">//download.oracle.com/otn-pub/java/jdk/7u67-b01/jdk-7u67-linux-x64.tar.gz</span></span><br><span class="line">tar -zxvf *jdk*<span class="class">.tar</span><span class="class">.gz</span></span><br></pre></td></tr></table></figure>
<h1 id="download-cloudera-manager">download cloudera-manager</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//archive-primary.cloudera.com/cm5/cm/5/cloudera-manager-el6-cm5.3.0_x86_64.tar.gz</span></span><br><span class="line">tar -zxvf cloudera-manager*<span class="class">.tar</span><span class="class">.gz</span></span><br></pre></td></tr></table></figure>
<h1 id="install-mysql">install mysql</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">yum  -y <span class="operator"><span class="keyword">install</span>  mysql mysql-<span class="keyword">server</span> </span><br><span class="line">service mysqld restart</span><br><span class="line">chkconfig mysqld <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&apos;amon&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;amon&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&apos;hive&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;hive&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&apos;smon&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;smon&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&apos;rman&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;rman&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&apos;hmon&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;hmon&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&apos;nav&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;nav&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">password</span>=<span class="keyword">password</span>(<span class="string">&apos;root&apos;</span>)  <span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">&apos;root&apos;</span>;</span> <span class="operator"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">&apos;root&apos;</span>;</span> <span class="operator"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> hive <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> hive.* <span class="keyword">TO</span> <span class="string">&apos;hive&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;hive&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> amon <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> amon.* <span class="keyword">TO</span> <span class="string">&apos;amon&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;amon&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> smon <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> smon.* <span class="keyword">TO</span> <span class="string">&apos;smon&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;smon&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> rman <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> rman.* <span class="keyword">TO</span> <span class="string">&apos;rman&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;rman&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> hmon <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> hmon.* <span class="keyword">TO</span> <span class="string">&apos;hmon&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;hmon&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">nav</span> <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span></span><br><span class="line"><span class="operator"><span class="keyword">grant</span> all <span class="keyword">on</span> <span class="keyword">nav</span>.* <span class="keyword">TO</span> <span class="string">&apos;nav&apos;</span>@<span class="string">&apos;%&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;nav&apos;</span>;</span></span><br><span class="line"><span class="operator"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span></span><br><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure>
<h1 id="userdel-cloudera-scm">userdel cloudera-scm</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd --<span class="built_in">system</span> --home=/<span class="keyword">opt</span>/<span class="keyword">cm</span>-<span class="number">5.3</span>.<span class="number">0</span>/run/cloudera-scm-server --<span class="keyword">no</span>-create-home --<span class="keyword">shell</span>=/bin/false --comment <span class="string">&quot;Cloudera SCM User&quot;</span> cloudera-scm</span><br></pre></td></tr></table></figure>
<h1 id="modify-config-file">Modify config  file</h1><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="regexp">/opt/</span>cm-<span class="number">5.3</span><span class="number">.0</span><span class="regexp">/etc/</span>cloudera-scm-agent/config.ini</span><br><span class="line"><span class="regexp">/etc/</span>cloudera-scm-server/db.properties</span><br></pre></td></tr></table></figure>
<h2 id="for-example-only-modify-server_host">for example: only modify server_host</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[General]</span><br><span class="line"></span><br><span class="line"> <span class="number">2</span> <span class="preprocessor"># Hostname of the CM server.</span></span><br><span class="line"></span><br><span class="line"> <span class="number">3</span> server_host=yun4</span><br></pre></td></tr></table></figure>
<h2 id="copy-mysql-driver-jar">copy mysql driver jar</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp mysql-connector-java-<span class="number">5.1</span>.<span class="number">10</span>.jar cm-<span class="number">5.3</span>.<span class="number">0</span>/share/cmf/<span class="class"><span class="keyword">lib</span>/</span></span><br></pre></td></tr></table></figure>
<h1 id="install-coludera-manager-database">install  coludera manager database</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">opt</span>/<span class="keyword">cm</span>-<span class="number">5.3</span>.<span class="number">0</span>/share/cmf/schema/scm_prepare_database.<span class="keyword">sh</span> mysql databases -hlocalhost -uuser -ppassword --scm-host mccrea user password</span><br><span class="line"></span><br><span class="line">/<span class="keyword">opt</span>/<span class="keyword">cm</span>-<span class="number">5.3</span>.<span class="number">0</span>/share/cmf/schema/scm_prepare_database.<span class="keyword">sh</span> mysql hdp_cm -hlocalhost -ucm -padmin--scm-host mccrea <span class="keyword">cm</span> admin</span><br></pre></td></tr></table></figure>
<h1 id="copy-coludera-manage-to-node">copy coludera manage to node</h1><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r  /opt/cm-<span class="number">5.3</span>.<span class="number">0</span> root<span class="variable">@datanode1</span><span class="symbol">:/opt/cm-</span><span class="number">5.3</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>
<h1 id="start-server">start server</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/opt/cm-<span class="number">5.3</span><span class="number">.0</span>/etc/init.d/cloudera-scm-server start</span><br><span class="line"></span><br><span class="line">sudo /opt/cm-<span class="number">5.3</span><span class="number">.0</span>/etc/init.d/cloudera-scm-agent start</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="install_screen">install  screen</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> screen -y</span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="bigdata" scheme="http://wwww.feel88.cn/tags/bigtata/"/>
    
      <category term="bigdata" scheme="http://wwww.feel88.cn/categories/bigtata/"/>
    
  </entry>
  
</feed>
